(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["chunks/[root-of-the-server]__6ba75884._.js",28042,(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={},c={RequestCookies:()=>g,ResponseCookies:()=>m,parseCookie:()=>d,parseSetCookie:()=>f,stringifyCookie:()=>u};for(var l in c)n(s,l,{get:c[l],enumerable:!0});function u(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function f(e){if(!e)return;let[[t,r],...n]=d(e),{domain:i,expires:a,httponly:o,maxage:s,path:c,samesite:l,secure:u,partitioned:f,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var m,b,y={name:t,value:decodeURIComponent(r),domain:i,...a&&{expires:new Date(a)},...o&&{httpOnly:!0},..."string"==typeof s&&{maxAge:Number(s)},path:c,...l&&{sameSite:p.includes(m=(m=l).toLowerCase())?m:void 0},...u&&{secure:!0},...g&&{priority:h.includes(b=(b=g).toLowerCase())?b:void 0},...f&&{partitioned:!0}};let e={};for(let t in y)y[t]&&(e[t]=y[t]);return e}}t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of a(t))o.call(e,c)||c===r||n(e,c,{get:()=>t[c],enumerable:!(s=i(t,c))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var p=["strict","lax","none"],h=["low","medium","high"],g=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>u(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>u(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;const i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(const e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,o=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;c();)if(","===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}(i)){const t=f(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=u(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u).join("; ")}}},90044,e=>{"use strict";let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return n?new n:new r}function a(e){return n?n.bind(e):r.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}e.s(["bindSnapshot",()=>a,"createAsyncLocalStorage",()=>i,"createSnapshot",()=>o])},59110,(e,t,r)=>{(()=>{"use strict";let r,n,i,a,o;var s,c,l,u,d,f,p,h,g,m,b,y,w,_,v,x,E={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),o="context",s=new n.NoopContextManager;class c{static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(o)||s}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.ContextAPI=c},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),o=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,o.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,s,c;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let l=(0,o.getGlobal)("diag"),u=(0,i.createLogLevelDiagLogger)(null!=(s=r.logLevel)?s:a.DiagLogLevel.INFO,e);if(l&&!r.suppressOverrideMessage){let e=null!=(c=Error().stack)?c:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,o.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),o="metrics";class s{static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(o)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),o=r(277),s=r(369),c=r(930),l="propagation",u=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(l,e,c.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(l,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(l)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),o=r(607),s=r(930),c="trace";class l{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(c,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(c,s.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=l},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),o=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),o=i.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${o}`),c=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let o=c[s]=null!=(a=c[s])?a:{version:i.VERSION};if(!n&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(o.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return o[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=c[s])?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null==(r=c[s])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=c[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return o(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease||a.major!==s.major)return o(e);if(0===a.major)return a.minor===s.minor&&a.patch<=s.patch?(t.add(e),!0):o(e);return a.minor<=s.minor?(t.add(e),!0):o(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class o extends n{record(e,t){}}t.NoopHistogramMetric=o;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class c extends s{}t.NoopObservableCounterMetric=c;class l extends s{}t.NoopObservableGaugeMetric=l;class u extends s{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new c,t.NOOP_OBSERVABLE_GAUGE_METRIC=new l,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),o=r(139),s=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=s.active()){var n;if(null==t?void 0:t.root)return new a.NonRecordingSpan;let c=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=c)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.isSpanContextValid)(c)?new a.NonRecordingSpan(c):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,o,c;if(arguments.length<2)return;2==arguments.length?c=t:3==arguments.length?(a=t,c=r):(a=t,o=r,c=n);let l=null!=o?o:s.active(),u=this.startSpan(e,a,l),d=(0,i.setSpan)(l,u);return s.with(d,c,void 0,u)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),o=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(o)||void 0}function c(e,t){return e.setValue(o,t)}t.getSpan=s,t.getActiveSpan=function(){return s(a.ContextAPI.getInstance().active())},t.setSpan=c,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return c(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=s(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let a=r.slice(0,i),o=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(o)&&e.set(a,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return o.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function s(e){return a.test(e)&&e!==n.INVALID_TRACEID}function c(e){return o.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=c,t.isSpanContextValid=function(e){return s(e.traceId)&&c(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},S={};function k(e){var t=S[e];if(void 0!==t)return t.exports;var r=S[e]={exports:{}},n=!0;try{E[e].call(r.exports,r,r.exports,k),n=!1}finally{n&&delete S[e]}return r.exports}k.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.trace=T.propagation=T.metrics=T.diag=T.context=T.INVALID_SPAN_CONTEXT=T.INVALID_TRACEID=T.INVALID_SPANID=T.isValidSpanId=T.isValidTraceId=T.isSpanContextValid=T.createTraceState=T.TraceFlags=T.SpanStatusCode=T.SpanKind=T.SamplingDecision=T.ProxyTracerProvider=T.ProxyTracer=T.defaultTextMapSetter=T.defaultTextMapGetter=T.ValueType=T.createNoopMeter=T.DiagLogLevel=T.DiagConsoleLogger=T.ROOT_CONTEXT=T.createContextKey=T.baggageEntryMetadataFromString=void 0,s=k(369),Object.defineProperty(T,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return s.baggageEntryMetadataFromString}}),c=k(780),Object.defineProperty(T,"createContextKey",{enumerable:!0,get:function(){return c.createContextKey}}),Object.defineProperty(T,"ROOT_CONTEXT",{enumerable:!0,get:function(){return c.ROOT_CONTEXT}}),l=k(972),Object.defineProperty(T,"DiagConsoleLogger",{enumerable:!0,get:function(){return l.DiagConsoleLogger}}),u=k(957),Object.defineProperty(T,"DiagLogLevel",{enumerable:!0,get:function(){return u.DiagLogLevel}}),d=k(102),Object.defineProperty(T,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),f=k(901),Object.defineProperty(T,"ValueType",{enumerable:!0,get:function(){return f.ValueType}}),p=k(194),Object.defineProperty(T,"defaultTextMapGetter",{enumerable:!0,get:function(){return p.defaultTextMapGetter}}),Object.defineProperty(T,"defaultTextMapSetter",{enumerable:!0,get:function(){return p.defaultTextMapSetter}}),h=k(125),Object.defineProperty(T,"ProxyTracer",{enumerable:!0,get:function(){return h.ProxyTracer}}),g=k(846),Object.defineProperty(T,"ProxyTracerProvider",{enumerable:!0,get:function(){return g.ProxyTracerProvider}}),m=k(996),Object.defineProperty(T,"SamplingDecision",{enumerable:!0,get:function(){return m.SamplingDecision}}),b=k(357),Object.defineProperty(T,"SpanKind",{enumerable:!0,get:function(){return b.SpanKind}}),y=k(847),Object.defineProperty(T,"SpanStatusCode",{enumerable:!0,get:function(){return y.SpanStatusCode}}),w=k(475),Object.defineProperty(T,"TraceFlags",{enumerable:!0,get:function(){return w.TraceFlags}}),_=k(98),Object.defineProperty(T,"createTraceState",{enumerable:!0,get:function(){return _.createTraceState}}),v=k(139),Object.defineProperty(T,"isSpanContextValid",{enumerable:!0,get:function(){return v.isSpanContextValid}}),Object.defineProperty(T,"isValidTraceId",{enumerable:!0,get:function(){return v.isValidTraceId}}),Object.defineProperty(T,"isValidSpanId",{enumerable:!0,get:function(){return v.isValidSpanId}}),x=k(476),Object.defineProperty(T,"INVALID_SPANID",{enumerable:!0,get:function(){return x.INVALID_SPANID}}),Object.defineProperty(T,"INVALID_TRACEID",{enumerable:!0,get:function(){return x.INVALID_TRACEID}}),Object.defineProperty(T,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return x.INVALID_SPAN_CONTEXT}}),r=k(67),Object.defineProperty(T,"context",{enumerable:!0,get:function(){return r.context}}),n=k(506),Object.defineProperty(T,"diag",{enumerable:!0,get:function(){return n.diag}}),i=k(886),Object.defineProperty(T,"metrics",{enumerable:!0,get:function(){return i.metrics}}),a=k(939),Object.defineProperty(T,"propagation",{enumerable:!0,get:function(){return a.propagation}}),o=k(845),Object.defineProperty(T,"trace",{enumerable:!0,get:function(){return o.trace}}),T.default={context:r.context,diag:n.diag,metrics:i.metrics,propagation:a.propagation,trace:o.trace},t.exports=T})()},71498,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,n,i,a={};a.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},a=t.split(n),o=(r||{}).decode||e,s=0;s<a.length;s++){var c=a[s],l=c.indexOf("=");if(!(l<0)){var u=c.substr(0,l).trim(),d=c.substr(++l,c.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[u]&&(i[u]=function(e,t){try{return t(e)}catch(t){return e}}(d,o))}}return i},a.serialize=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var s=o(t);if(s&&!i.test(s))throw TypeError("argument val is invalid");var c=e+"="+s;if(null!=a.maxAge){var l=a.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(a.domain){if(!i.test(a.domain))throw TypeError("option domain is invalid");c+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw TypeError("option path is invalid");c+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c},e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=a})()},99734,(e,t,r)=>{(()=>{"use strict";let e,r,n,i,a;var o={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,o){if("function"!=typeof n)throw TypeError("The listener must be a function");var s=new i(n,a||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=Array(a);i<a;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,o),!0}for(l=1,c=Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(f=1,c=Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,a);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[a]=1===l.length?l[0]:l:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){let a=i/2|0,o=n+a;0>=r(e[o],t)?(n=++o,i-=a+1):i=a}return n}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=r(574);t.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},816:(e,t,r)=>{let n=r(213);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let a=(e,t,r)=>new Promise((a,o)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void a(e);let s=setTimeout(()=>{if("function"==typeof r){try{a(r())}catch(e){o(e)}return}let n="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,s=r instanceof Error?r:new i(n);"function"==typeof e.cancel&&e.cancel(),o(s)},t);n(e.then(a,o),()=>{clearTimeout(s)})});e.exports=a,e.exports.default=a,e.exports.TimeoutError=i}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},n=!0;try{o[e](r,r.exports,c),n=!1}finally{n&&delete s[e]}return r.exports}c.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var l={};Object.defineProperty(l,"__esModule",{value:!0}),e=c(993),r=c(816),n=c(821),i=()=>{},a=new r.TimeoutError,l.default=class extends e{constructor(e){var t,r,a,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(r=null==(t=e.intervalCap)?void 0:t.toString())?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(o=null==(a=e.interval)?void 0:a.toString())?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let o=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(a)});n(await o)}catch(e){i(e)}this._next()};this._queue.enqueue(o,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}},t.exports=l})()},51615,(e,t,r)=>{t.exports=e.x("node:buffer",()=>require("node:buffer"))},78500,(e,t,r)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},25085,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getTestReqInfo:function(){return c},withRequest:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=new(e.r(78500)).AsyncLocalStorage;function o(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let n=t.url(e);return{url:n,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let n=o(e,t);return n?a.run(n,r):r()}function c(e,t){let r=a.getStore();return r||(e&&t?o(e,t):void 0)}},28325,(e,t,r)=>{"use strict";var n=e.i(51615);Object.defineProperty(r,"__esModule",{value:!0});var i={handleFetch:function(){return l},interceptFetch:function(){return u},reader:function(){return s}};for(var a in i)Object.defineProperty(r,a,{enumerable:!0,get:i[a]});let o=e.r(25085),s={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function c(e,t){let{url:r,method:i,headers:a,body:o,cache:s,credentials:c,integrity:l,mode:u,redirect:d,referrer:f,referrerPolicy:p}=t;return{testData:e,api:"fetch",request:{url:r,method:i,headers:[...Array.from(a),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:o?n.Buffer.from(await t.arrayBuffer()).toString("base64"):null,cache:s,credentials:c,integrity:l,mode:u,redirect:d,referrer:f,referrerPolicy:p}}}async function l(e,t){let r=(0,o.getTestReqInfo)(t,s);if(!r)return e(t);let{testData:i,proxyPort:a}=r,l=await c(i,t),u=await e(`http://localhost:${a}`,{method:"POST",body:JSON.stringify(l),next:{internal:!0}});if(!u.ok)throw Object.defineProperty(Error(`Proxy request failed: ${u.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let d=await u.json(),{api:f}=d;switch(f){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(e){let{status:t,headers:r,body:i}=e.response;return new Response(i?n.Buffer.from(i,"base64"):null,{status:t,headers:new Headers(r)})}(d);default:return f}}function u(t){return e.g.fetch=function(e,r){var n;return(null==r||null==(n=r.next)?void 0:n.internal)?t(e,r):l(t,new Request(e,r))},()=>{e.g.fetch=t}}},94165,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={interceptTestApis:function(){return s},wrapRequestHandler:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(25085),o=e.r(28325);function s(){return(0,o.interceptFetch)(e.g.fetch)}function c(e){return(t,r)=>(0,a.withRequest)(t,o.reader,()=>e(t,r))}},64445,(e,t,r)=>{var n={226:function(t,r){!function(n,i){"use strict";var a="function",o="undefined",s="object",c="string",l="major",u="model",d="name",f="type",p="vendor",h="version",g="architecture",m="console",b="mobile",y="tablet",w="smarttv",_="wearable",v="embedded",x="Amazon",E="Apple",S="ASUS",k="BlackBerry",T="Browser",A="Chrome",P="Firefox",R="Google",O="Huawei",C="Microsoft",I="Motorola",N="Opera",D="Samsung",$="Sharp",U="Sony",j="Xiaomi",M="Zebra",L="Facebook",q="Chromium OS",H="Mac OS",V=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},F=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===c&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,350)},J=function(e,t){for(var r,n,i,o,c,l,u=0;u<t.length&&!c;){var d=t[u],f=t[u+1];for(r=n=0;r<d.length&&!c&&d[r];)if(c=d[r++].exec(e))for(i=0;i<f.length;i++)l=c[++n],typeof(o=f[i])===s&&o.length>0?2===o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3===o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):void 0:this[o[0]]=l?o[1].call(this,l,o[2]):void 0:4===o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):void 0):this[o]=l||void 0;u+=2}},G=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(W(t[r][n],e))return"?"===r?void 0:r}else if(W(t[r],e))return"?"===r?void 0:r;return e},z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,h],[/opios[\/ ]+([\w\.]+)/i],[h,[d,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[h,[d,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[d,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[h,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+T],h],[/\bfocus\/([\w\.]+)/i],[h,[d,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[d,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[d,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[d,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[h,[d,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+T],h],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,L],h],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[d,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,A+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[d,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[h,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[d,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,h],[/(cobalt)\/([\w\.]+)/i],[d,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,B]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,D],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,D],[f,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[p,E],[f,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,E],[f,y]],[/(macintosh);/i],[u,[p,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,$],[f,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,O],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,O],[f,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,j],[f,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,j],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[f,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[f,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[f,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,I],[f,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,I],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,"LG"],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,"LG"],[f,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[f,b]],[/(pixel c)\b/i],[u,[p,R],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,R],[f,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,U],[f,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,U],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[f,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,x],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,x],[f,b]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,k],[f,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,S],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,S],[f,b]],[/(nexus 9)/i],[u,[p,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[f,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[f,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[f,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[f,y]],[/(surface duo)/i],[u,[p,C],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[f,b]],[/(u304aa)/i],[u,[p,"AT&T"],[f,b]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[f,b]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[f,y]],[/\b(k88) b/i],[u,[p,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[f,b]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[f,b]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[f,y]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[f,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[f,b]],[/\b(ph-1) /i],[u,[p,"Essential"],[f,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[p,u,[f,b]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,C],[f,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,M],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,M],[f,b]],[/smart-tv.+(samsung)/i],[p,[f,w]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,D],[f,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[f,w]],[/(apple) ?tv/i],[p,[u,E+" TV"],[f,w]],[/crkey/i],[[u,A+"cast"],[p,R],[f,w]],[/droid.+aft(\w)( bui|\))/i],[u,[p,x],[f,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,$],[f,w]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,U],[f,w]],[/(mitv-\w{5}) bui/i],[u,[p,j],[f,w]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[f,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,K],[u,K],[f,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[f,m]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[f,m]],[/(playstation [345portablevi]+)/i],[u,[p,U],[f,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,C],[f,m]],[/((pebble))app/i],[p,u,[f,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,E],[f,_]],[/droid.+; (glass) \d/i],[u,[p,R],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,M],[f,_]],[/(quest( 2| pro)?)/i],[u,[p,L],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,v]],[/(aeobc)\b/i],[u,[p,x],[f,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[f,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,b]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[h,G,z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[h,G,z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,H],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,h],[/\(bb(10);/i],[h,[d,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[d,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[d,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,q],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,h],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,h]]},Q=function(e,t){if(typeof e===s&&(t=e,e=void 0),!(this instanceof Q))return new Q(e,t).getResult();var r=typeof n!==o&&n.navigator?n.navigator:void 0,i=e||(r&&r.userAgent?r.userAgent:""),m=r&&r.userAgentData?r.userAgentData:void 0,w=t?V(X,t):X,_=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[d]=void 0,t[h]=void 0,J.call(t,i,w.browser),t[l]=typeof(e=t[h])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,_&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=void 0,J.call(e,i,w.cpu),e},this.getDevice=function(){var e={};return e[p]=void 0,e[u]=void 0,e[f]=void 0,J.call(e,i,w.device),_&&!e[f]&&m&&m.mobile&&(e[f]=b),_&&"Macintosh"==e[u]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[u]="iPad",e[f]=y),e},this.getEngine=function(){var e={};return e[d]=void 0,e[h]=void 0,J.call(e,i,w.engine),e},this.getOS=function(){var e={};return e[d]=void 0,e[h]=void 0,J.call(e,i,w.os),_&&!e[d]&&m&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,q).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>350?K(e,350):e,this},this.setUA(i),this};if(Q.VERSION="1.0.35",Q.BROWSER=F([d,h,l]),Q.CPU=F([g]),Q.DEVICE=F([u,p,f,m,b,w,y,_,v]),Q.ENGINE=Q.OS=F([d,h]),typeof r!==o)t.exports&&(r=t.exports=Q),r.UAParser=Q;else if(typeof define===a&&define.amd)e.r,void 0!==Q&&e.v(Q);else typeof n!==o&&(n.UAParser=Q);var Y=typeof n!==o&&(n.jQuery||n.Zepto);if(Y&&!Y.ua){var Z=new Q;Y.ua=Z.getResult(),Y.ua.get=function(){return Z.getUA()},Y.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)Y.ua[r]=t[r]}}}(this)}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},o=!0;try{n[e].call(r.exports,r,r.exports,a),o=!1}finally{o&&delete i[e]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=a(226)},8946,(e,t,r)=>{"use strict";var n={H:null,A:null};function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Array.isArray;function o(){}var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.for("react.view_transition"),y=Symbol.iterator,w=Object.prototype.hasOwnProperty,_=Object.assign;function v(e,t,r){var n=r.ref;return{$$typeof:s,type:e,key:t,ref:void 0!==n?n:null,props:r}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var E=/\/+/g;function S(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function k(e,t,r){if(null==e)return e;var n=[],l=0;return!function e(t,r,n,l,u){var d,f,p,h=typeof t;("undefined"===h||"boolean"===h)&&(t=null);var m=!1;if(null===t)m=!0;else switch(h){case"bigint":case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case s:case c:m=!0;break;case g:return e((m=t._init)(t._payload),r,n,l,u)}}if(m)return u=u(t),m=""===l?"."+S(t,0):l,a(u)?(n="",null!=m&&(n=m.replace(E,"$&/")+"/"),e(u,r,n,"",function(e){return e})):null!=u&&(x(u)&&(d=u,f=n+(null==u.key||t&&t.key===u.key?"":(""+u.key).replace(E,"$&/")+"/")+m,u=v(d.type,f,d.props)),r.push(u)),1;m=0;var b=""===l?".":l+":";if(a(t))for(var w=0;w<t.length;w++)h=b+S(l=t[w],w),m+=e(l,r,n,h,u);else if("function"==typeof(w=null===(p=t)||"object"!=typeof p?null:"function"==typeof(p=y&&p[y]||p["@@iterator"])?p:null))for(t=w.call(t),w=0;!(l=t.next()).done;)h=b+S(l=l.value,w++),m+=e(l,r,n,h,u);else if("object"===h){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(o,o):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,l,u);throw Error(i(31,"[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r))}return m}(e,n,"","",function(e){return t.call(r,e,l++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function A(){return new WeakMap}function P(){return{s:0,v:void 0,o:null,p:null}}r.Activity=m,r.Children={map:k,forEach:function(e,t,r){k(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error(i(143));return e}},r.Fragment=l,r.Profiler=d,r.StrictMode=u,r.Suspense=p,r.ViewTransition=b,r.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,r.cache=function(e){return function(){var t=n.A;if(!t)return e.apply(null,arguments);var r=t.getCacheForType(A);void 0===(t=r.get(e))&&(t=P(),r.set(e,t)),r=0;for(var i=arguments.length;r<i;r++){var a=arguments[r];if("function"==typeof a||"object"==typeof a&&null!==a){var o=t.o;null===o&&(t.o=o=new WeakMap),void 0===(t=o.get(a))&&(t=P(),o.set(a,t))}else null===(o=t.p)&&(t.p=o=new Map),void 0===(t=o.get(a))&&(t=P(),o.set(a,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var s=e.apply(null,arguments);return(r=t).s=1,r.v=s}catch(e){throw(s=t).s=2,s.v=e,e}}},r.cacheSignal=function(){var e=n.A;return e?e.cacheSignal():null},r.captureOwnerStack=function(){return null},r.cloneElement=function(e,t,r){if(null==e)throw Error(i(267,e));var n=_({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&("ref"!==o||void 0!==t.ref)&&(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];n.children=s}return v(e.type,a,n)},r.createElement=function(e,t,r){var n,i={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)w.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return v(e,a,i)},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:f,render:e}},r.isValidElement=x,r.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:T}},r.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},r.use=function(e){return n.H.use(e)},r.useCallback=function(e,t){return n.H.useCallback(e,t)},r.useDebugValue=function(){},r.useId=function(){return n.H.useId()},r.useMemo=function(e,t){return n.H.useMemo(e,t)},r.version="19.3.0-canary-f93b9fd4-20251217"},40049,(e,t,r)=>{"use strict";t.exports=e.r(8946)},91375,e=>{"use strict";let t=(0,e.i(90044).createAsyncLocalStorage)();e.s([],92999),e.i(92999),e.s(["actionAsyncStorage",0,t],91375)},24628,46478,7754,9939,25753,53835,18368,80082,51564,81828,63072,16852,75982,68585,96588,e=>{"use strict";let t="next-router-prefetch",r=["rsc","next-router-state-tree",t,"next-hmr-refresh","next-router-segment-prefetch"];e.s(["FLIGHT_HEADERS",0,r,"NEXT_REWRITTEN_PATH_HEADER",0,"x-nextjs-rewritten-path","NEXT_REWRITTEN_QUERY_HEADER",0,"x-nextjs-rewritten-query","NEXT_ROUTER_PREFETCH_HEADER",0,t,"NEXT_RSC_UNION_QUERY",0,"_rsc","RSC_HEADER",0,"rsc"],24628);var n,i,a=e.i(90044);let o=(0,a.createAsyncLocalStorage)();e.s(["workAsyncStorageInstance",0,o],46478),e.s([],7754);let s=(0,a.createAsyncLocalStorage)();e.s(["workUnitAsyncStorageInstance",0,s],9939);class c extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}function l(e){throw Object.defineProperty(Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}e.s(["InvariantError",()=>c],25753),e.s(["throwForMissingRequestStore",()=>l],53835);var u=e.i(40049);let d="DYNAMIC_SERVER_USAGE";class f extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=d}}function p(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===d}e.s(["DynamicServerError",()=>f,"isDynamicServerError",()=>p],18368);class h extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}function g(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===m}e.s(["StaticGenBailoutError",()=>h],80082);let m="HANGING_PROMISE_REJECTION";class b extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=m}}let y=new WeakMap;function w(e,t,r){if(e.aborted)return Promise.reject(new b(t,r));{let n=new Promise((n,i)=>{let a=i.bind(null,new b(t,r)),o=y.get(e);if(o)o.push(a);else{let t=[a];y.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(_),n}}function _(){}function v(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}function x(e){return"object"==typeof e&&null!==e&&"digest"in e&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===e.digest}e.s(["isHangingPromiseRejectionError",()=>g,"makeDevtoolsIOAwarePromise",()=>v,"makeHangingPromise",()=>w],51564),e.s(["isBailoutToCSRError",()=>x],81828);let E="function"==typeof u.default.unstable_postpone;function S(e,t,r){let n=Object.defineProperty(new f(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function k(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function T(e,t,r,n){if(!1===n.controller.signal.aborted){let i,a;i=I(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`),n.controller.abort(i),(a=n.dynamicTracking)&&a.dynamicAccesses.push({stack:a.isDebugDynamicAccesses?Error().stack:void 0,expression:t});let o=n.dynamicTracking;o&&null===o.syncDynamicErrorWithStack&&(o.syncDynamicErrorWithStack=r)}throw I(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function A(e,t,r){(function(){if(!E)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),u.default.unstable_postpone(P(e,t))}function P(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function R(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&O(e.message)}function O(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===O(P("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let C="NEXT_PRERENDER_INTERRUPTED";function I(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=C,t}function N(e){return"object"==typeof e&&null!==e&&e.digest===C&&"name"in e&&"message"in e&&e instanceof Error}function D(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`),e.s(["abortAndThrowOnSynchronousRequestDataAccess",()=>T,"delayUntilRuntimeStage",()=>D,"isDynamicPostpone",()=>R,"isPrerenderInterruptedError",()=>N,"postponeWithTracking",()=>A,"throwToInterruptStaticGeneration",()=>S,"trackDynamicDataInDynamicRender",()=>k],63072);var $=((n={})[n.SeeOther=303]="SeeOther",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n);e.s(["RedirectStatusCode",()=>$],16852);let U="NEXT_REDIRECT";var j=((i={}).push="push",i.replace="replace",i);function M(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,i=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===U&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(a)&&a in $}e.s(["REDIRECT_ERROR_CODE",0,U,"RedirectType",()=>j,"isRedirectError",()=>M],75982);let L=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),q="NEXT_HTTP_ERROR_FALLBACK";function H(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===q&&L.has(Number(r))}function V(e){return M(e)||H(e)}e.s(["HTTP_ERROR_FALLBACK_ERROR_CODE",0,q,"isHTTPAccessFallbackError",()=>H],68585),e.s(["isNextRouterError",()=>V],96588)},82748,e=>{"use strict";var t=e.i(51564);let r=Symbol.for("react.postpone");var n=e.i(81828),i=e.i(96588),a=e.i(63072),o=e.i(18368);e.s(["unstable_rethrow",()=>function e(s){if((0,i.isNextRouterError)(s)||(0,n.isBailoutToCSRError)(s)||(0,o.isDynamicServerError)(s)||(0,a.isDynamicPostpone)(s)||"object"==typeof s&&null!==s&&s.$$typeof===r||(0,t.isHangingPromiseRejectionError)(s)||(0,a.isPrerenderInterruptedError)(s))throw s;s instanceof Error&&"cause"in s&&e(s.cause)}],82748)},90894,(e,t,r)=>{e.n(__import_unsupported("crypto"))},12438,(e,t,r)=>{!function(r,n){if("function"==typeof define&&define.amd){let t;void 0!==(t=n())&&e.v(t)}else t&&t.exports?t.exports=n():(r.dcodeIO=r.dcodeIO||{}).bcrypt=n()}(e.e,function(){"use strict";var r,n={},i=null;function a(r){if(t&&t.exports)try{return e.r(90894).randomBytes(r)}catch(e){}try{var n;return(self.crypto||self.msCrypto).getRandomValues(n=new Uint32Array(r)),Array.prototype.slice.call(n)}catch(e){}if(!i)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return i(r)}try{a(1)}catch(e){}function o(e,t){for(var r=0,n=0,i=0,a=e.length;i<a;++i)e.charCodeAt(i)===t.charCodeAt(i)?++r:++n;return!(r<0)&&0===n}i=null,n.setRandomFallback=function(e){i=e},n.genSaltSync=function(e,t){if("number"!=typeof(e=e||g))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2a$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(d(a(h),h)),r.join("")},n.genSalt=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e=void 0),void 0===e)e=g;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function i(t){s(function(){try{t(null,n.genSaltSync(e))}catch(e){t(e)}})}if(!r)return new Promise(function(e,t){i(function(r,n){r?t(r):e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);i(r)},n.hashSync=function(e,t){if(void 0===t&&(t=g),"number"==typeof t&&(t=n.genSaltSync(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return E(e,t)},n.hash=function(e,t,r,i){function a(r){"string"==typeof e&&"number"==typeof t?n.genSalt(t,function(t,n){E(e,n,r,i)}):"string"==typeof e&&"string"==typeof t?E(e,t,r,i):s(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!r)return new Promise(function(e,t){a(function(r,n){r?t(r):e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);a(r)},n.compareSync=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&o(n.hashSync(e,t.substr(0,t.length-31)),t)},n.compare=function(e,t,r,i){function a(r){"string"!=typeof e||"string"!=typeof t?s(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t))):60!==t.length?s(r.bind(this,null,!1)):n.hash(e,t.substr(0,29),function(e,n){e?r(e):r(null,o(n,t))},i)}if(!r)return new Promise(function(e,t){a(function(r,n){r?t(r):e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);a(r)},n.getRounds=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},n.getSalt=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)};var s="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],u=String.fromCharCode;function d(e,t){var r,n,i=0,a=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(r=255&e[i++],a.push(c[r>>2&63]),r=(3&r)<<4,i>=t||(r|=(n=255&e[i++])>>4&15,a.push(c[63&r]),r=(15&n)<<2,i>=t)){a.push(c[63&r]);break}r|=(n=255&e[i++])>>6&3,a.push(c[63&r]),a.push(c[63&n])}return a.join("")}function f(e,t){var r,n,i,a,o,s=0,c=e.length,d=0,f=[];if(t<=0)throw Error("Illegal len: "+t);for(;s<c-1&&d<t&&(r=(o=e.charCodeAt(s++))<l.length?l[o]:-1,n=(o=e.charCodeAt(s++))<l.length?l[o]:-1,-1!=r&&-1!=n)&&(a=r<<2>>>0|(48&n)>>4,f.push(u(a)),!(++d>=t||s>=c||-1==(i=(o=e.charCodeAt(s++))<l.length?l[o]:-1)||(a=(15&n)<<4>>>0|(60&i)>>2,f.push(u(a)),++d>=t||s>=c)));){;a=(3&i)<<6>>>0|((o=e.charCodeAt(s++))<l.length?l[o]:-1),f.push(u(a)),++d}var p=[];for(s=0;s<d;s++)p.push(f[s].charCodeAt(0));return p}var p=((r={}).MAX_CODEPOINT=1114111,r.encodeUTF8=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},r.decodeUTF8=function(e,t){for(var r,n,i,a,o=function(e){var t=Error((e=e.slice(0,e.indexOf(null))).toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if((128&r)==0)t(r);else if((224&r)==192)null===(n=e())&&o([r,n]),t((31&r)<<6|63&n);else if((240&r)==224)(null===(n=e())||null===(i=e()))&&o([r,n,i]),t((15&r)<<12|(63&n)<<6|63&i);else if((248&r)==240)(null===(n=e())||null===(i=e())||null===(a=e()))&&o([r,n,i,a]),t((7&r)<<18|(63&n)<<12|(63&i)<<6|63&a);else throw RangeError("Illegal starting byte: "+r)},r.UTF16toUTF8=function(e,t){for(var r,n=null;null!==(r=null!==n?n:e());){if(r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343){t((r-55296)*1024+n-56320+65536),n=null;continue}t(r)}null!==n&&t(n)},r.UTF8toUTF16=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(((r-=65536)>>10)+55296),t(r%1024+56320)),r=null},r.encodeUTF16toUTF8=function(e,t){r.UTF16toUTF8(e,function(e){r.encodeUTF8(e,t)})},r.decodeUTF8toUTF16=function(e,t){r.decodeUTF8(e,function(e){r.UTF8toUTF16(e,t)})},r.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},r.calculateUTF8=function(e){for(var t,n=0;null!==(t=e());)n+=r.calculateCodePoint(t);return n},r.calculateUTF16asUTF8=function(e){var t=0,n=0;return r.UTF16toUTF8(e,function(e){++t,n+=r.calculateCodePoint(e)}),[t,n]},r);Date.now=Date.now||function(){return+new Date};var h=16,g=10,m=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],b=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],y=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function w(e,t,r,n){var i=e[t],a=e[t+1];return i^=r[0],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[1],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[2],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[3],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[4],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[5],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[6],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[7],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[8],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[9],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[10],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[11],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[12],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[13],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[14],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[15],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[16],e[t]=a^r[17],e[t+1]=i,e}function _(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|255&e[t],t=(t+1)%e.length;return{key:n,offp:t}}function v(e,t,r){for(var n,i=0,a=[0,0],o=t.length,s=r.length,c=0;c<o;c++)i=(n=_(e,i)).offp,t[c]=t[c]^n.key;for(c=0;c<o;c+=2)a=w(a,0,t,r),t[c]=a[0],t[c+1]=a[1];for(c=0;c<s;c+=2)a=w(a,0,t,r),r[c]=a[0],r[c+1]=a[1]}function x(e,t,r,n,i){var a,o,c=y.slice(),l=c.length;if(r<4||r>31){if(o=Error("Illegal number of rounds (4-31): "+r),n)return void s(n.bind(this,o));throw o}if(t.length!==h){if(o=Error("Illegal salt length: "+t.length+" != "+h),n)return void s(n.bind(this,o));throw o}r=1<<r>>>0;var u,d,f,p=0;function g(){if(i&&i(p/r),p<r)for(var a=Date.now();p<r&&(p+=1,v(e,u,d),v(t,u,d),!(Date.now()-a>100)););else{for(p=0;p<64;p++)for(f=0;f<l>>1;f++)w(c,f<<1,u,d);var o=[];for(p=0;p<l;p++)o.push((c[p]>>24&255)>>>0),o.push((c[p]>>16&255)>>>0),o.push((c[p]>>8&255)>>>0),o.push((255&c[p])>>>0);return n?void n(null,o):o}n&&s(g)}if(Int32Array?(u=new Int32Array(m),d=new Int32Array(b)):(u=m.slice(),d=b.slice()),!function(e,t,r,n){for(var i,a=0,o=[0,0],s=r.length,c=n.length,l=0;l<s;l++)a=(i=_(t,a)).offp,r[l]=r[l]^i.key;for(l=0,a=0;l<s;l+=2)a=(i=_(e,a)).offp,o[0]^=i.key,a=(i=_(e,a)).offp,o[1]^=i.key,o=w(o,0,r,n),r[l]=o[0],r[l+1]=o[1];for(l=0;l<c;l+=2)a=(i=_(e,a)).offp,o[0]^=i.key,a=(i=_(e,a)).offp,o[1]^=i.key,o=w(o,0,r,n),n[l]=o[0],n[l+1]=o[1]}(t,e,u,d),void 0!==n)g();else for(;;)if(void 0!==(a=g()))return a||[]}function E(e,t,r,n){if("string"!=typeof e||"string"!=typeof t){if(c=Error("Invalid string / salt: Not a string"),r)return void s(r.bind(this,c));throw c}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(c=Error("Invalid salt version: "+t.substring(0,2)),r)return void s(r.bind(this,c));throw c}if("$"===t.charAt(2))l="\0",u=3;else{if("a"!==(l=t.charAt(2))&&"b"!==l&&"y"!==l||"$"!==t.charAt(3)){if(c=Error("Invalid salt revision: "+t.substring(2,4)),r)return void s(r.bind(this,c));throw c}u=4}if(t.charAt(u+2)>"$"){if(c=Error("Missing salt rounds"),r)return void s(r.bind(this,c));throw c}var i,a,o,c,l,u,g=10*parseInt(t.substring(u,u+1),10)+parseInt(t.substring(u+1,u+2),10),m=t.substring(u+3,u+25);e+=l>="a"?"\0":"";var b=(i=e,a=[],o=0,p.encodeUTF16toUTF8(function(){return o>=i.length?null:i.charCodeAt(o++)},function(e){a.push(e)}),a),w=f(m,h);function _(e){var t=[];return t.push("$2"),l>="a"&&t.push(l),t.push("$"),g<10&&t.push("0"),t.push(g.toString()),t.push("$"),t.push(d(w,w.length)),t.push(d(e,4*y.length-1)),t.join("")}if(void 0===r)return _(x(b,w,g));x(b,w,g,function(e,t){e?r(e,null):r(null,_(t))},n)}return n.encodeBase64=d,n.decodeBase64=f,n})},63617,(e,t,r)=>{"use strict";let n;var i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(e&&(t=e(e=0)),t),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),f=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},p=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))l.call(e,i)||i===r||a(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?i(c(e)):{},p(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e));function g(e,t){if("utf8"===(t=t.toLowerCase())||"utf-8"===t)return new E(k.encode(e));if("base64"===t||"base64url"===t)return e=(e=e.replace(/-/g,"+").replace(/_/g,"/")).replace(/[^A-Za-z0-9+/]/g,""),new E([...atob(e)].map(e=>e.charCodeAt(0)));if("binary"===t||"ascii"===t||"latin1"===t||"latin-1"===t)return new E([...e].map(e=>e.charCodeAt(0)));if("ucs2"===t||"ucs-2"===t||"utf16le"===t||"utf-16le"===t){let t=new E(2*e.length),r=new DataView(t.buffer);for(let t=0;t<e.length;t++)r.setUint16(2*t,e.charCodeAt(t),!0);return t}if("hex"===t){let t=new E(e.length/2);for(let r=0,n=0;n<e.length;n+=2,r++)t[r]=parseInt(e.slice(n,n+2),16);return t}m(`encoding "${t}"`)}function m(e){throw Error(`Buffer polyfill does not implement "${e}"`)}function b(e,t){if(!(e instanceof Uint8Array))throw TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function y(e,t,r=P+1){if(e<0||e>r){let n=RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function w(e,t){if("number"!=typeof e){let r=TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function _(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function v(e,t){if("string"!=typeof e){let r=TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function x(e,t="utf8"){return E.from(e,t)}var E,S,k,T,A,P,R,O,C,I,N,D,$=u(()=>{var e;let t,r,n,i;E=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return v(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(e){return e&&!!e._isBuffer}static byteLength(e,t="utf8"){if("string"==typeof e)return g(e,t).byteLength;if(e&&e.byteLength)return e.byteLength;let r=TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw r.code="ERR_INVALID_ARG_TYPE",r}static isEncoding(e){return A.includes(e)}static compare(e,t){b(e,"buff1"),b(t,"buff2");for(let r=0;r<e.length;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return e.length===t.length?0:e.length>t.length?1:-1}static from(t,r="utf8"){if(t&&"object"==typeof t&&"Buffer"===t.type)return new e(t.data);if("number"==typeof t)return new e(new Uint8Array(t));if("string"==typeof t)return g(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:r,byteLength:n,buffer:i}=t;return"map"in t&&"function"==typeof t.map?new e(t.map(e=>e%256),r,n):new e(i,r,n)}if(t&&"object"==typeof t&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(0===t.length)return e.alloc(0);let n=[].concat(...t.map(e=>[...e])),i=e.alloc(void 0!==r?r:n.length);return i.set(void 0!==r?n.slice(0,r):n),i}slice(e=0,t=this.length){return this.subarray(e,t)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(e,t){w(e,"offset"),_(e,"offset"),y(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n=256*n+r.getUint8(e);return 128&r.getUint8(0)&&(n-=Math.pow(256,t)),n}readIntLE(e,t){w(e,"offset"),_(e,"offset"),y(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n+=r.getUint8(e)*Math.pow(256,e);return 128&r.getUint8(t-1)&&(n-=Math.pow(256,t)),n}readUIntBE(e,t){w(e,"offset"),_(e,"offset"),y(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n=256*n+r.getUint8(e);return n}readUintBE(e,t){return this.readUIntBE(e,t)}readUIntLE(e,t){w(e,"offset"),_(e,"offset"),y(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n+=r.getUint8(e)*Math.pow(256,e);return n}readUintLE(e,t){return this.readUIntLE(e,t)}writeIntBE(e,t,r){return e=e<0?e+Math.pow(256,r):e,this.writeUIntBE(e,t,r)}writeIntLE(e,t,r){return e=e<0?e+Math.pow(256,r):e,this.writeUIntLE(e,t,r)}writeUIntBE(e,t,r){w(t,"offset"),_(t,"offset"),y(t,"offset",this.length-1),w(r,"byteLength"),_(r,"byteLength");let n=new DataView(this.buffer,t,r);for(let t=r-1;t>=0;t--)n.setUint8(t,255&e),e/=256;return t+r}writeUintBE(e,t,r){return this.writeUIntBE(e,t,r)}writeUIntLE(e,t,r){w(t,"offset"),_(t,"offset"),y(t,"offset",this.length-1),w(r,"byteLength"),_(r,"byteLength");let n=new DataView(this.buffer,t,r);for(let t=0;t<r;t++)n.setUint8(t,255&e),e/=256;return t+r}writeUintLE(e,t,r){return this.writeUIntLE(e,t,r)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=2)e.setUint16(t,e.getUint16(t,!0),!1);return this}swap32(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=4)e.setUint32(t,e.getUint32(t,!0),!1);return this}swap64(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=8)e.setBigUint64(t,e.getBigUint64(t,!0),!1);return this}compare(t,r=0,n=t.length,i=0,a=this.length){return b(t,"target"),w(r,"targetStart"),w(n,"targetEnd"),w(i,"sourceStart"),w(a,"sourceEnd"),y(r,"targetStart"),y(n,"targetEnd",t.length),y(i,"sourceStart"),y(a,"sourceEnd",this.length),e.compare(this.slice(i,a),t.slice(r,n))}equals(e){return b(e,"otherBuffer"),this.length===e.length&&this.every((t,r)=>t===e[r])}copy(e,t=0,r=0,n=this.length){y(t,"targetStart"),y(r,"sourceStart",this.length),y(n,"sourceEnd"),t>>>=0,r>>>=0,n>>>=0;let i=0;for(;r<n&&void 0!==this[r]&&void 0!==e[t];)e[t]=this[r],i++,r++,t++;return i}write(e,t,r,n="utf8"){let i="string"==typeof t?0:t??0,a="string"==typeof r?this.length-i:r??this.length-i;return n="string"==typeof t?t:"string"==typeof r?r:n,w(i,"offset"),w(a,"length"),y(i,"offset",this.length),y(a,"length",this.length),("ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)&&(a-=a%2),g(e,n).copy(this,i,0,a)}fill(t=0,r=0,n=this.length,i="utf-8"){let a="string"==typeof r?0:r,o="string"==typeof n?this.length:n;if(i="string"==typeof r?r:"string"==typeof n?n:i,t=e.from("number"==typeof t?[t]:t??[],i),v(i,"encoding"),y(a,"offset",this.length),y(o,"end",this.length),0!==t.length)for(let e=a;e<o;e+=t.length)super.set(t.slice(0,t.length+e>=this.length?this.length-e:t.length),e);return this}includes(e,t=null,r="utf-8"){return -1!==this.indexOf(e,t,r)}lastIndexOf(e,t=null,r="utf-8"){return this.indexOf(e,t,r,!0)}indexOf(t,r=null,n="utf-8",i=!1){let a=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n="string"==typeof r?r:n;let o=e.from("number"==typeof t?[t]:t,n),s="string"==typeof r?0:r;return s=Number.isNaN(s="number"==typeof r?s:null)?null:s,s??=i?this.length:0,s=s<0?this.length+s:s,0===o.length&&!1===i?s>=this.length?this.length:s:0===o.length&&!0===i?(s>=this.length?this.length:s)||this.length:a((e,t)=>(i?t<=s:t>=s)&&this[t]===o[0]&&o.every((e,r)=>this[t+r]===e))}toString(e="utf8",t=0,r=this.length){if(t=t<0?0:t,e=e.toString().toLowerCase(),r<=0)return"";if("utf8"===e||"utf-8"===e)return T.decode(this.slice(t,r));if("base64"===e||"base64url"===e){let t=btoa(this.reduce((e,t)=>e+O(t),""));return"base64url"===e?t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):t}if("binary"===e||"ascii"===e||"latin1"===e||"latin-1"===e)return this.slice(t,r).reduce((t,r)=>t+O(r&("ascii"===e?127:255)),"");if("ucs2"===e||"ucs-2"===e||"utf16le"===e||"utf-16le"===e){let e=new DataView(this.buffer.slice(t,r));return Array.from({length:e.byteLength/2},(t,r)=>2*r+1<e.byteLength?O(e.getUint16(2*r,!0)):"").join("")}if("hex"===e)return this.slice(t,r).reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"");m(`encoding "${e}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}},S={int8:[-128,127],int16:[-32768,32767],int32:[-0x80000000,0x7fffffff],uint8:[0,255],uint16:[0,65535],uint32:[0,0xffffffff],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},k=new TextEncoder,T=new TextDecoder,A=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],P=0xffffffff,e=E.prototype,r=(t=Object.getOwnPropertyNames(DataView.prototype).filter(e=>e.startsWith("get")||e.startsWith("set"))).map(e=>e.replace("get","read").replace("set","write")),n=(e,r)=>function(n=0){return w(n,"offset"),_(n,"offset"),y(n,"offset",this.length-1),new DataView(this.buffer)[t[e]](n,r)},i=(e,r)=>function(n,i=0){let a=S[t[e].match(/set(\w+\d+)/)[1].toLowerCase()];return w(i,"offset"),_(i,"offset"),y(i,"offset",this.length-1),function(e,t,r,n){if(e<r||e>n){let i=RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}(n,"value",a[0],a[1]),new DataView(this.buffer)[t[e]](i,n,r),i+parseInt(t[e].match(/\d+/)[0])/8},r.forEach((t,r)=>{t.startsWith("read")&&(e[t]=n(r,!1),e[t+"LE"]=n(r,!0),e[t+"BE"]=n(r,!1)),t.startsWith("write")&&(e[t]=i(r,!1),e[t+"LE"]=i(r,!0),e[t+"BE"]=i(r,!1)),[t,t+"LE",t+"BE"].forEach(t=>{t.includes("Uint")&&(e[t.replace("Uint","UInt")]=e[t]),t.includes("Float64")&&(e[t.replace("Float64","Double")]=e[t]),t.includes("Float32")&&(e[t.replace("Float32","Float")]=e[t])})}),R=new Proxy(x,{construct:(e,[t,r])=>E.from(t,r),get:(e,t)=>E[t]}),O=String.fromCodePoint}),U=u(()=>{C={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:I}=C}),j=u(()=>{globalThis.performance??Date.now()}),M=u(()=>{(N=()=>{}).prototype=N}),L=u(()=>{D=class{value;constructor(e){this.value=e}deref(){return this.value}}});function q(e,t){var r,n,i,a,o,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),en?z(t,d):t;if(c=e.d,l=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(n=c,a=-a,s=l.length):(n=l,i=o,s=c.length),a>(s=(o=Math.ceil(d/ef))>s?o+1:s+1)&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((s=c.length)-(a=l.length)<0&&(a=s,n=l,l=c,c=n),r=0;a;)r=(c[--a]=c[a]+l[a]+r)/ed|0,c[a]%=ed;for(r&&(c.unshift(r),++i),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=i,en?z(t,d):t}function H(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ea+e)}function V(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",(r=ef-n.length)&&(a+=K(r)),a+=n;n=(o=e[t])+"",(r=ef-n.length)&&(a+=K(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function F(e,t){var r,n,i,a,o,s=0,c=0,l=e.constructor,u=l.precision;if(W(e)>16)throw Error(eo+W(e));if(!e.s)return new l(eu);for(null==t?(en=!1,o=u):o=t,a=new l(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(o+=Math.log(ec(2,c))/Math.LN10*2+5|0,r=n=i=new l(eu),l.precision=o;;){if(n=z(n.times(e),o),r=r.times(++s),V((a=i.plus(eg(n,r,o))).d).slice(0,o)===V(i.d).slice(0,o)){for(;c--;)i=z(i.times(i),o);return l.precision=u,null==t?(en=!0,z(i,u)):i}i=a}}function W(e){for(var t=e.e*ef,r=e.d[0];r>=10;r/=10)t++;return t}function B(e,t,r){if(t>e.LN10.sd())throw en=!0,r&&(e.precision=r),Error(ei+"LN10 precision limit exceeded");return z(new e(e.LN10),t)}function K(e){for(var t="";e--;)t+="0";return t}function J(e,t){var r,n,i,a,o,s,c,l,u,d=1,f=e,p=f.d,h=f.constructor,g=h.precision;if(f.s<1)throw Error(ei+(f.s?"NaN":"-Infinity"));if(f.eq(eu))return new h(0);if(null==t?(en=!1,l=g):l=t,f.eq(10))return null==t&&(en=!0),B(h,l);if(h.precision=l+=10,n=(r=V(p)).charAt(0),!(15e14>Math.abs(a=W(f))))return c=B(h,l+2,g).times(a+""),f=J(new h(n+"."+r.slice(1)),l-10).plus(c),h.precision=g,null==t?(en=!0,z(f,g)):f;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=V((f=f.times(e)).d)).charAt(0),d++;for(a=W(f),n>1?(f=new h("0."+r),a++):f=new h(n+"."+r.slice(1)),s=o=f=eg(f.minus(eu),f.plus(eu),l),u=z(f.times(f),l),i=3;;){if(o=z(o.times(u),l),V((c=s.plus(eg(o,new h(i),l))).d).slice(0,l)===V(s.d).slice(0,l))return s=s.times(2),0!==a&&(s=s.plus(B(h,l+2,g).times(a+""))),s=eg(s,new h(d),l),h.precision=g,null==t?(en=!0,z(s,g)):s;s=c,i+=2}}function G(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=es((r=r-n-1)/ef),e.d=[],n=(r+1)%ef,r<0&&(n+=ef),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ef;n<i;)e.d.push(+t.slice(n,n+=ef));t=t.slice(n),n=ef-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),en&&(e.e>ep||e.e<-ep))throw Error(eo+r)}else e.s=0,e.e=0,e.d=[0];return e}function z(e,t,r){var n,i,a,o,s,c,l,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if((n=t-o)<0)n+=ef,i=t,l=d[u=0];else{if((u=Math.ceil((n+1)/ef))>=(a=d.length))return e;for(l=a=d[u],o=1;a>=10;a/=10)o++;n%=ef,i=n-ef+o}if(void 0!==r&&(s=l/(a=ec(10,o-i-1))%10|0,c=t<0||void 0!==d[u+1]||l%a,c=r<4?(s||c)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||c||6==r&&(n>0?i>0?l/ec(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(a=W(e),d.length=1,t=t-a-1,d[0]=ec(10,(ef-t%ef)%ef),e.e=es(-t/ef)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,a=1,u--):(d.length=u+1,a=ec(10,ef-n),d[u]=i>0?(l/ec(10,o-i)%ec(10,i)|0)*a:0),c)for(;;)if(0==u){(d[0]+=a)==ed&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=ed)break;d[u--]=0,a=1}for(n=d.length;0===d[--n];)d.pop();if(en&&(e.e>ep||e.e<-ep))throw Error(eo+W(e));return e}function X(e,t){var r,n,i,a,o,s,c,l,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),en?z(t,p):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),o=l-n){for((u=o<0)?(r=c,o=-o,s=d.length):(r=d,n=l,s=c.length),o>(i=Math.max(Math.ceil(p/ef),s)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((u=(i=c.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}o=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&0===c[--a];)c[a]=ed-1;--c[a],c[i]+=ed}c[i]-=d[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,en?z(t,p):t):new f(0)}function Q(e,t,r){var n,i=W(e),a=V(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+K(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+K(-i-1)+a,r&&(n=r-o)>0&&(a+=K(n))):i>=o?(a+=K(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+K(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=K(n))),e.s<0?"-"+a:a}function Y(e,t){if(e.length>t)return e.length=t,!0}function Z(e){if(!e||"object"!=typeof e)throw Error(ei+"Object expected");var t,r,n,i=["precision",1,ee,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(es(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ea+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(ea+r+": "+n);return this}var ee,et,er,en,ei,ea,eo,es,ec,el,eu,ed,ef,ep,eh,eg,em,eb,ey,ew=u(()=>{$(),U(),j(),M(),L(),e_(),ee=1e9,et={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},en=!0,ea=(ei="[DecimalError] ")+"Invalid argument: ",eo=ei+"Exponent out of range: ",es=Math.floor,ec=Math.pow,el=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ed=1e7,ep=es(0x1fffffffffffff/(ef=7)),(eh={}).absoluteValue=eh.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},eh.comparedTo=eh.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(n=this.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},eh.decimalPlaces=eh.dp=function(){var e=this.d.length-1,t=(e-this.e)*ef;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},eh.dividedBy=eh.div=function(e){return eg(this,new this.constructor(e))},eh.dividedToIntegerBy=eh.idiv=function(e){var t=this.constructor;return z(eg(this,new t(e),0,1),t.precision)},eh.equals=eh.eq=function(e){return!this.cmp(e)},eh.exponent=function(){return W(this)},eh.greaterThan=eh.gt=function(e){return this.cmp(e)>0},eh.greaterThanOrEqualTo=eh.gte=function(e){return this.cmp(e)>=0},eh.isInteger=eh.isint=function(){return this.e>this.d.length-2},eh.isNegative=eh.isneg=function(){return this.s<0},eh.isPositive=eh.ispos=function(){return this.s>0},eh.isZero=function(){return 0===this.s},eh.lessThan=eh.lt=function(e){return 0>this.cmp(e)},eh.lessThanOrEqualTo=eh.lte=function(e){return 1>this.cmp(e)},eh.logarithm=eh.log=function(e){var t,r=this.constructor,n=r.precision,i=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(eu))throw Error(ei+"NaN");if(this.s<1)throw Error(ei+(this.s?"NaN":"-Infinity"));return this.eq(eu)?new r(0):(en=!1,t=eg(J(this,i),J(e,i),i),en=!0,z(t,n))},eh.minus=eh.sub=function(e){return e=new this.constructor(e),this.s==e.s?X(this,e):q(this,(e.s=-e.s,e))},eh.modulo=eh.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(ei+"NaN");return this.s?(en=!1,t=eg(this,e,0,1).times(e),en=!0,this.minus(t)):z(new r(this),n)},eh.naturalExponential=eh.exp=function(){return F(this)},eh.naturalLogarithm=eh.ln=function(){return J(this)},eh.negated=eh.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},eh.plus=eh.add=function(e){return e=new this.constructor(e),this.s==e.s?q(this,e):X(this,(e.s=-e.s,e))},eh.precision=eh.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(ea+e);if(t=W(this)+1,r=(n=this.d.length-1)*ef+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},eh.squareRoot=eh.sqrt=function(){var e,t,r,n,i,a,o,s=this.constructor;if(this.s<1){if(!this.s)return new s(0);throw Error(ei+"NaN")}for(e=W(this),en=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=V(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=es((e+1)/2)-(e<0||e%2),n=new s(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new s(i.toString()),i=o=(r=s.precision)+3;;)if(n=(a=n).plus(eg(this,a,o+2)).times(.5),V(a.d).slice(0,o)===(t=V(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(z(a,r+1,0),a.times(a).eq(this)){n=a;break}}else if("9999"!=t)break;o+=4}return en=!0,z(n,r)},eh.times=eh.mul=function(e){var t,r,n,i,a,o,s,c,l,u=this.constructor,d=this.d,f=(e=new u(e)).d;if(!this.s||!e.s)return new u(0);for(e.s*=this.s,r=this.e+e.e,(c=d.length)<(l=f.length)&&(a=d,d=f,f=a,o=c,c=l,l=o),a=[],n=o=c+l;n--;)a.push(0);for(n=l;--n>=0;){for(t=0,i=c+n;i>n;)s=a[i]+f[n]*d[i-n-1]+t,a[i--]=s%ed|0,t=s/ed|0;a[i]=(a[i]+t)%ed|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,en?z(e,u.precision):e},eh.toDecimalPlaces=eh.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(H(e,0,ee),void 0===t?t=n.rounding:H(t,0,8),z(r,e+W(r)+1,t))},eh.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Q(n,!0):(H(e,0,ee),void 0===t?t=i.rounding:H(t,0,8),r=Q(n=z(new i(n),e+1,t),!0,e+1)),r},eh.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?Q(this):(H(e,0,ee),void 0===t?t=i.rounding:H(t,0,8),r=Q((n=z(new i(this),e+W(this)+1,t)).abs(),!1,e+W(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},eh.toInteger=eh.toint=function(){var e=this.constructor;return z(new e(this),W(this)+1,e.rounding)},eh.toNumber=function(){return+this},eh.toPower=eh.pow=function(e){var t,r,n,i,a,o,s=this,c=s.constructor,l=+(e=new c(e));if(!e.s)return new c(eu);if(!(s=new c(s)).s){if(e.s<1)throw Error(ei+"Infinity");return s}if(s.eq(eu))return s;if(n=c.precision,e.eq(eu))return z(s,n);if(o=(t=e.e)>=(r=e.d.length-1),a=s.s,o){if((r=l<0?-l:l)<=0x1fffffffffffff){for(i=new c(eu),t=Math.ceil(n/ef+4),en=!1;r%2&&Y((i=i.times(s)).d,t),0!==(r=es(r/2));)Y((s=s.times(s)).d,t);return en=!0,e.s<0?new c(eu).div(i):z(i,n)}}else if(a<0)throw Error(ei+"NaN");return a=a<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,en=!1,i=e.times(J(s,n+12)),en=!0,(i=F(i)).s=a,i},eh.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?(r=W(i),n=Q(i,r<=a.toExpNeg||r>=a.toExpPos)):(H(e,1,ee),void 0===t?t=a.rounding:H(t,0,8),r=W(i=z(new a(i),e,t)),n=Q(i,e<=r||r<=a.toExpNeg,e)),n},eh.toSignificantDigits=eh.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(H(e,1,ee),void 0===t?t=r.rounding:H(t,0,8)),z(new r(this),e,t)},eh.toString=eh.valueOf=eh.val=eh.toJSON=eh[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=W(this),t=this.constructor;return Q(this,e<=t.toExpNeg||e>=t.toExpPos)},eg=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%ed|0,n=r/ed|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*ed+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o){var s,c,l,u,d,f,p,h,g,m,b,y,w,_,v,x,E,S,k=n.constructor,T=n.s==i.s?1:-1,A=n.d,P=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(ei+"Division by zero");for(c=n.e-i.e,E=P.length,v=A.length,h=(p=new k(T)).d=[],l=0;P[l]==(A[l]||0);)++l;if(P[l]>(A[l]||0)&&--c,(y=null==a?a=k.precision:o?a+(W(n)-W(i))+1:a)<0)return new k(0);if(y=y/ef+2|0,l=0,1==E)for(u=0,P=P[0],y++;(l<v||u)&&y--;l++)w=u*ed+(A[l]||0),h[l]=w/P|0,u=w%P|0;else{for((u=ed/(P[0]+1)|0)>1&&(P=e(P,u),A=e(A,u),E=P.length,v=A.length),_=E,m=(g=A.slice(0,E)).length;m<E;)g[m++]=0;(S=P.slice()).unshift(0),x=P[0],P[1]>=ed/2&&++x;do u=0,(s=t(P,g,E,m))<0?(b=g[0],E!=m&&(b=b*ed+(g[1]||0)),(u=b/x|0)>1?(u>=ed&&(u=ed-1),f=(d=e(P,u)).length,m=g.length,1==(s=t(d,g,f,m))&&(u--,r(d,E<f?S:P,f))):(0==u&&(s=u=1),d=P.slice()),(f=d.length)<m&&d.unshift(0),r(g,d,m),-1==s&&(m=g.length,(s=t(P,g,E,m))<1&&(u++,r(g,E<m?S:P,m))),m=g.length):0===s&&(u++,g=[0]),h[l++]=u,s&&g[0]?g[m++]=A[_]||0:(g=[A[_]],m=1);while((_++<v||void 0!==g[0])&&y--)}return h[0]||h.shift(),p.e=c,z(p,o?a+W(p)+1:a)}}(),eu=new(er=function e(t){var r,n,i;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(ea+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return G(this,e.toString())}if("string"!=typeof e)throw Error(ea+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,el.test(e))G(this,e);else throw Error(ea+e)}if(a.prototype=eh,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=Z,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(et))(1),em=er}),e_=u(()=>{ew(),ey=eb=class extends em{static isDecimal(e){return e instanceof em}static random(e=20){{let t=globalThis.crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+t,"");return new em(`0.${t.slice(0,e)}`)}}}});function ev(){return!1}function ex(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function eE(){return ex()}function eS(){return[]}function ek(e){e(null,[])}function eT(){return""}function eA(){return""}function eP(){}function eR(){}function eO(){}function eC(){}function eI(){}function eN(){}function eD(){}function e$(){}function eU(){return{close:()=>{},on:()=>{},removeAllListeners:()=>{}}}function ej(e,t){t(null,ex())}var eM,eL=u(()=>{$(),U(),j(),M(),L(),e_(),eM={existsSync:ev,lstatSync:ex,stat:ej,statSync:eE,readdirSync:eS,readdir:ek,readlinkSync:eT,realpathSync:eA,chmodSync:eP,renameSync:eR,mkdirSync:eO,rmdirSync:eC,rmSync:eI,unlinkSync:eN,watchFile:eD,unwatchFile:e$,watch:eU,promises:{}}}),eq=d((e,t)=>{t.exports={name:"@prisma/internals",version:"6.19.2",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"7.1.1-3.c2990dca591cba766e3b7ef5d9e8a84796e47ab7","@prisma/schema-engine-wasm":"7.1.1-3.c2990dca591cba766e3b7ef5d9e8a84796e47ab7","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}});function eH(...e){return e.join("/")}function eV(...e){return e.join("/")}function eF(e){let t=eW(e),r=eB(e),[n,i]=t.split(".");return{root:"/",dir:r,base:t,ext:i,name:n}}function eW(e){let t=e.split("/");return t[t.length-1]}function eB(e){return e.split("/").slice(0,-1).join("/")}function eK(e){let t=e.split("/").filter(e=>""!==e&&"."!==e),r=[];for(let e of t)".."===e?r.pop():r.push(e);let n=r.join("/");return e.startsWith("/")?"/"+n:n}var eJ,eG,ez=u(()=>{$(),U(),j(),M(),L(),e_(),eJ={basename:eW,delimiter:":",dirname:eB,join:eV,normalize:eK,parse:eF,posix:{sep:"/"},resolve:eH,sep:"/"}}),eX=d((e,t)=>{t.exports={name:"@prisma/engines-version",version:"7.1.1-3.c2990dca591cba766e3b7ef5d9e8a84796e47ab7",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"c2990dca591cba766e3b7ef5d9e8a84796e47ab7"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),eQ=d(e=>{$(),U(),j(),M(),L(),e_(),Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=eX().prisma.enginesVersion}),eY=d((e,t)=>{$(),U(),j(),M(),L(),e_(),t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}}),eZ=d((e,t)=>{$(),U(),j(),M(),L(),e_(),t.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,a=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(a-1);)i--,a--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(i-=o,a-=o,0===i||a<3)return a;var s,c,l,u,d,f,p,h,g,m,b,y,w=0,_=[];for(s=0;s<i;s++)_.push(s+1),_.push(t.charCodeAt(o+s));for(var v=_.length-1;w<a-3;)for(g=r.charCodeAt(o+(c=w)),m=r.charCodeAt(o+(l=w+1)),b=r.charCodeAt(o+(u=w+2)),y=r.charCodeAt(o+(d=w+3)),f=w+=4,s=0;s<v;s+=2)c=e(p=_[s],c,l,g,h=_[s+1]),l=e(c,l,u,m,h),u=e(l,u,d,b,h),f=e(u,d,f,y,h),_[s]=f,d=u,u=l,l=c,c=p;for(;w<a;)for(g=r.charCodeAt(o+(c=w)),f=++w,s=0;s<v;s+=2)p=_[s],_[s]=f=e(p,c,f,g,_[s+1]),c=p;return f}}()}),e0=u(()=>{$(),U(),j(),M(),L(),e_()}),e1=u(()=>{$(),U(),j(),M(),L(),e_()}),e2=u(()=>{$(),U(),j(),M(),L(),e_(),eG=class{events={};on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){return!!this.events[e]&&(this.events[e].forEach(e=>{e(...t)}),!0)}}}),e5={};f(e5,{DMMF:()=>t9,Debug:()=>tv,Decimal:()=>ey,Extensions:()=>e6,MetricsClient:()=>r4,PrismaClientInitializationError:()=>tz,PrismaClientKnownRequestError:()=>tX,PrismaClientRustPanicError:()=>tQ,PrismaClientUnknownRequestError:()=>tY,PrismaClientValidationError:()=>tZ,Public:()=>e4,Sql:()=>na,createParam:()=>rz,defineDmmfProperty:()=>r9,deserializeJsonResponse:()=>nW,deserializeRawResult:()=>i6,dmmfToRuntimeDataModel:()=>t5,empty:()=>nc,getPrismaClient:()=>au,getRuntime:()=>nY,join:()=>no,makeStrictEnum:()=>ap,makeTypedQueryFactory:()=>nr,objectEnumValues:()=>rU,raw:()=>ns,serializeJsonQuery:()=>r2,skip:()=>rY,sqltag:()=>nl,warnEnvConflicts:()=>void 0,warnOnce:()=>tG}),t.exports=p(a({},"__esModule",{value:!0}),e5),$(),U(),j(),M(),L(),e_();var e6={};function e3(e){return"function"==typeof e?e:t=>t.$extends(e)}function e8(e){return e}f(e6,{defineExtension:()=>e3,getExtensionContext:()=>e8}),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var e4={};function e9(){return e=>e}f(e4,{validator:()=>e9}),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var e7,te,tt,tr,tn=!0;"u">typeof C&&({FORCE_COLOR:e7,NODE_DISABLE_COLORS:te,NO_COLOR:tt,TERM:tr}=C.env||{},tn=C.stdout&&C.stdout.isTTY);var ti={enabled:!te&&null==tt&&"dumb"!==tr&&(null!=e7&&"0"!==e7||tn)};function ta(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return ti.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}ta(0,0);var to=ta(1,22),ts=ta(2,22),tc=(ta(3,23),ta(4,24)),tl=(ta(7,27),ta(8,28),ta(9,29),ta(30,39),ta(31,39)),tu=ta(32,39),td=ta(33,39),tf=ta(34,39),tp=(ta(35,39),ta(36,39)),th=(ta(37,39),ta(90,39));ta(90,39),ta(40,49),ta(41,49),ta(42,49),ta(43,49),ta(44,49),ta(45,49),ta(46,49),ta(47,49),$(),U(),j(),M(),L(),e_();var tg=["green","yellow","blue","magenta","cyan","red"],tm=[],tb=Date.now(),ty=0,tw="u">typeof C?C.env:{};globalThis.DEBUG??=tw.DEBUG??"",globalThis.DEBUG_COLORS??=!tw.DEBUG_COLORS||"true"===tw.DEBUG_COLORS;var t_={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}},tv=new Proxy(function(e){let t={color:tg[ty++%tg.length],enabled:t_.enabled(e),namespace:e,log:t_.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:n,color:i,log:a}=t;if(0!==e.length&&tm.push([n,...e]),tm.length>100&&tm.shift(),t_.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),r=`+${Date.now()-tb}ms`;tb=Date.now(),a(n,...t,r)}},{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})},{get:(e,t)=>t_[t],set:(e,t,r)=>t_[t]=r});$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var tx=eq().version;function tE(e){let t;return("library"===(t=C.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===t?"binary":"client"===t?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":"library")}function tS(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function tk(e){return{ok:!0,value:e,map:t=>tk(t(e)),flatMap:t=>t(e)}}function tT(e){return{ok:!1,error:e,map:()=>tT(e),flatMap:()=>tT(e)}}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var tA=tv("driver-adapter-utils"),tP=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},tR=(e,t=new tP)=>{var r,n;let i={adapterName:e.adapterName,errorRegistry:t,queryRaw:tC(t,e.queryRaw.bind(e)),executeRaw:tC(t,e.executeRaw.bind(e)),executeScript:tC(t,e.executeScript.bind(e)),dispose:tC(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...r)=>(await tC(t,e.startTransaction.bind(e))(...r)).map(e=>tO(t,e))};return e.getConnectionInfo&&(r=t,n=e.getConnectionInfo.bind(e),i.getConnectionInfo=(...e)=>{try{return tk(n(...e))}catch(e){if(tA("[error@wrapSync]",e),tS(e))return tT(e.cause);return tT({kind:"GenericJs",id:r.registerNewError(e)})}}),i},tO=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:tC(e,t.queryRaw.bind(t)),executeRaw:tC(e,t.executeRaw.bind(t)),commit:tC(e,t.commit.bind(t)),rollback:tC(e,t.rollback.bind(t))});function tC(e,t){return async(...r)=>{try{return tk(await t(...r))}catch(t){if(tA("[error@wrapAsync]",t),tS(t))return tT(t.cause);return tT({kind:"GenericJs",id:e.registerNewError(t)})}}}$(),U(),j(),M(),L(),e_();var tI="prisma+postgres:";function tN(e){return e?.toString().startsWith(`${tI}//`)??!1}var tD={};f(tD,{error:()=>tq,info:()=>tL,log:()=>tj,query:()=>tH,should:()=>tU,tags:()=>t$,warn:()=>tM}),$(),U(),j(),M(),L(),e_();var t$={error:tl("prisma:error"),warn:td("prisma:warn"),info:tp("prisma:info"),query:tf("prisma:query")},tU={warn:()=>!C.env.PRISMA_DISABLE_WARNINGS};function tj(...e){console.log(...e)}function tM(e,...t){tU.warn()&&console.warn(`${t$.warn} ${e}`,...t)}function tL(e,...t){console.info(`${t$.info} ${e}`,...t)}function tq(e,...t){console.error(`${t$.error} ${e}`,...t)}function tH(e,...t){console.log(`${t$.query} ${e}`,...t)}function tV(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function tF(e,t){throw Error(t)}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var tW=function({onlyFirst:e=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",e?void 0:"g")}();function tB(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function tK(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var tJ=new Set,tG=(e,t,...r)=>{tJ.has(e)||(tJ.add(e),tM(t,...r))},tz=class e extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};tK(tz,"PrismaClientInitializationError"),$(),U(),j(),M(),L(),e_();var tX=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};tK(tX,"PrismaClientKnownRequestError"),$(),U(),j(),M(),L(),e_();var tQ=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};tK(tQ,"PrismaClientRustPanicError"),$(),U(),j(),M(),L(),e_();var tY=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};tK(tY,"PrismaClientUnknownRequestError"),$(),U(),j(),M(),L(),e_();var tZ=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};tK(tZ,"PrismaClientValidationError"),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var t0=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function t1(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function t2(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function t5(e){return{models:t6(e.models),enums:t6(e.enums),types:t6(e.types)}}function t6(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function t3(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function t8(e){return"Invalid Date"!==e.toString()}function t4(e){return!!eb.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var t9={};function t7(e){return{name:e.name,values:e.values.map(e=>e.name)}}f(t9,{ModelAction:()=>re,datamodelEnumToSchemaEnum:()=>t7}),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var re=((n=re||{}).findUnique="findUnique",n.findUniqueOrThrow="findUniqueOrThrow",n.findFirst="findFirst",n.findFirstOrThrow="findFirstOrThrow",n.findMany="findMany",n.create="create",n.createMany="createMany",n.createManyAndReturn="createManyAndReturn",n.update="update",n.updateMany="updateMany",n.updateManyAndReturn="updateManyAndReturn",n.upsert="upsert",n.delete="delete",n.deleteMany="deleteMany",n.groupBy="groupBy",n.count="count",n.aggregate="aggregate",n.findRaw="findRaw",n.aggregateRaw="aggregateRaw",n);h(eY());var rt={red:tl,gray:th,dim:ts,bold:to,underline:tc,highlightSource:e=>e.highlight()},rr={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function rn(e){let t=e.showColors?rt:rr;return function({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:a},o){var s;let c,l=[""],u=t?" in":":";if(n?(l.push(o.red(`Oops, an unknown error occurred! This is ${o.bold("on us")}, you did nothing wrong.`)),l.push(o.red(`It occurred in the ${o.bold(`\`${e}\``)} invocation${u}`))):l.push(o.red(`Invalid ${o.bold(`\`${e}\``)} invocation${u}`)),t&&l.push(o.underline((c=[(s=t).fileName],s.lineNumber&&c.push(String(s.lineNumber)),s.columnNumber&&c.push(String(s.columnNumber)),c.join(":")))),i){l.push("");let e=[i.toString()];a&&(e.push(a),e.push(o.dim(")"))),l.push(e.join("")),a&&l.push("")}else l.push(""),a&&l.push(a),l.push("");return l.push(r),l.join(`
`)}("u">typeof $getTemplateParameters?$getTemplateParameters(e,t):function({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}(e),t)}$(),U(),j(),M(),L(),e_();var ri=h(eZ());function ra(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function ro(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var rs=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),e1(),$(),U(),j(),M(),L(),e_();var rc=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};e0(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var rl=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}};$(),U(),j(),M(),L(),e_();var ru=e=>e,rd={bold:ru,red:ru,green:ru,dim:ru,enabled:!1},rf={bold:to,red:tl,green:tu,dim:ts,enabled:!0},rp={write(e){e.writeLine(",")}};$(),U(),j(),M(),L(),e_();var rh=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}};$(),U(),j(),M(),L(),e_();var rg=class{hasError=!1;markAsError(){return this.hasError=!0,this}},rm=class extends rg{items=[];addItem(e){return this.items.push(new rl(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){0===this.items.length?this.writeEmpty(e):this.writeWithItems(e)}writeEmpty(e){let t=new rh("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(rp,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},rb=class e extends rg{fields={};suggestions=[];addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let a=i;for(let t of n){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof rm&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(n);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let r of t){let t=n.value.getFieldValue(r);if(!t||!(t instanceof e))return;let i=t.getSelectionParent();if(!i)return;n=i}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);0===t.length&&0===this.suggestions.length?this.writeEmpty(e):this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new rh("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(rp,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}};$(),U(),j(),M(),L(),e_();var ry=class extends rg{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new rh(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}};$(),U(),j(),M(),L(),e_();var rw=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(rp,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function r_(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=function(e,t){let r=1/0,n;for(let i of t){let t=(0,ri.default)(e,i);t>3||t<r&&(r=t,n=i)}return n}(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(rk(e)),n.join(" ")}function rv(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new rs(r.name,"true"))}function rx(e,t){let[r,n]=rS(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let a=i.getFieldValue("select")?.asObject(),o=i.getFieldValue("include")?.asObject(),s=i.getFieldValue("omit")?.asObject(),c=a?.getField(n);return a&&c?{parentKind:"select",parent:a,field:c,fieldName:n}:(c=o?.getField(n),o&&c?{parentKind:"include",field:c,parent:o,fieldName:n}:(c=s?.getField(n),s&&c?{parentKind:"omit",field:c,parent:s,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function rE(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new rs(r.name,r.typeNames.join(" | ")))}function rS(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function rk({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function rT(e,t){if(1===t.length)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var rA=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function rP(e){return e instanceof rA}$(),U(),j(),M(),L(),e_();var rR=Symbol(),rO=new WeakMap,rC=class{constructor(e){e===rR?rO.set(this,`Prisma.${this._getName()}`):rO.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return rO.get(this)}},rI=class extends rC{_getNamespace(){return"NullTypes"}},rN=class extends rI{#e};rj(rN,"DbNull");var rD=class extends rI{#e};rj(rD,"JsonNull");var r$=class extends rI{#e};rj(r$,"AnyNull");var rU={classes:{DbNull:rN,JsonNull:rD,AnyNull:r$},instances:{DbNull:new rN(rR),JsonNull:new rD(rR),AnyNull:new r$(rR)}};function rj(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}$(),U(),j(),M(),L(),e_();var rM=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new rh(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},rL=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function rq(e){return new rL(rH(e))}function rH(e){let t=new rb;for(let[r,n]of Object.entries(e)){let e=new rM(r,function e(t){if("string"==typeof t)return new ry(JSON.stringify(t));if("number"==typeof t||"boolean"==typeof t)return new ry(String(t));if("bigint"==typeof t)return new ry(`${t}n`);if(null===t)return new ry("null");if(void 0===t)return new ry("undefined");if(t4(t))return new ry(`new Prisma.Decimal("${t.toFixed()}")`);if(t instanceof Uint8Array)return new ry(R.isBuffer(t)?`Buffer.alloc(${t.byteLength})`:`new Uint8Array(${t.byteLength})`);if(t instanceof Date){let e=t8(t)?t.toISOString():"Invalid Date";return new ry(`new Date("${e}")`)}return t instanceof rC?new ry(`Prisma.${t._getName()}`):rP(t)?new ry(`prisma.${t1(t.modelName)}.$fields.${t.name}`):Array.isArray(t)?function(t){let r=new rm;for(let n of t)r.addItem(e(n));return r}(t):"object"==typeof t?rH(t):new ry(Object.prototype.toString.call(t))}(n));t.addField(e)}return t}function rV(e,t){let r="pretty"===t?rf:rd;return{message:e.renderAllMessages(r),args:new rc(0,{colors:r}).write(e).toString()}}function rF({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:a,globalOmit:o}){let s=rq(e);for(let e of t)!function e(t,r,n){switch(t.kind){case"MutuallyExclusiveFields":let i;f=t,p=r,(i=p.arguments.getDeepSubSelectionValue(f.selectionPath)?.asObject())&&(i.getField(f.firstField)?.markAsError(),i.getField(f.secondField)?.markAsError()),p.addErrorMessage(e=>`Please ${e.bold("either")} use ${e.green(`\`${f.firstField}\``)} or ${e.green(`\`${f.secondField}\``)}, but ${e.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(e,t){let[r,n]=rS(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(n)?.markAsError(),i))for(let e of i.fields)e.isRelation&&a.addSuggestion(new rs(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return i?t+=` on model ${e.bold(i.name)}. ${rk(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}(t,r);break;case"EmptySelection":!function(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let r=n.getField("omit")?.value.asObject();if(r){var i,a,o=e,s=t,c=r;for(let e of(c.removeAllFields(),o.outputType.fields))c.addSuggestion(new rs(e.name,"false"));s.addErrorMessage(e=>`The ${e.red("omit")} statement includes every field of the model ${e.bold(o.outputType.name)}. At least one field must be included in the result`);return}if(n.hasField("select")){let r,n,o;return i=e,a=t,r=i.outputType,n=a.arguments.getDeepSelectionParent(i.selectionPath)?.value,o=n?.isEmpty()??!1,n&&(n.removeAllFields(),rv(n,r)),a.addErrorMessage(e=>o?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${rk(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}}r?.[t1(e.outputType.name)]?function(e,t){let r=new rw;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let n=new rs("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[r,i]=rS(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(a){let e=a?.value.asObject()??new rb;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}(e,t):t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}(t,r,n);break;case"UnknownSelectionField":!function(e,t){let r=rx(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":rv(t,e.outputType);break;case"include":var n=t,i=e.outputType;for(let e of i.fields)e.isRelation&&!n.hasField(e.name)&&n.addSuggestion(new rs(e.name,"true"));break;case"omit":var a=t,o=e.outputType;for(let e of o.fields)a.hasField(e.name)||e.isRelation||a.addSuggestion(new rs(e.name,"true"))}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&n.push(`for ${t.bold(r.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(rk(t)),n.join(" ")})}(t,r);break;case"InvalidSelectionValue":let a;h=t,g=r,"unknown"!==(a=rx(h.selectionPath,g)).parentKind&&a.field.value.markAsError(),g.addErrorMessage(e=>`Invalid value for selection field \`${e.red(a.fieldName)}\`: ${h.underlyingError}`);break;case"UnknownArgument":let o,s;m=t,b=r,o=m.argumentPath[0],(s=b.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&(s.getField(o)?.markAsError(),function(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new rs(r.name,r.typeNames.join(" | ")))}(s,m.arguments)),b.addErrorMessage(e=>r_(e,o,m.arguments.map(e=>e.name)));break;case"UnknownInputField":!function(e,t){let[r,n]=rS(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&rE(t,e.inputType)}t.addErrorMessage(t=>r_(t,n,e.inputType.fields.map(e=>e.name)))}(t,r);break;case"RequiredArgumentMissing":!function(e,t){let r;t.addErrorMessage(e=>r?.value instanceof ry&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,a]=rS(e.argumentPath),o=new rw,s=n.getDeepFieldValue(i)?.asObject();if(s){if((r=s.getField(a))&&s.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)o.addField(t.name,t.typeNames.join(" | "));s.addSuggestion(new rs(a,o).makeRequired())}else{let t=e.inputTypes.map(function e(t){return"list"===t.kind?`${e(t.elementType)}[]`:t.name}).join(" | ");s.addSuggestion(new rs(a,t).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,r]=rS(e.dependentArgumentPath);t.addErrorMessage(e=>`Argument \`${e.green(a)}\` is required because argument \`${e.green(r)}\` was provided.`)}}}(t,r);break;case"InvalidArgumentType":let c,l;y=t,w=r,c=y.argument.name,(l=w.arguments.getDeepSubSelectionValue(y.selectionPath)?.asObject())&&l.getDeepFieldValue(y.argumentPath)?.markAsError(),w.addErrorMessage(e=>{let t=rT("or",y.argument.typeNames.map(t=>e.green(t)));return`Argument \`${e.bold(c)}\`: Invalid value provided. Expected ${t}, provided ${e.red(y.inferredType)}.`});break;case"InvalidArgumentValue":let u,d;_=t,v=r,u=_.argument.name,(d=v.arguments.getDeepSubSelectionValue(_.selectionPath)?.asObject())&&d.getDeepFieldValue(_.argumentPath)?.markAsError(),v.addErrorMessage(e=>{let t=[`Invalid value for argument \`${e.bold(u)}\``];if(_.underlyingError&&t.push(`: ${_.underlyingError}`),t.push("."),_.argument.typeNames.length>0){let r=rT("or",_.argument.typeNames.map(t=>e.green(t)));t.push(` Expected ${r}.`)}return t.join("")});break;case"ValueTooLarge":var f,p,h,g,m,b,y,w,_,v,x=t,E=r;let S=x.argument.name,k=E.arguments.getDeepSubSelectionValue(x.selectionPath)?.asObject(),T;if(k){let e=k.getDeepField(x.argumentPath)?.value;e?.markAsError(),e instanceof ry&&(T=e.text)}E.addErrorMessage(e=>{let t=["Unable to fit value"];return T&&t.push(e.red(T)),t.push(`into a 64-bit signed integer for field \`${e.bold(S)}\``),t.join(" ")});break;case"SomeFieldsMissing":var A=t,P=r;let R=A.argumentPath[A.argumentPath.length-1],O=P.arguments.getDeepSubSelectionValue(A.selectionPath)?.asObject();if(O){let e=O.getDeepFieldValue(A.argumentPath)?.asObject();e&&rE(e,A.inputType)}P.addErrorMessage(e=>{let t=[`Argument \`${e.bold(R)}\` of type ${e.bold(A.inputType.name)} needs`];return 1===A.constraints.minFieldCount?A.constraints.requiredFields?t.push(`${e.green("at least one of")} ${rT("or",A.constraints.requiredFields.map(t=>`\`${e.bold(t)}\``))} arguments.`):t.push(`${e.green("at least one")} argument.`):t.push(`${e.green(`at least ${A.constraints.minFieldCount}`)} arguments.`),t.push(rk(e)),t.join(" ")});break;case"TooManyFieldsGiven":var C=t,I=r;let N=C.argumentPath[C.argumentPath.length-1],D=I.arguments.getDeepSubSelectionValue(C.selectionPath)?.asObject(),$=[];if(D){let e=D.getDeepFieldValue(C.argumentPath)?.asObject();e&&(e.markAsError(),$=Object.keys(e.getFields()))}I.addErrorMessage(e=>{let t=[`Argument \`${e.bold(N)}\` of type ${e.bold(C.inputType.name)} needs`];return 1===C.constraints.minFieldCount&&1==C.constraints.maxFieldCount?t.push(`${e.green("exactly one")} argument,`):1==C.constraints.maxFieldCount?t.push(`${e.green("at most one")} argument,`):t.push(`${e.green(`at most ${C.constraints.maxFieldCount}`)} arguments,`),t.push(`but you provided ${rT("and",$.map(t=>e.red(t)))}. Please choose`),1===C.constraints.maxFieldCount?t.push("one."):t.push(`${C.constraints.maxFieldCount}.`),t.join(" ")});break;case"Union":let U;(U=function(e){var t=(e,t)=>{let r=ra(e),n=ra(t);return r!==n?r-n:ro(e)-ro(t)};if(0===e.length)return;let r=e[0];for(let n=1;n<e.length;n++)0>t(r,e[n])&&(r=e[n]);return r}(function(e){let t=new Map,r=[];for(let a of e){var n,i;if("InvalidArgumentType"!==a.kind){r.push(a);continue}let e=`${a.selectionPath.join(".")}:${a.argumentPath.join(".")}`,o=t.get(e);o?t.set(e,{...a,argument:{...a.argument,typeNames:(n=o.argument.typeNames,i=a.argument.typeNames,[...new Set(n.concat(i))])}}):t.set(e,a)}return r.push(...t.values()),r}(function e(t){return t.errors.flatMap(t=>"Union"===t.kind?e(t):[t])}(t))))?e(U,r,n):r.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+t.kind)}}(e,s,o);let{message:c,args:l}=rV(s,r);throw new tZ(rn({message:c,callsite:n,originalMethod:i,showColors:"pretty"===r,callArguments:l}),{clientVersion:a})}function rW(e){return e.replace(/^./,e=>e.toLowerCase())}function rB(e,t,r){return r?tB(r,({needs:e,compute:r},n)=>{var i,a,o;let s;return{name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:(i=t,a=n,o=r,(s=i?.[a]?.compute)?e=>o({...e,[a]:s(e)}):o)}}):{}}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var rK=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new t0;modelExtensionsCache=new t0;queryCallbacksCache=new t0;clientExtensions=t2(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=t2(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,r,n;let i,a,o;return t=this.previous?.getAllComputedFields(e),r=this.extension,i=rW(e),r.result&&(r.result.$allModels||r.result[i])?(n={...t,...rB(r.name,t,r.result.$allModels),...rB(r.name,t,r.result[i])},a=new t0,o=(e,t)=>a.getOrCreate(e,()=>t.has(e)?[e]:(t.add(e),n[e]?n[e].needs.flatMap(e=>o(e,t)):[e])),tB(n,e=>({...e,needs:o(e.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=rW(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&n.push(i[e][t]),void 0!==i[e].$allOperations&&n.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&n.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&n.push(i.$allModels.$allOperations)),void 0!==i[t]&&n.push(i[t]),void 0!==i.$allOperations&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},rJ=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new rK(t))}isEmpty(){return void 0===this.head}append(t){return new e(new rK(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};$(),U(),j(),M(),L(),e_();var rG=class{constructor(e){this.name=e}};function rz(e){return new rG(e)}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var rX=Symbol(),rQ=class{constructor(e){if(e!==rX)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?rY:e}},rY=new rQ(rX);function rZ(e){return e instanceof rQ}var r0={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},r1="explicitly `undefined` values are not allowed";function r2({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=rJ.empty(),callsite:a,clientMethod:o,errorFormat:s,clientVersion:c,previewFeatures:l,globalOmit:u}){let d=new r3({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:o,errorFormat:s,clientVersion:c,previewFeatures:l,globalOmit:u});return{modelName:e,action:r0[t],query:function e({select:t,include:r,...n}={},i){var a,o,s,c,l,u,d;let f,p=n.omit;return delete n.omit,{arguments:r5(n,i),selection:(a=t,o=r,s=p,c=i,a?(o?c.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:c.getSelectionPath()}):s&&c.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:c.getSelectionPath()}),function(t,r){let n={},i=r.getComputedFields();for(let[a,o]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)r[e]=!0;return r}(t,i))){if(rZ(o))continue;let t=r.nestSelection(a);r6(o,t);let s=r.findField(a);if(!(i?.[a]&&!s)){if(!1===o||void 0===o||rZ(o)){n[a]=!1;continue}if(!0===o){s?.kind==="object"?n[a]=e({},t):n[a]=!0;continue}n[a]=e(o,t)}}return n}(a,c)):(l=c,u=o,d=s,f={},l.modelOrType&&!l.isRawAction()&&(f.$composites=!0,f.$scalars=!0),u&&function(t,r,n){for(let[i,a]of Object.entries(r)){if(rZ(a))continue;let r=n.nestSelection(i);if(r6(a,r),!1===a||void 0===a){t[i]=!1;continue}let o=n.findField(i);if(o&&"object"!==o.kind&&n.throwValidationError({kind:"IncludeOnScalar",selectionPath:n.getSelectionPath().concat(i),outputType:n.getOutputTypeDescription()}),o){t[i]=e(!0===a?{}:a,r);continue}if(!0===a){t[i]=!0;continue}t[i]=e(a,r)}}(f,u,l),function(e,t,r){let n=r.getComputedFields();for(let[i,a]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete r[e];return r}({...r.getGlobalOmit(),...t},n))){if(rZ(a))continue;r6(a,r.nestSelection(i));let t=r.findField(i);n?.[i]&&!t||(e[i]=!a)}}(f,d,l),f))}}(r,d)}}function r5(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],a=t.nestArgument(n);rZ(i)||(void 0!==i?r[n]=function e(t,r){var n,i;if(null===t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if("bigint"==typeof t)return{$type:"BigInt",value:String(t)};if(t3(t)){if(t8(t))return{$type:"DateTime",value:t.toISOString()};r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(t instanceof rG)return{$type:"Param",value:t.name};if(rP(t))return{$type:"FieldRef",value:{_ref:t.name,_container:t.modelName}};if(Array.isArray(t))return function(t,r){let n=[];for(let i=0;i<t.length;i++){let a=r.nestArgument(String(i)),o=t[i];if(void 0===o||rZ(o)){let e=void 0===o?"undefined":"Prisma.skip";r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:a.getSelectionPath(),argumentPath:a.getArgumentPath(),argument:{name:`${r.getArgumentName()}[${i}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}n.push(e(o,a))}return n}(t,r);if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:n}=t;return{$type:"Bytes",value:R.from(e,r,n).toString("base64")}}if("object"==typeof(n=t)&&null!==n&&!0===n.__prismaRawParameters__)return t.values;if(t4(t))return{$type:"Decimal",value:t.toFixed()};if(t instanceof rC){if(t!==rU.instances[t._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:t._getName()}}return"object"==typeof(i=t)&&null!==i&&"function"==typeof i.toJSON?t.toJSON():"object"==typeof t?r5(t,r):void r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(t)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:r1}))}return r}function r6(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:r1})}var r3=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(e){rF({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[t1(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:tF(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function r8(e){if(!e._hasPreviewFlag("metrics"))throw new tZ("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}$(),U(),j(),M(),L(),e_();var r4=class{_client;constructor(e){this._client=e}prometheus(e){return r8(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return r8(this._client),this._client._engine.metrics({format:"json",...e})}};function r9(e,t){let r=t2(()=>(function(e){throw Error("Prisma.dmmf is not available when running in edge runtimes.")})(0));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var r7=new WeakMap,ne="$$PrismaTypedSql",nt=class{constructor(e,t){r7.set(this,{sql:e,values:t}),Object.defineProperty(this,ne,{value:ne})}get sql(){return r7.get(this).sql}get values(){return r7.get(this).values}};function nr(e){return(...t)=>new nt(e,t)}function nn(e){return null!=e&&e[ne]===ne}$(),U(),j(),M(),L(),e_();var ni=h(eX());$(),U(),j(),M(),L(),e_(),e2(),eL(),ez(),$(),U(),j(),M(),L(),e_();var na=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let i=0,a=0;for(;i<r.length;){let n=r[i++],o=t[i];if(n instanceof e){this.strings[a]+=n.strings[0];let e=0;for(;e<n.values.length;)this.values[a++]=n.values[e++],this.strings[a]=n.strings[e];this.strings[a]+=o}else this.values[a++]=n,this.strings[a]=o}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function no(e,t=",",r="",n=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new na([r,...Array(e.length-1).fill(t),n],e)}function ns(e){return new na([e],[])}var nc=ns("");function nl(e,...t){return new na(e,t)}function nu(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function nd(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function nf(e){let t=new t0;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var np={enumerable:!0,configurable:!0,writable:!0};function nh(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>np,has:(e,r)=>t.has(r),set:(e,r,n)=>t.add(r)&&Reflect.set(e,r,n),ownKeys:()=>[...t]}}var ng=Symbol.for("nodejs.util.inspect.custom");function nm(e,t){let r=function(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}(t),n=new Set,i=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...nb(Reflect.ownKeys(e),r),...nb(Array.from(r.keys()),r),...n])],set:(e,t,i)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(n.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let i=r.get(t);return i?i.getPropertyDescriptor?{...np,...i?.getPropertyDescriptor(t)}:np:n},defineProperty:(e,t,r)=>(n.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return i[ng]=function(){let e={...this};return delete e[ng],e},i}function nb(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function ny(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function nw(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function n_({error:e,user_facing_error:t},r,n){var i,a;let o;return t.error_code?new tX((i=t,a=n,o=i.message,("postgresql"===a||"postgres"===a||"mysql"===a)&&"P2037"===i.error_code&&(o+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),o),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new tY(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var nv=class{getLocation(){return null}};function nx(e){return"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new nv}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var nE={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function nS(e={}){return Object.entries(function(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}(e)).reduce((e,[t,r])=>(void 0!==nE[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function nk(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function nT(e={}){let{select:t,...r}=e;return"object"==typeof t?nS({...r,_count:t}):nS({...r,_count:{_all:!0}})}function nA(e={}){let t=nS(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var nP=e=>Array.isArray(e)?e:e.split("."),nR=(e,t)=>nP(t).reduce((e,t)=>e&&e[t],e),nO=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],nC=["aggregate","count","groupBy"];function nI(e,t){var r,n,i,a;let o,s,c=e._extensions.getAllModelExtensions(t)??{};return nm({},[(r=e,o=rW(n=t),s=Object.keys(re).concat("count"),{getKeys:()=>s,getPropertyValue(e){var t;let i=t=>i=>{let a=nx(r._errorFormat);return r._createPrismaPromise(s=>{let c={args:i,dataPath:[],action:e,model:n,clientMethod:`${o}.${e}`,jsModelName:o,transaction:s,callsite:a};return r._request({...c,...t})},{action:e,args:i,model:n})};return nO.includes(e)?function e(t,r,n,i,a,o){let s=t._runtimeDataModel.models[r].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return c=>{var l,u;let d,f=nx(t._errorFormat),p=void 0===i||void 0===a?[]:[...a,"select",i],h=void 0===o?c??{}:(d=c||!0,nP(p).reduceRight((e,t,r,n)=>Object.assign({},nR(o,n.slice(0,r)),{[t]:e}),d)),g=n({dataPath:p,callsite:f})(h),m=(l=t,u=r,l._runtimeDataModel.models[u].fields.filter(e=>"object"===e.kind).map(e=>e.name));return new Proxy(g,{get:(r,i)=>m.includes(i)?e(t,s[i].type,n,i,p,h):r[i],...nh([...m,...Object.getOwnPropertyNames(g)])})}}(r,n,i):(t=e,nC.includes(t))?"aggregate"===e?e=>i({action:"aggregate",unpacker:nk(e),argsMapper:nS})(e):"count"===e?e=>i({action:"count",unpacker:function(e={}){return"object"==typeof e.select?t=>nk(e)(t)._count:t=>nk(e)(t)._count._all}(e),argsMapper:nT})(e):"groupBy"===e?e=>i({action:"groupBy",unpacker:function(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}(e),argsMapper:nA})(e):void 0:i({})}}),(i=e,a=t,nf(nd("fields",()=>{let e,t=i._runtimeDataModel.models[a];return new Proxy({},{get(t,r){if(r in t||"symbol"==typeof r)return t[r];let n=e[r];if(n)return new rA(a,r,n.type,n.isList,"enum"===n.kind)},...nh(Object.keys(e=function(e,t){let r={};for(let n of e)r[n[t]]=n;return r}(t.fields.filter(e=>!e.relationName),"name")))})}))),nu(c),nd("name",()=>t),nd("$name",()=>t),nd("$parent",()=>e._appliedParent)])}$(),U(),j(),M(),L(),e_();var nN=Symbol();function nD(e){var t,r;let n,i,a,o,s=[(n=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>n,getPropertyValue:e=>t[e]}),(a=(i=Object.keys((r=e)._runtimeDataModel.models)).map(rW),o=[...new Set(i.concat(a))],nf({getKeys:()=>o,getPropertyValue(e){let t=e.replace(/^./,e=>e.toUpperCase());return void 0!==r._runtimeDataModel.models[t]?nI(r,t):void 0!==r._runtimeDataModel.models[e]?nI(r,e):void 0},getPropertyDescriptor(e){if(!a.includes(e))return{enumerable:!1}}})),nd(nN,()=>e),nd("$parent",()=>e._appliedParent)],c=e._extensions.getAllClientExtensions();return c&&s.push(nu(c)),nm(e,s)}function n$(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return nD(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function nU({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=nU({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let a=e(t,i,r)??t;return r.include&&nj({includeOrSelect:r.include,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&nj({includeOrSelect:r.select,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),a}function nj({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[a,o]of Object.entries(e)){if(!o||null==t[a]||rZ(o))continue;let e=n.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let s="object"==typeof o?o:{};t[a]=nU({visitor:i,result:t[a],args:s,modelName:e.type,runtimeDataModel:n})}}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),e_(),$(),U(),j(),M(),L(),e_();var nM=["$connect","$disconnect","$on","$transaction","$extends"];function nL(e){if("object"!=typeof e||null==e||e instanceof rC||rP(e))return e;if(t4(e))return new ey(e.toFixed());if(t3(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=nL(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:nL(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=nL(e[r]);return t}tF(e,"Unknown value")}var nq=e=>e;function nH(e=nq,t=nq){return r=>e(t(r))}$(),U(),j(),M(),L(),e_();var nV=tv("prisma:client"),nF={Vercel:"vercel","Netlify CI":"netlify"};function nW(e){return null===e?e:Array.isArray(e)?e.map(nW):"object"==typeof e?null!==e&&"object"==typeof e&&"string"==typeof e.$type?function({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:n}=R.from(t,"base64");return new Uint8Array(e,r,n)}case"DateTime":return new Date(t);case"Decimal":return new eb(t);case"Json":return JSON.parse(t);default:throw Error("Unknown tagged value")}}(e):null!==e.constructor&&"Object"!==e.constructor.name?e:function(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}(e,nW):e}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),e_(),$(),U(),j(),M(),L(),e_(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var nB=()=>globalThis.process?.release?.name==="node",nK=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,nJ=()=>!!globalThis.Deno,nG=()=>"object"==typeof globalThis.Netlify,nz=()=>"object"==typeof globalThis.EdgeRuntime,nX=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",nQ={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function nY(){let e=[[nG,"netlify"],[nz,"edge-light"],[nX,"workerd"],[nJ,"deno"],[nK,"bun"],[nB,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??"";return{id:e,prettyName:nQ[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function nZ({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,a=Object.keys(e)[0],o=e[a]?.url,s=t[a]?.url;if(void 0===a?i=void 0:s?i=s:o?.value?i=o.value:o?.fromEnvVar&&(i=r[o.fromEnvVar]),o?.fromEnvVar!==void 0&&void 0===i)throw"workerd"===nY().id?new tz(`error: Environment variable not found: ${o.fromEnvVar}.

In Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.
To solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,n):new tz(`error: Environment variable not found: ${o.fromEnvVar}.`,n);if(void 0===i)throw new tz("error: Missing URL environment variable, value, or override.",n);return i}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var n0=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},n1=class extends n0{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function n2(e,t){return{...e,isRetryable:t}}$(),U(),j(),M(),L(),e_();var n5=class extends n1{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,n2(t,!1))}};tK(n5,"InvalidDatasourceError"),$(),U(),j(),M(),L(),e_();var n6=h(eQ()),n3=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":n6.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let n=this.#e();return n.length>0&&(r["X-Capture-Telemetry"]=n.join(", ")),r}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function n8(e){return new Date(1e3*e[0]+e[1]/1e6)}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var n4=class extends n1{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",n2(e,!0))}};tK(n4,"ForcedRetryError"),$(),U(),j(),M(),L(),e_();var n9=class extends n1{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,n2(t,!1))}};tK(n9,"NotImplementedYetError"),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var n7=class extends n1{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},ie=class extends n7{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",n2(e,!0))}};tK(ie,"SchemaMissingError"),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var it="This request could not be understood by the server",ir=class extends n7{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||it,n2(e,!1)),r&&(this.code=r)}};tK(ir,"BadRequestError"),$(),U(),j(),M(),L(),e_();var ii=class extends n7{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",n2(e,!0)),this.logs=t}};tK(ii,"HealthcheckTimeoutError"),$(),U(),j(),M(),L(),e_();var ia=class extends n7{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,n2(e,!0)),this.logs=r}};tK(ia,"EngineStartupError"),$(),U(),j(),M(),L(),e_();var io=class extends n7{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",n2(e,!1))}};tK(io,"EngineVersionNotSupportedError"),$(),U(),j(),M(),L(),e_();var is="Request timed out",ic=class extends n7{name="GatewayTimeoutError";code="P5009";constructor(e,t=is){super(t,n2(e,!1))}};tK(ic,"GatewayTimeoutError"),$(),U(),j(),M(),L(),e_();var il=class extends n7{name="InteractiveTransactionError";code="P5015";constructor(e,t="Interactive transaction error"){super(t,n2(e,!1))}};tK(il,"InteractiveTransactionError"),$(),U(),j(),M(),L(),e_();var iu=class extends n7{name="InvalidRequestError";code="P5011";constructor(e,t="Request parameters are invalid"){super(t,n2(e,!1))}};tK(iu,"InvalidRequestError"),$(),U(),j(),M(),L(),e_();var id="Requested resource does not exist",ip=class extends n7{name="NotFoundError";code="P5003";constructor(e,t=id){super(t,n2(e,!1))}};tK(ip,"NotFoundError"),$(),U(),j(),M(),L(),e_();var ih="Unknown server error",ig=class extends n7{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||ih,n2(e,!0)),this.logs=r}};tK(ig,"ServerError"),$(),U(),j(),M(),L(),e_();var im="Unauthorized, check your connection string",ib=class extends n7{name="UnauthorizedError";code="P5007";constructor(e,t=im){super(t,n2(e,!1))}};tK(ib,"UnauthorizedError"),$(),U(),j(),M(),L(),e_();var iy="Usage exceeded, retry again later",iw=class extends n7{name="UsageExceededError";code="P5008";constructor(e,t=iy){super(t,n2(e,!0))}};async function i_(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e)if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};else return{type:"UnknownTextError",body:e};if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function iv(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await i_(e);if("QueryEngineError"===n.type)throw new tX(n.body.message,{code:n.body.error_code,clientVersion:t});if("DataProxyError"===n.type){if("InternalDataProxyError"===n.body)throw new ig(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if("SchemaMissing"===n.body.EngineNotStarted.reason)return new ie(r);if("EngineVersionNotSupported"===n.body.EngineNotStarted.reason)throw new io(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,logs:t}=n.body.EngineNotStarted.reason.EngineStartupError;throw new ia(r,e,t)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,error_code:r}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new tz(e,t,r)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:e}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new ii(r,e)}}if("InteractiveTransactionMisrouted"in n.body)throw new il(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[n.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in n.body)throw new iu(r,n.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new ib(r,ix(im,n));if(404===e.status)return new ip(r,ix(id,n));if(429===e.status)throw new iw(r,ix(iy,n));if(504===e.status)throw new ic(r,ix(is,n));if(e.status>=500)throw new ig(r,ix(ih,n));if(e.status>=400)throw new ir(r,ix(it,n))}function ix(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}tK(iw,"UsageExceededError"),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var iE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var iS=class extends n1{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,n2(t,!0))}};async function ik(e,t,r=e=>e){let{clientVersion:n,...i}=t,a=r(fetch);try{return await a(e,i)}catch(e){throw new iS(e.message??"Unknown error",{clientVersion:n,cause:e})}}tK(iS,"RequestError");var iT=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,iA=tv("prisma:client:dataproxyEngine");async function iP(e,t){let r=t.clientVersion??"unknown";if(C.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return C.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==r&&"in-memory"!==r)return r;let[n,i]=r?.split("-")??[];if(void 0===i&&iT.test(n))return n;if(void 0!==i||"0.0.0"===r||"in-memory"===r){var a;let e,[t]="7.1.1-3.c2990dca591cba766e3b7ef5d9e8a84796e47ab7".split("-")??[],[n,i,o]=t.split("."),s=(a=`<=${n}.${i}.${o}`,encodeURI(`https://unpkg.com/prisma@${a}/package.json`)),c=await ik(s,{clientVersion:r});if(!c.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${c.status} ${c.statusText}, response body: ${await c.text()||"<empty body>"}`);let l=await c.text();iA("length of body fetched from unpkg.com",l.length);try{e=JSON.parse(l)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",l),e}return e.version}throw new n9("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:r})}async function iR(e,t){let r=await iP(e,t);return iA("version",r),r}var iO=tv("prisma:client:dataproxyEngine"),iC=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){(function(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new tz("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)})(e),this.config=e,this.env=e.env,this.inlineSchema=function(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,i=n%3,a=n-i,o,s,c,l,u;for(let e=0;e<a;e+=3)o=(0xfc0000&(u=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,s=(258048&u)>>12,c=(4032&u)>>6,l=63&u,r+=iE[o]+iE[s]+iE[c]+iE[l];return 1==i?(o=(252&(u=t[a]))>>2,s=(3&u)<<4,r+=iE[o]+iE[s]+"=="):2==i&&(o=(64512&(u=t[a]<<8|t[a+1]))>>10,s=(1008&u)>>4,c=(15&u)<<2,r+=iE[o]+iE[s]+iE[c]+"="),r}(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new n3({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await iR(this.host,this.config),iO("host",this.host),iO("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":iO(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:n8(e.timestamp),message:e.attributes.message??"",target:e.target??"BinaryEngine"});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:n8(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target??"BinaryEngine"});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let e=await ik(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||iO("schema response status",e.status);let t=await iv(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i=r?.kind==="itx"?r.options:void 0,a=nw(e,r);return(await this.requestInternal({body:a,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let a=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(a);let o=await ik(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);o.ok||iO("graphql response status",o.status),await this.handleError(await iv(o,this.clientVersion));let s=await o.json();if(s.extensions&&this.propagateResponseExtensions(s.extensions),"errors"in s)throw this.convertProtocolErrorsToClientError(s.errors);return"batchResult"in s?s.batchResult:s}})}async transaction(e,t,r){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[e]} transaction`,callback:async({logHttpCall:n})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),i=await this.url("transaction/start");n(i);let a=await ik(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await iv(a,this.clientVersion));let o=await a.json(),{extensions:s}=o;return s&&this.propagateResponseExtensions(s),{id:o.id,payload:{endpoint:o["data-proxy"].endpoint}}}{let i=`${r.payload.endpoint}/${e}`;n(i);let a=await ik(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await iv(a,this.clientVersion));let{extensions:o}=await a.json();o&&this.propagateResponseExtensions(o);return}}})}getURLAndAPIKey(){return function(e){let t={clientVersion:e.clientVersion},r=Object.keys(e.inlineDatasources)[0],n=nZ({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,..."u">typeof C?C.env:{}}}),i;try{i=new URL(n)}catch{throw new n5(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:a,searchParams:o}=i;if("prisma:"!==a&&a!==tI)throw new n5(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let s=o.get("api_key");if(null===s||s.length<1)throw new n5(`Error validating datasource \`${r}\`: the URL must contain a valid API key`,t);let c=!function(e){if(!tN(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}(i)?"https:":"http:";return C.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&i.searchParams.has("use_http")&&(c="http:"),{apiKey:s,url:new URL(i.href.replace(a,c))}}({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new n9("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof n1)||!n.isRetryable)throw n;if(t>=3)throw n instanceof n4?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/3 failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let r=await function(e){let t=50*Math.pow(2,e),r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(e=>setTimeout(()=>e(n),n))}(t);this.logEmitter.emit("warn",{message:`Retrying after ${r}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof ie)throw await this.uploadSchema(),new n4({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?n_(e[0],this.config.clientVersion,this.config.activeProvider):new tY(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}};$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var iI,iN={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(void 0===r)throw new tz(`The \`adapter\` option for \`PrismaClient\` is required in this context (${nY().prettyName})`,t);if(void 0===n)throw new tz("WASM engine was unexpectedly `undefined`",t);return void 0===iI&&(iI=(async()=>{let e=await n.getRuntime(),r=await n.getQueryEngineWasmModule();if(null==r)throw new tz("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i=new WebAssembly.Instance(r,{"./query_engine_bg.js":e}),a=i.exports.__wbindgen_start;return e.__wbg_set_wasm(i.exports),a(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await iI}}},iD=tv("prisma:client:libraryEngine"),i$=1n,iU=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??iN,this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==n&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r,n=(r=i$++,i$>0xffffffffffffffffn&&(i$=1n),r).toString();try{return await e(...t,n)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(n);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){var n;await this.start();let i=await this.adapterPromise,a=JSON.stringify(t),o;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});o=await this.engine?.startTransaction(e,a)}else"commit"===e?o=await this.engine?.commitTransaction(r.id,a):"rollback"===e&&(o=await this.engine?.rollbackTransaction(r.id,a));let s=this.parseEngineResponse(o);if("object"==typeof(n=s)&&null!==n&&void 0!==n.error_code){let e=this.getExternalAdapterError(s,i?.errorRegistry);throw e?e.error:new tX(s.message,{code:s.error_code,clientVersion:this.config.clientVersion,meta:s.meta})}if("string"==typeof s.message)throw new tY(s.message,{clientVersion:this.config.clientVersion});return s}async instantiateLibrary(){if(iD("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){}parseEngineResponse(e){if(!e)throw new tY("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new tY("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new D(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tR));let t=await this.adapterPromise;t&&iD("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:C.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new tz(e.message,this.config.clientVersion,e.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown","query"===t.item_type&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):("level"in t&&"error"===t.level&&t.message,this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path})))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return iD(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{iD("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tR)),await this.adapterPromise,iD("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new tz(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return iD("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(e=>setImmediate(e)),iD("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,iD("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){iD(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let e=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let t=this.parseEngineResponse(await this.executingQueryPromise);if(t.errors)throw 1===t.errors.length?this.buildQueryError(t.errors[0],e?.errorRegistry):new tY(JSON.stringify(t.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:t}}catch(t){if(t instanceof tz)throw t;"GenericFailure"===t.code&&t.message?.startsWith("PANIC:");let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new tY(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){iD("requestBatch");let n=nw(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),function(e){if(e?.kind==="itx")return e.options.id}(t));let a=await this.executingQueryPromise,o=this.parseEngineResponse(a);if(o.errors)throw 1===o.errors.length?this.buildQueryError(o.errors[0],i?.errorRegistry):new tY(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});let{batchResult:s,errors:c}=o;if(Array.isArray(s))return s.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0],i?.errorRegistry):{data:e});throw c&&1===c.length?Error(c[0].error):Error(JSON.stringify(o))}buildQueryError(e,t){e.user_facing_error.is_panic;let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:n_(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if("P2036"===e.error_code&&t){let r=e.meta?.id;tV("number"==typeof r,"Malformed external JS error received from the engine");let n=t.consumeError(r);return tV(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};$(),U(),j(),M(),L(),e_();var ij=class{constructor(e){return new Proxy(this,{get(t,r){throw new tZ(`In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters`,e)}})}};$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var iM=e=>({command:e});function iL(e){try{return iq(e,"fast")}catch{return iq(e,"slow")}}function iq(e,t){return JSON.stringify(e.map(e=>(function e(t,r){var n;if(Array.isArray(t))return t.map(t=>e(t,r));if("bigint"==typeof t)return{prisma__type:"bigint",prisma__value:t.toString()};if(t3(t))return{prisma__type:"date",prisma__value:t.toJSON()};if(ey.isDecimal(t))return{prisma__type:"decimal",prisma__value:t.toJSON()};if(R.isBuffer(t))return{prisma__type:"bytes",prisma__value:t.toString("base64")};if((n=t)instanceof ArrayBuffer||n instanceof SharedArrayBuffer||"object"==typeof n&&null!==n&&("ArrayBuffer"===n[Symbol.toStringTag]||"SharedArrayBuffer"===n[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:R.from(t).toString("base64")};if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:n}=t;return{prisma__type:"bytes",prisma__value:R.from(e,r,n).toString("base64")}}return"object"==typeof t&&"slow"===r?iH(t):t})(e,t)))}function iH(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(iV);let t={};for(let r of Object.keys(e))t[r]=iV(e[r]);return t}function iV(e){return"bigint"==typeof e?e.toString():iH(e)}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),e_();var iF=/^(\s*alter\s)/i,iW=tv("prisma:client");function iB(e,t,r,n){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&iF.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var iK=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(nn(r))n=r.sql,i={values:iL(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;n=e,i={values:iL(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=r.sql,i={values:iL(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=r.text,i={values:iL(r.values),__prismaRawParameters__:!0};break;case"sqlserver":n=r.strings.reduce((e,t,r)=>`${e}@P${r}${t}`),i={values:iL(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?iW(`prisma.${e}(${n}, ${i.values})`):iW(`prisma.${e}(${n})`),{query:n,parameters:i}},iJ={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new na(t,r)}},iG={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function iz(e){return function(t,r){let n,i=(r=e)=>{try{return void 0===r||r?.kind==="itx"?n??=iX(t(r)):iX(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>i().then(e,t),catch:e=>i().catch(e),finally:e=>i().finally(e),requestTransaction(e){let t=i(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function iX(e){return"function"==typeof e.then?e:Promise.resolve(e)}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var iQ=tx.split(".")[0],iY={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},iZ=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${iQ}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??iY}};function i0(e){return"number"==typeof e.batchRequestIdx}function i1(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${i1(r)})`:t}).join(" ")})`}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var i2={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};$(),U(),j(),M(),L(),e_();var i5=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,C.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let n=e[r];n instanceof Error?t[r].reject(n):t[r].resolve(n)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function i6(e){let t=[],r=function(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],a={...r};for(let t=0;t<i.length;t++)a[e.columns[t]]=function e(t,r){if(null===r)return r;switch(t){case"bigint":return BigInt(r);case"bytes":{let{buffer:e,byteOffset:t,byteLength:n}=R.from(r,"base64");return new Uint8Array(e,t,n)}case"decimal":return new ey(r);case"datetime":case"date":return new Date(r);case"time":return new Date(`1970-01-01T${r}Z`);case"bigint-array":return r.map(t=>e("bigint",t));case"bytes-array":return r.map(t=>e("bytes",t));case"decimal-array":return r.map(t=>e("decimal",t));case"datetime-array":return r.map(t=>e("datetime",t));case"date-array":return r.map(t=>e("date",t));case"time-array":return r.map(t=>e("time",t));default:return r}}(e.types[t],i[t]);t.push(a)}return t}$(),U(),j(),M(),L(),e_(),e_();var i3=tv("prisma:client:request_handler"),i8=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new i5({batchLoader:function(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?function e(t,r,n,i){if(n===r.length)return i(t);let a=t.customDataProxyFetch,o=t.requests[0].transaction;return r[n]({args:{queries:t.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:o?{isolationLevel:"batch"===o.kind?o.isolationLevel:void 0}:void 0},__internalParams:t,query(o,s=t){let c=s.customDataProxyFetch;return s.customDataProxyFetch=nH(a,c),e(s,r,n+1,i)}})}(r,n,0,e):e(r)}}(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:n}=e[0],i=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),o=e.some(e=>i2[e.protocolQuery.action]);return(await this.client._engine.requestBatch(i,{traceparent:a,transaction:function(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:i4(e)};tF(e,"Unknown transaction kind")}}(r),containsWrite:o,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?i4(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:i2[e.protocolQuery.action],customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:function(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(i1(e.query.arguments)),t.push(i1(e.query.selection)),t.join("")}(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(o){let{clientMethod:t,callsite:r,transaction:n,args:i,modelName:a}=e;this.handleAndLogRequestError({error:o,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return C.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:o}){var s,c,l;if(i3(e),s=e,c=n,i0(s)&&c?.kind==="batch"&&s.batchRequestIdx!==c.index)throw e;e instanceof tX&&("P2009"===(l=e).code||"P2012"===l.code)&&rF({args:i,errors:[function e(t){if("Union"===t.kind)return{kind:"Union",errors:t.errors.map(e)};if(Array.isArray(t.selectionPath)){let[,...e]=t.selectionPath;return{...t,selectionPath:e}}return t}(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:o});let u=e.message;if(r&&(u=rn({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:u})),u=this.sanitizeMessage(u),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new tX(u,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new tQ(u,this.client._clientVersion);if(e instanceof tY)throw new tY(u,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof tz)throw new tz(u,this.client._clientVersion);if(e instanceof tQ)throw new tQ(u,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?function(e){if("string"!=typeof e)throw TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(tW,"")}(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=nR(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===n?i6(i):nW(i);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function i4(e){return{id:e.id,payload:e.payload}}$(),U(),j(),M(),L(),e_(),$(),U(),j(),M(),L(),e_();var i9=h(eZ());$(),U(),j(),M(),L(),e_();var i7=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};tK(i7,"PrismaClientConstructorValidationError");var ae=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],at=["pretty","colorless","minimal"],ar=["info","query","warn","error"],an={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new i7(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let e=ai(r,t)||` Available datasources: ${t.join(", ")}`;throw new i7(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new i7(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,i]of Object.entries(n)){if("url"!==t)throw new i7(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new i7(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===tE(t.generator))throw new i7('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new i7('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===tE(t.generator))throw new i7('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new i7(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new i7(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!at.includes(e)){let t=ai(e,at);throw new i7(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new i7(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=ai(e,t);throw new i7(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,n]of Object.entries(r))if(e[t])e[t](n);else throw new i7(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!ar.includes(e)){let t=ai(e,ar);throw new i7(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new i7(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new i7(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new i7('"omit" option is expected to be an object.');if(null===e)throw new i7('"omit" option can not be `null`');let r=[];for(let[a,o]of Object.entries(e)){var n,i;let e=(n=a,aa((i=t.runtimeDataModel).models,n)??aa(i.types,n));if(!e){r.push({kind:"UnknownModel",modelKey:a});continue}for(let[t,n]of Object.entries(o)){let i=e.fields.find(e=>e.name===t);if(!i){r.push({kind:"UnknownField",modelKey:a,fieldName:t});continue}if(i.relationName){r.push({kind:"RelationInOmit",modelKey:a,fieldName:t});continue}"boolean"!=typeof n&&r.push({kind:"InvalidFieldValue",modelKey:a,fieldName:t})}}if(r.length>0)throw new i7(function(e,t){let r=rq(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:i}=rV(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new i7(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=ai(r,t);throw new i7(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function ai(e,t){if(0===t.length||"string"!=typeof e)return"";let r=function(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,i9.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}(e,t);return r?` Did you mean "${r}"?`:""}function aa(e,t){let r=Object.keys(e).find(e=>t1(e)===t);if(r)return e[r]}$(),U(),j(),M(),L(),e_();var ao=tv("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var as={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},ac=Symbol.for("prisma.client.transaction.id"),al={id:0,nextId(){return++this.id}};function au(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=iz();constructor(t){let r;(function({postinstall:e,ciName:t,clientVersion:r,generator:n}){if(nV("checkPlatformCaching:postinstall",e),nV("checkPlatformCaching:ciName",t),!0===e&&!(n?.output&&"string"==typeof(n.output.fromEnvVar??n.output.value))&&t&&t in nF){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${nF[t]}-build`;throw console.error(e),new tz(e,r)}})(e=t?.__internal?.configOverride?.(e)??e),t&&function(e,t){for(let[r,n]of Object.entries(e)){if(!ae.includes(r)){let e=ai(r,ae);throw new i7(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}an[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new i7('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(t,e);let n=new eG().on("error",()=>{});if(this._extensions=rJ.empty(),this._previewFeatures=function({generator:e}){return e?.previewFeatures??[]}(e),this._clientVersion=e.clientVersion??"6.19.2",this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=new iZ,e.relativeEnvPaths&&(e.relativeEnvPaths.rootEnvPath&&eJ.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),e.relativeEnvPaths.schemaEnvPath&&eJ.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)),t?.adapter){r=t.adapter;let n="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(r.provider!==n)throw new tz(`The Driver Adapter \`${r.adapterName}\`, based on \`${r.provider}\`, is not compatible with the provider \`${n}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new tz("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let i=e.injectableEdgeEnv?.();try{let a=t??{},o=a.__internal??{},s=!0===o.debug;s&&tv.enable("prisma:client");let c=eJ.resolve(e.dirname,e.relativePath);eM.existsSync(c)||(c=e.dirname),ao("dirname",e.dirname),ao("relativePath",e.relativePath),ao("cwd",c);let l=o.engine||{};if(a.errorFormat?this._errorFormat=a.errorFormat:"production"===C.env.NODE_ENV?this._errorFormat="minimal":(C.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:c,dirname:e.dirname,enableDebugLogs:s,allowTriggerPanic:l.allowTriggerPanic,prismaPath:l.binaryPath??void 0,engineEndpoint:l.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:a.log&&function(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}(a.log),logQueries:a.log&&!!("string"==typeof a.log?"query"===a.log:a.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:i?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:function(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}(a,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:a.transactionOptions?.maxWait??2e3,timeout:a.transactionOptions?.timeout??5e3,isolationLevel:a.transactionOptions?.isolationLevel},logEmitter:n,isBundled:e.isBundled,adapter:r},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:nZ,getBatchRequestPayload:nw,prismaGraphQLToJSError:n_,PrismaClientUnknownRequestError:tY,PrismaClientInitializationError:tz,PrismaClientKnownRequestError:tX,debug:tv("prisma:client:accelerateEngine"),engineVersion:ni.version,clientVersion:e.clientVersion}},ao("clientVersion",e.clientVersion),this._engine=function({copyEngine:e=!0},t){let r;try{r=nZ({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...C.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:i,diagnostics:a}=function({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let i=[],a=[],o=e=>{let t=e.join(`
`);a.push({_tag:"error",value:t})},s=!!e?.startsWith("prisma://"),c=tN(e),l=!!t,u=s||c;!l&&r&&u&&"client"!==n&&"wasm-compiler-edge"!==n&&i.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let d=u||!r;l&&(d||"edge"===n)&&("edge"===n?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):u?o(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):r||o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let f={accelerate:d,ppg:c,driverAdapters:l};return a.length>0?{ok:!1,diagnostics:{warnings:i,errors:a},isUsing:f}:{ok:!0,diagnostics:{warnings:i},isUsing:f}}({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"wasm-engine-edge"});for(let e of a.warnings)tG(...e.value);if(!n)throw new tZ(a.errors[0].value,{clientVersion:t.clientVersion});return tE(t.generator),(i.accelerate||i.ppg)&&i.driverAdapters,i.accelerate?new iC(t):i.driverAdapters?new iU(t):new ij({clientVersion:t.clientVersion})}(e,this._engineConfig),this._requestHandler=new i8(this,n),a.log)for(let e of a.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{tD.log(`${tD.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=nD(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{tm.length=0}}$executeRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:iK({clientMethod:t,activeProvider:i}),callsite:nx(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[n,i]=ad(e,t);return iB(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",n,i)}throw new tZ("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(iB(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new tZ(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:iM,callsite:nx(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:iK({clientMethod:t,activeProvider:i}),callsite:nx(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...ad(e,t));throw new tZ("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new tZ("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){var r;let n=al.nextId(),i=function(e,t=()=>{}){let r,n=new Promise(e=>r=e);return{then:i=>(0==--e&&r(t()),i?.(n))}}(e.length);return 0===(r=e.map((e,r)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return e.requestTransaction?.({kind:"batch",id:n,index:r,isolationLevel:a,lock:i})??e})).length?Promise.resolve([]):new Promise((e,t)=>{let n=Array(r.length),i=null,a=!1,o=0,s=()=>{a||++o===r.length&&(a=!0,i?t(i):e(n))},c=e=>{a||(a=!0,t(e))};for(let e=0;e<r.length;e++)r[e].then(t=>{n[e]=t,s()},t=>{i0(t)?t.batchRequestIdx===e?c(t):(i||(i=t),s()):c(t)})})}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},n={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},i=await this._engine.transaction("start",r,n),a;try{let t={kind:"itx",...i};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,i)}catch(e){throw await this._engine.transaction("rollback",r,i).catch(()=>{}),e}return a}_createItxClient(e){return nm(nD(nm(this[nN]?this[nN]:this,[nd("_appliedParent",()=>this._appliedParent._createItxClient(e)),nd("_createPrismaPromise",()=>iz(e)),nd(ac,()=>e.id)])),[ny(nM)])}$transaction(e,t){let r;return r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??as,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=async r=>{let{runInTransaction:n,args:i,...a}=r,o={...e,...a};i&&(o.args=t.middlewareArgsToRequestArgs(i)),void 0!==e.transaction&&!1===n&&delete o.transaction;let s=await function(e,t){let{jsModelName:r,action:n,clientMethod:i}=t;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(r??"$none",r?n:i);return function e(t,r,n,i=0){return t._createPrismaPromise(a=>{let o=r.customDataProxyFetch;return"transaction"in r&&void 0!==a&&(r.transaction?.kind==="batch"&&r.transaction.lock.then(),r.transaction=a),i===n.length?t._executeRequest(r):n[i]({model:r.model,operation:r.model?r.action:r.clientMethod,args:function(e){var t,r;if(e instanceof na){return new na((t=e).strings,t.values)}if(nn(e)){return new nt((r=e).sql,r.values)}if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=nL(e[r]);return t}let n={};for(let t in e)n[t]=nL(e[t]);return n}(r.args??{}),__internalParams:r,query:(a,s=r)=>{let c=s.customDataProxyFetch;return s.customDataProxyFetch=nH(o,c),s.args=a,e(t,s,n,i+1)}})})}(e,t,a)}(this,o);return o.model?function({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:nU({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=rW(t);return function({result:e,modelName:t,select:r,omit:n,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let o=[],s=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&s.push(ny(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&s.push(ny(e))}(function(e,t){return t.every(t=>Object.prototype.hasOwnProperty.call(e,t))})(e,t.needs)&&o.push(function(e,t){return nf(nd(e.name,()=>e.compute(t)))}(t,nm(e,o)))}return o.length>0||s.length>0?nm(e,[...o,...s]):e}({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...a?.[i],...r.omit},extensions:n})}})}({result:s,modelName:o.model,args:o.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):s};return this._tracingHelper.runInChildSpan(n.operation,()=>i(r))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:n,action:i,model:a,argsMapper:o,transaction:s,unpacker:c,otelParentCtx:l,customDataProxyFetch:u}){try{e=o?o(e):e;let d=this._tracingHelper.runInChildSpan({name:"serialize"},()=>r2({modelName:a,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return tv.enabled("prisma:client")&&(ao("Prisma Client call:"),ao(`prisma.${t}(${function(e){if(void 0===e)return"";let t=rq(e);return new rc(0,{colors:rd}).write(t).toString()}(e)})`),ao("Generated request:"),ao(JSON.stringify(d,null,2)+`
`)),s?.kind==="batch"&&await s.lock,this._requestHandler.request({protocolQuery:d,modelName:a,action:i,clientMethod:t,dataPath:r,callsite:n,args:e,extensions:this._extensions,transaction:s,unpacker:c,otelParentCtx:l,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:u})}catch(e){throw e.clientVersion=this._clientVersion,e}}$metrics=new r4(this);_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=n$}return t}function ad(e,t){var r;return Array.isArray(r=e)&&Array.isArray(r.raw)?[new na(e,t),iJ]:[e,iG]}$(),U(),j(),M(),L(),e_();var af=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function ap(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!af.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}$(),U(),j(),M(),L(),e_(),e_()},54998,(e,t,r)=>{"use strict";let n;var i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,c={},l={QueryEngine:()=>N,__wbg_Error_e83987f665cf5504:()=>D,__wbg_Number_bb48ca12f395cd08:()=>$,__wbg_String_8f0eb39a4a4c2f66:()=>U,__wbg___wbindgen_bigint_get_as_i64_f3ebc5a755000afd:()=>j,__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68:()=>M,__wbg___wbindgen_debug_string_df47ffb5e35e6763:()=>L,__wbg___wbindgen_in_bb933bd9e1b3bc0f:()=>q,__wbg___wbindgen_is_bigint_cb320707dcd35f0b:()=>H,__wbg___wbindgen_is_function_ee8a6c5833c90377:()=>V,__wbg___wbindgen_is_object_c818261d21f283a4:()=>F,__wbg___wbindgen_is_string_fbb76cb2940daafd:()=>W,__wbg___wbindgen_is_undefined_2d472862bd29a478:()=>B,__wbg___wbindgen_jsval_eq_6b13ab83478b1c50:()=>K,__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147:()=>J,__wbg___wbindgen_number_get_a20bf9b85341449d:()=>G,__wbg___wbindgen_string_get_e4f06c90489ad01b:()=>z,__wbg___wbindgen_throw_b855445ff6a94295:()=>X,__wbg__wbg_cb_unref_2454a539ea5790d9:()=>Q,__wbg_call_525440f72fbfc0ea:()=>Y,__wbg_call_e762c39fa8ea36bf:()=>Z,__wbg_crypto_805be4ce92f1e370:()=>ee,__wbg_done_2042aa2670fb1db1:()=>et,__wbg_entries_e171b586f8f6bdbf:()=>er,__wbg_exec_fdeec61d47617356:()=>en,__wbg_getRandomValues_f6a868620c8bab49:()=>ei,__wbg_getTime_14776bfb48a1bff9:()=>ea,__wbg_get_7bed016f185add81:()=>eo,__wbg_get_ece95cf6585650d9:()=>es,__wbg_get_efcb449f58ec27c2:()=>ec,__wbg_get_with_ref_key_1dc361bd10053bfe:()=>el,__wbg_has_787fafc980c3ccdb:()=>eu,__wbg_instanceof_ArrayBuffer_70beb1189ca63b38:()=>ed,__wbg_instanceof_Map_8579b5e2ab5437c7:()=>ef,__wbg_instanceof_Promise_001fdd42afa1b7ef:()=>ep,__wbg_instanceof_Uint8Array_20c8e73002f7af98:()=>eh,__wbg_isArray_96e0af9891d0945d:()=>eg,__wbg_isSafeInteger_d216eda7911dde36:()=>em,__wbg_iterator_e5822695327a3c39:()=>eb,__wbg_keys_b4d27b02ad14f4be:()=>ey,__wbg_length_69bca3cb64fc8748:()=>ew,__wbg_length_cdd215e10d9dd507:()=>e_,__wbg_msCrypto_2ac4d17c4748234a:()=>ev,__wbg_new_0_f9740686d739025c:()=>ex,__wbg_new_1acc0b6eea89d040:()=>eE,__wbg_new_23fa8b12a239f036:()=>eS,__wbg_new_3c3d849046688a66:()=>ek,__wbg_new_5a79be3ab53b8aa5:()=>eT,__wbg_new_68651c719dcda04e:()=>eA,__wbg_new_e17d9f43105b08be:()=>eP,__wbg_new_from_slice_92f4d78ca282a2d2:()=>eR,__wbg_new_no_args_ee98eee5275000a4:()=>eO,__wbg_new_with_length_01aa0dc35aa13543:()=>eC,__wbg_next_020810e0ae8ebcb0:()=>eI,__wbg_next_2c826fe5dfec6b6a:()=>eN,__wbg_node_ecc8306b9857f33d:()=>eD,__wbg_now_793306c526e2e3b6:()=>e$,__wbg_now_7fd00a794a07d388:()=>eU,__wbg_now_b3f7572f6ef3d3a9:()=>ej,__wbg_process_5cff2739921be718:()=>eM,__wbg_prototypesetcall_2a6620b6922694b2:()=>eL,__wbg_push_df81a39d04db858c:()=>eq,__wbg_queueMicrotask_5a8a9131f3f0b37b:()=>eH,__wbg_queueMicrotask_6d79674585219521:()=>eV,__wbg_randomFillSync_d3c85af7e31cf1f8:()=>eF,__wbg_require_0c566c6f2eef6c79:()=>eW,__wbg_resolve_caf97c30b83f7053:()=>eB,__wbg_setTimeout_5d6a1d4fc51ea450:()=>eK,__wbg_set_3f1d0b984ed272ed:()=>eJ,__wbg_set_907fb406c34a251d:()=>eG,__wbg_set_c213c871859d6500:()=>ez,__wbg_set_c2abbebe8b9ebee1:()=>eX,__wbg_set_wasm:()=>f,__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e:()=>eQ,__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac:()=>eY,__wbg_static_accessor_SELF_6fdf4b64710cc91b:()=>eZ,__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2:()=>e0,__wbg_subarray_480600f3d6a9f26c:()=>e1,__wbg_then_4f46f6544e6b4a28:()=>e2,__wbg_then_70d05cf780a18d77:()=>e5,__wbg_valueOf_9eee4828c11458ca:()=>e6,__wbg_value_692627309814bb8c:()=>e3,__wbg_versions_a8e5a362e1f16442:()=>e8,__wbindgen_cast_2241b6af4c4b2941:()=>e4,__wbindgen_cast_4625c577ab2ec9ee:()=>e9,__wbindgen_cast_7bf296c42657ff30:()=>e7,__wbindgen_cast_9ae0607507abb057:()=>te,__wbindgen_cast_cb9088102bce6b30:()=>tt,__wbindgen_cast_d6cd19b81560fd6e:()=>tr,__wbindgen_init_externref_table:()=>tn,debug_panic:()=>O,getBuildTimeInfo:()=>R};for(var u in l)i(c,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=a(t,c))||n.enumerable});return e})(i({},"__esModule",{value:!0}),c);var d=()=>{};function f(e){n=e}d.prototype=d;let p=null;function h(){return(null===p||0===p.byteLength)&&(p=new Uint8Array(n.memory.buffer)),p}let g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();let m=0;function b(e,t){var r;return e>>>=0,r=e,(m+=t)>=0x7ff00000&&((g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),m=t),g.decode(h().subarray(r,r+t))}let y=0,w=new TextEncoder;function _(e,t,r){if(void 0===r){let r=w.encode(e),n=t(r.length,1)>>>0;return h().subarray(n,n+r.length).set(r),y=r.length,n}let n=e.length,i=t(n,1)>>>0,a=h(),o=0;for(;o<n;o++){let t=e.charCodeAt(o);if(t>127)break;a[i+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),i=r(i,n,n=o+3*e.length,1)>>>0;let t=h().subarray(i+o,i+n);o+=w.encodeInto(e,t).written,i=r(i,n,o,1)>>>0}return y=o,i}"encodeInto"in w||(w.encodeInto=function(e,t){let r=w.encode(e);return t.set(r),{read:e.length,written:r.length}});let v=null;function x(){return(null===v||!0===v.buffer.detached||void 0===v.buffer.detached&&v.buffer!==n.memory.buffer)&&(v=new DataView(n.memory.buffer)),v}function E(e){return null==e}function S(e){let t=n.__externref_table_alloc();return n.__wbindgen_externrefs.set(t,e),t}function k(e,t){try{return e.apply(this,t)}catch(t){let e=S(t);n.__wbindgen_exn_store(e)}}function T(e,t){return e>>>=0,h().subarray(e/1,e/1+t)}let A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function P(e){let t=n.__wbindgen_externrefs.get(e);return n.__externref_table_dealloc(e),t}function R(){return n.getBuildTimeInfo()}function O(e){var t=E(e)?0:_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=y;let i=n.debug_panic(t,r);if(i[1])throw P(i[0])}function C(e,t,r){n.wasm_bindgen__convert__closures_____invoke__ha235f3ea55a06a09(e,t,r)}let I=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_queryengine_free(e>>>0,1));class N{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,I.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_queryengine_free(e,0)}disconnect(e,t){let r=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=y,a=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),o=y;return n.queryengine_disconnect(this.__wbg_ptr,r,i,a,o)}startTransaction(e,t,r){let i=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=y,o=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=y,c=_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),l=y;return n.queryengine_startTransaction(this.__wbg_ptr,i,a,o,s,c,l)}commitTransaction(e,t,r){let i=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=y,o=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=y,c=_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),l=y;return n.queryengine_commitTransaction(this.__wbg_ptr,i,a,o,s,c,l)}rollbackTransaction(e,t,r){let i=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=y,o=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=y,c=_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),l=y;return n.queryengine_rollbackTransaction(this.__wbg_ptr,i,a,o,s,c,l)}constructor(e,t,r){const i=n.queryengine_new(e,t,r);if(i[2])throw P(i[1]);return this.__wbg_ptr=i[0]>>>0,I.register(this,this.__wbg_ptr,this),this}query(e,t,r,i){let a=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=y,s=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),c=y;var l=E(r)?0:_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),u=y;let d=_(i,n.__wbindgen_malloc,n.__wbindgen_realloc),f=y;return n.queryengine_query(this.__wbg_ptr,a,o,s,c,l,u,d,f)}trace(e){let t=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=y;return n.queryengine_trace(this.__wbg_ptr,t,r)}connect(e,t){let r=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=y,a=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),o=y;return n.queryengine_connect(this.__wbg_ptr,r,i,a,o)}metrics(e){let t=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=y;return n.queryengine_metrics(this.__wbg_ptr,t,r)}}function D(e,t){return Error(b(e,t))}function $(e){return Number(e)}function U(e,t){let r=_(String(t),n.__wbindgen_malloc,n.__wbindgen_realloc),i=y;x().setInt32(e+4,i,!0),x().setInt32(e+0,r,!0)}function j(e,t){let r="bigint"==typeof t?t:void 0;x().setBigInt64(e+8,E(r)?BigInt(0):r,!0),x().setInt32(e+0,!E(r),!0)}function M(e){let t="boolean"==typeof e?e:void 0;return E(t)?0xffffff:+!!t}function L(e,t){let r=_(function e(t){let r,n=typeof t;if("number"==n||"boolean"==n||null==t)return`${t}`;if("string"==n)return`"${t}"`;if("symbol"==n){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==n){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){let r=t.length,n="[";r>0&&(n+=e(t[0]));for(let i=1;i<r;i++)n+=", "+e(t[i]);return n+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(r=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}(t),n.__wbindgen_malloc,n.__wbindgen_realloc),i=y;x().setInt32(e+4,i,!0),x().setInt32(e+0,r,!0)}function q(e,t){return e in t}function H(e){return"bigint"==typeof e}function V(e){return"function"==typeof e}function F(e){return"object"==typeof e&&null!==e}function W(e){return"string"==typeof e}function B(e){return void 0===e}function K(e,t){return e===t}function J(e,t){return e==t}function G(e,t){let r="number"==typeof t?t:void 0;x().setFloat64(e+8,E(r)?0:r,!0),x().setInt32(e+0,!E(r),!0)}function z(e,t){let r="string"==typeof t?t:void 0;var i=E(r)?0:_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),a=y;x().setInt32(e+4,a,!0),x().setInt32(e+0,i,!0)}function X(e,t){throw Error(b(e,t))}function Q(e){e._wbg_cb_unref()}function Y(){return k(function(e,t,r){return e.call(t,r)},arguments)}function Z(){return k(function(e,t){return e.call(t)},arguments)}function ee(e){return e.crypto}function et(e){return e.done}function er(e){return Object.entries(e)}function en(e,t,r){let n=e.exec(b(t,r));return E(n)?0:S(n)}function ei(){return k(function(e,t){e.getRandomValues(t)},arguments)}function ea(e){return e.getTime()}function eo(e,t){return e[t>>>0]}function es(){return k(function(e,t){return e[t]},arguments)}function ec(){return k(function(e,t){return Reflect.get(e,t)},arguments)}function el(e,t){return e[t]}function eu(){return k(function(e,t){return Reflect.has(e,t)},arguments)}function ed(e){let t;try{t=e instanceof ArrayBuffer}catch{t=!1}return t}function ef(e){let t;try{t=e instanceof Map}catch{t=!1}return t}function ep(e){let t;try{t=e instanceof Promise}catch{t=!1}return t}function eh(e){let t;try{t=e instanceof Uint8Array}catch{t=!1}return t}function eg(e){return Array.isArray(e)}function em(e){return Number.isSafeInteger(e)}function eb(){return Symbol.iterator}function ey(e){return Object.keys(e)}function ew(e){return e.length}function e_(e){return e.length}function ev(e){return e.msCrypto}function ex(){return new Date}function eE(){return{}}function eS(e,t,r,n){return new RegExp(b(e,t),b(r,n))}function ek(e,t){try{var r={a:e,b:t};return new Promise((e,t)=>{let i=r.a;r.a=0;try{var a;return a=r.b,void n.wasm_bindgen__convert__closures_____invoke__h1a2f20be69ab8911(i,a,e,t)}finally{r.a=i}})}finally{r.a=r.b=0}}function eT(e){return new Uint8Array(e)}function eA(){return new Map}function eP(){return[]}function eR(e,t){return new Uint8Array(T(e,t))}function eO(e,t){return new d(b(e,t))}function eC(e){return new Uint8Array(e>>>0)}function eI(){return k(function(e){return e.next()},arguments)}function eN(e){return e.next}function eD(e){return e.node}function e$(){return Date.now()}function eU(e){return e.now()}function ej(){return k(function(){return Date.now()},arguments)}function eM(e){return e.process}function eL(e,t,r){Uint8Array.prototype.set.call(T(e,t),r)}function eq(e,t){return e.push(t)}function eH(e){return e.queueMicrotask}function eV(e){queueMicrotask(e)}function eF(){return k(function(e,t){e.randomFillSync(t)},arguments)}function eW(){return k(function(){return t.require},arguments)}function eB(e){return Promise.resolve(e)}function eK(e,t){return setTimeout(e,t>>>0)}function eJ(e,t,r){e[t]=r}function eG(e,t,r){return e.set(t,r)}function ez(e,t,r){e[t>>>0]=r}function eX(){return k(function(e,t,r){return Reflect.set(e,t,r)},arguments)}function eQ(){let t=e.g;return E(t)?0:S(t)}function eY(){let e=typeof globalThis>"u"?null:globalThis;return E(e)?0:S(e)}function eZ(){let e=typeof self>"u"?null:self;return E(e)?0:S(e)}function e0(){return E(null)?0:S(null)}function e1(e,t,r){return e.subarray(t>>>0,r>>>0)}function e2(e,t){return e.then(t)}function e5(e,t,r){return e.then(t,r)}function e6(e){return e.valueOf()}function e3(e){return e.value}function e8(e){return e.versions}function e4(e,t){return b(e,t)}function e9(e){return BigInt.asUintN(64,e)}function e7(e,t){var r;let i,a;return r=n.wasm_bindgen__closure__destroy__hf9ae564cf31e91c2,i={a:e,b:t,cnt:1,dtor:r},(a=(...e)=>{i.cnt++;let t=i.a;i.a=0;try{return C(t,i.b,...e)}finally{i.a=t,a._wbg_cb_unref()}})._wbg_cb_unref=()=>{0==--i.cnt&&(i.dtor(i.a,i.b),i.a=0,A.unregister(i))},A.register(a,i,i),a}function te(e){return e}function tt(e,t){return T(e,t)}function tr(e){return e}function tn(){let e=n.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}Symbol.dispose&&(N.prototype[Symbol.dispose]=N.prototype.free)},97391,(e,t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});let{PrismaClientKnownRequestError:n,PrismaClientUnknownRequestError:i,PrismaClientRustPanicError:a,PrismaClientInitializationError:o,PrismaClientValidationError:s,getPrismaClient:c,sqltag:l,empty:u,join:d,raw:f,skip:p,Decimal:h,Debug:g,objectEnumValues:m,makeStrictEnum:b,Extensions:y,warnOnce:w,defineDmmfProperty:_,Public:v,getRuntime:x,createParam:E}=e.r(63617),S={};r.Prisma=S,r.$Enums={},S.prismaVersion={client:"6.19.2",engine:"c2990dca591cba766e3b7ef5d9e8a84796e47ab7"},S.PrismaClientKnownRequestError=n,S.PrismaClientUnknownRequestError=i,S.PrismaClientRustPanicError=a,S.PrismaClientInitializationError=o,S.PrismaClientValidationError=s,S.Decimal=h,S.sql=l,S.empty=u,S.join=d,S.raw=f,S.validator=v.validator,S.getExtensionContext=y.getExtensionContext,S.defineExtension=y.defineExtension,S.DbNull=m.instances.DbNull,S.JsonNull=m.instances.JsonNull,S.AnyNull=m.instances.AnyNull,S.NullTypes={DbNull:m.classes.DbNull,JsonNull:m.classes.JsonNull,AnyNull:m.classes.AnyNull},r.Prisma.TransactionIsolationLevel=b({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),r.Prisma.UserScalarFieldEnum={id:"id",email:"email",name:"name",password:"password",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.TripScalarFieldEnum={id:"id",name:"name",startDate:"startDate",endDate:"endDate",destinations:"destinations",notes:"notes",createdAt:"createdAt",updatedAt:"updatedAt",ownerId:"ownerId"},r.Prisma.DayScalarFieldEnum={id:"id",date:"date",city:"city",summary:"summary",journal:"journal",tripId:"tripId",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.ItemScalarFieldEnum={id:"id",dayId:"dayId",block:"block",type:"type",title:"title",description:"description",location:"location",mapUrl:"mapUrl",linkUrl:"linkUrl",reference:"reference",orderIndex:"orderIndex",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.AttachmentScalarFieldEnum={id:"id",dayId:"dayId",itemId:"itemId",fileName:"fileName",mimeType:"mimeType",sizeBytes:"sizeBytes",path:"path",createdAt:"createdAt"},r.Prisma.TagScalarFieldEnum={id:"id",name:"name"},r.Prisma.ItemTagScalarFieldEnum={itemId:"itemId",tagId:"tagId"},r.Prisma.TripShareScalarFieldEnum={id:"id",tripId:"tripId",userId:"userId",role:"role",createdAt:"createdAt"},r.Prisma.SortOrder={asc:"asc",desc:"desc"},r.Prisma.QueryMode={default:"default",insensitive:"insensitive"},r.Prisma.NullsOrder={first:"first",last:"last"},r.DayBlock=r.$Enums.DayBlock={MORNING:"MORNING",AFTERNOON:"AFTERNOON",EVENING:"EVENING",ALL_DAY:"ALL_DAY"},r.ItemType=r.$Enums.ItemType={HOTEL:"HOTEL",FLIGHT:"FLIGHT",ATTRACTION:"ATTRACTION",FOOD:"FOOD",TRANSFER:"TRANSFER",NOTE:"NOTE"},r.TripRole=r.$Enums.TripRole={OWNER:"OWNER",EDITOR:"EDITOR",VIEWER:"VIEWER"},r.Prisma.ModelName={User:"User",Trip:"Trip",Day:"Day",Item:"Item",Attachment:"Attachment",Tag:"Tag",ItemTag:"ItemTag",TripShare:"TripShare"};let k={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"C:\\Users\\esteb\\Desktop\\travel_app\\node_modules\\@prisma\\client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"C:\\Users\\esteb\\Desktop\\travel_app\\prisma\\schema.prisma"},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.19.2",engineVersion:"c2990dca591cba766e3b7ef5d9e8a84796e47ab7",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'generator client {\n  provider = "prisma-client-js"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nenum DayBlock {\n  MORNING\n  AFTERNOON\n  EVENING\n  ALL_DAY\n}\n\nenum ItemType {\n  HOTEL\n  FLIGHT\n  ATTRACTION\n  FOOD\n  TRANSFER\n  NOTE\n}\n\nenum TripRole {\n  OWNER\n  EDITOR\n  VIEWER\n}\n\nmodel User {\n  id        String   @id @default(cuid())\n  email     String   @unique\n  name      String?\n  password  String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  ownedTrips  Trip[]      @relation("TripOwner")\n  sharedTrips TripShare[]\n}\n\nmodel Trip {\n  id           String   @id @default(cuid())\n  name         String\n  startDate    DateTime\n  endDate      DateTime\n  destinations String?\n  notes        String?\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  ownerId String\n  owner   User   @relation("TripOwner", fields: [ownerId], references: [id], onDelete: Cascade)\n\n  days       Day[]\n  sharedWith TripShare[]\n}\n\nmodel Day {\n  id      String   @id @default(cuid())\n  date    DateTime\n  city    String?\n  summary String?\n  journal String?\n\n  tripId String\n  trip   Trip   @relation(fields: [tripId], references: [id], onDelete: Cascade)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  items       Item[]\n  attachments Attachment[]\n\n  @@unique([tripId, date])\n}\n\nmodel Item {\n  id    String @id @default(cuid())\n  dayId String\n  day   Day    @relation(fields: [dayId], references: [id], onDelete: Cascade)\n\n  block DayBlock\n  type  ItemType\n\n  title       String\n  description String?\n  location    String?\n  mapUrl      String?\n  linkUrl     String?\n  reference   String?\n\n  orderIndex Int @default(0)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  attachments Attachment[]\n  tags        ItemTag[]\n}\n\nmodel Attachment {\n  id String @id @default(cuid())\n\n  dayId String?\n  day   Day?    @relation(fields: [dayId], references: [id], onDelete: Cascade)\n\n  itemId String?\n  item   Item?   @relation(fields: [itemId], references: [id], onDelete: Cascade)\n\n  fileName  String\n  mimeType  String\n  sizeBytes Int\n  path      String\n\n  createdAt DateTime @default(now())\n}\n\nmodel Tag {\n  id    String    @id @default(cuid())\n  name  String    @unique\n  items ItemTag[]\n}\n\nmodel ItemTag {\n  itemId String\n  tagId  String\n\n  item Item @relation(fields: [itemId], references: [id], onDelete: Cascade)\n  tag  Tag  @relation(fields: [tagId], references: [id], onDelete: Cascade)\n\n  @@id([itemId, tagId])\n}\n\nmodel TripShare {\n  id        String   @id @default(cuid())\n  tripId    String\n  trip      Trip     @relation(fields: [tripId], references: [id], onDelete: Cascade)\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  role      TripRole @default(VIEWER)\n  createdAt DateTime @default(now())\n\n  @@unique([tripId, userId])\n}\n',inlineSchemaHash:"0120c93bf1cebbc7b6052b0857da163c240c02884e8dde032e88b70200fea547",copyEngine:!0};k.dirname="/",k.runtimeDataModel=JSON.parse('{"models":{"User":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"password","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"ownedTrips","kind":"object","type":"Trip","relationName":"TripOwner"},{"name":"sharedTrips","kind":"object","type":"TripShare","relationName":"TripShareToUser"}],"dbName":null},"Trip":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"startDate","kind":"scalar","type":"DateTime"},{"name":"endDate","kind":"scalar","type":"DateTime"},{"name":"destinations","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"ownerId","kind":"scalar","type":"String"},{"name":"owner","kind":"object","type":"User","relationName":"TripOwner"},{"name":"days","kind":"object","type":"Day","relationName":"DayToTrip"},{"name":"sharedWith","kind":"object","type":"TripShare","relationName":"TripToTripShare"}],"dbName":null},"Day":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"date","kind":"scalar","type":"DateTime"},{"name":"city","kind":"scalar","type":"String"},{"name":"summary","kind":"scalar","type":"String"},{"name":"journal","kind":"scalar","type":"String"},{"name":"tripId","kind":"scalar","type":"String"},{"name":"trip","kind":"object","type":"Trip","relationName":"DayToTrip"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"items","kind":"object","type":"Item","relationName":"DayToItem"},{"name":"attachments","kind":"object","type":"Attachment","relationName":"AttachmentToDay"}],"dbName":null},"Item":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"dayId","kind":"scalar","type":"String"},{"name":"day","kind":"object","type":"Day","relationName":"DayToItem"},{"name":"block","kind":"enum","type":"DayBlock"},{"name":"type","kind":"enum","type":"ItemType"},{"name":"title","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"location","kind":"scalar","type":"String"},{"name":"mapUrl","kind":"scalar","type":"String"},{"name":"linkUrl","kind":"scalar","type":"String"},{"name":"reference","kind":"scalar","type":"String"},{"name":"orderIndex","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"attachments","kind":"object","type":"Attachment","relationName":"AttachmentToItem"},{"name":"tags","kind":"object","type":"ItemTag","relationName":"ItemToItemTag"}],"dbName":null},"Attachment":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"dayId","kind":"scalar","type":"String"},{"name":"day","kind":"object","type":"Day","relationName":"AttachmentToDay"},{"name":"itemId","kind":"scalar","type":"String"},{"name":"item","kind":"object","type":"Item","relationName":"AttachmentToItem"},{"name":"fileName","kind":"scalar","type":"String"},{"name":"mimeType","kind":"scalar","type":"String"},{"name":"sizeBytes","kind":"scalar","type":"Int"},{"name":"path","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Tag":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"items","kind":"object","type":"ItemTag","relationName":"ItemTagToTag"}],"dbName":null},"ItemTag":{"fields":[{"name":"itemId","kind":"scalar","type":"String"},{"name":"tagId","kind":"scalar","type":"String"},{"name":"item","kind":"object","type":"Item","relationName":"ItemToItemTag"},{"name":"tag","kind":"object","type":"Tag","relationName":"ItemTagToTag"}],"dbName":null},"TripShare":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"tripId","kind":"scalar","type":"String"},{"name":"trip","kind":"object","type":"Trip","relationName":"TripToTripShare"},{"name":"userId","kind":"scalar","type":"String"},{"name":"user","kind":"object","type":"User","relationName":"TripShareToUser"},{"name":"role","kind":"enum","type":"TripRole"},{"name":"createdAt","kind":"scalar","type":"DateTime"}],"dbName":null}},"enums":{},"types":{}}'),_(r.Prisma,k.runtimeDataModel),k.engineWasm={getRuntime:async()=>e.r(54998),getQueryEngineWasmModule:async()=>{let t=(await Promise.resolve().then(()=>e.i(6124))).default;return(await t).default}},k.compilerWasm=void 0,k.injectableEdgeEnv=()=>({parsed:{DATABASE_URL:"undefined"!=typeof globalThis&&globalThis.DATABASE_URL||"undefined"!=typeof process&&process.env&&process.env.DATABASE_URL||void 0}}),("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG)&&g.enable("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0),r.PrismaClient=c(k),Object.assign(r,S)},7565,(e,t,r)=>{t.exports={...e.r(97391)}},3466,(e,t,r)=>{t.exports={...e.r(7565)}},42738,e=>{"use strict";let t,r,n,i,a,o,s;async function c(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}let l=null;async function u(){if("phase-production-build"===process.env.NEXT_PHASE)return;l||(l=c());let e=await l;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function d(...e){let t=await c();try{var r;await (null==t||null==(r=t.onRequestError)?void 0:r.call(t,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let f=null;function p(){return f||(f=u()),f}function h(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==e.g.process&&(process.env=e.g.process.env,e.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,r){if("then"===r)return{};throw Object.defineProperty(Error(h(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(h(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(r,n,i){if("function"==typeof i[0])return i[0](t);throw Object.defineProperty(Error(h(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1})}catch{}p();class g extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class m extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class b extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let y="_N_T_",w={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function _(e){var t,r,n,i,a,o=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;c();)if(","===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}function v(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(..._(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function x(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...w,GROUP:{builtinReact:[w.reactServerComponents,w.actionBrowser],serverOnly:[w.reactServerComponents,w.actionBrowser,w.instrument,w.middleware],neutralTarget:[w.apiNode,w.apiEdge],clientOnly:[w.serverSideRendering,w.appPagesBrowser],bundled:[w.reactServerComponents,w.actionBrowser,w.serverSideRendering,w.appPagesBrowser,w.shared,w.instrument,w.middleware],appPages:[w.reactServerComponents,w.serverSideRendering,w.appPagesBrowser,w.actionBrowser]}});let E=Symbol("response"),S=Symbol("passThrough"),k=Symbol("waitUntil");class T{constructor(e,t){this[S]=!1,this[k]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[E]||(this[E]=Promise.resolve(e))}passThroughOnException(){this[S]=!0}waitUntil(e){if("external"===this[k].kind)return(0,this[k].function)(e);this[k].promises.push(e)}}class A extends T{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function P(e){return e.replace(/\/$/,"")||"/"}function R(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function O(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=R(e);return`${t}${r}${n}${i}`}function C(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=R(e);return`${r}${t}${n}${i}`}function I(e,t){if("string"!=typeof e)return!1;let{pathname:r}=R(e);return r===t||r.startsWith(t+"/")}let N=new WeakMap;function D(e,t){let r;if(!t)return{pathname:e};let n=N.get(t);n||(n=t.map(e=>e.toLowerCase()),N.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let a=i[1].toLowerCase(),o=n.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let $=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function U(e,t){return new URL(String(e).replace($,"localhost"),t&&String(t).replace($,"localhost"))}let j=Symbol("NextURLInternal");class M{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[j]={url:U(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let a=function(e,t){let{basePath:r,i18n:n,trailingSlash:i}=t.nextConfig??{},a={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&I(a.pathname,r)&&(a.pathname=function(e,t){if(!I(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(a.pathname,r),a.basePath=r);let o=a.pathname;if(a.pathname.startsWith("/_next/data/")&&a.pathname.endsWith(".json")){let e=a.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");a.buildId=e[0],o="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(a.pathname=o)}if(n){let e=t.i18nProvider?t.i18nProvider.analyze(a.pathname):D(a.pathname,n.locales);a.locale=e.detectedLocale,a.pathname=e.pathname??a.pathname,!e.detectedLocale&&a.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(o):D(o,n.locales)).detectedLocale&&(a.locale=e.detectedLocale)}return a}(this[j].url.pathname,{nextConfig:this[j].options.nextConfig,parseData:!0,i18nProvider:this[j].options.i18nProvider}),o=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[j].url,this[j].options.headers);this[j].domainLocale=this[j].options.i18nProvider?this[j].options.i18nProvider.detectDomainLocale(o):function(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}(null==(t=this[j].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,o);let s=(null==(r=this[j].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[j].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[j].url.pathname=a.pathname,this[j].defaultLocale=s,this[j].basePath=a.basePath??"",this[j].buildId=a.buildId,this[j].locale=a.locale??s,this[j].trailingSlash=a.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(I(i,"/api")||I(i,`/${t.toLowerCase()}`))?e:O(e,`/${t}`)}((e={basePath:this[j].basePath,buildId:this[j].buildId,defaultLocale:this[j].options.forceLocale?void 0:this[j].defaultLocale,locale:this[j].locale,pathname:this[j].url.pathname,trailingSlash:this[j].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=P(t)),e.buildId&&(t=C(O(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=O(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:C(t,"/"):P(t)}formatSearch(){return this[j].url.search}get buildId(){return this[j].buildId}set buildId(e){this[j].buildId=e}get locale(){return this[j].locale??""}set locale(e){var t,r;if(!this[j].locale||!(null==(r=this[j].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[j].locale=e}get defaultLocale(){return this[j].defaultLocale}get domainLocale(){return this[j].domainLocale}get searchParams(){return this[j].url.searchParams}get host(){return this[j].url.host}set host(e){this[j].url.host=e}get hostname(){return this[j].url.hostname}set hostname(e){this[j].url.hostname=e}get port(){return this[j].url.port}set port(e){this[j].url.port=e}get protocol(){return this[j].url.protocol}set protocol(e){this[j].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[j].url=U(e),this.analyze()}get origin(){return this[j].url.origin}get pathname(){return this[j].url.pathname}set pathname(e){this[j].url.pathname=e}get hash(){return this[j].url.hash}set hash(e){this[j].url.hash=e}get search(){return this[j].url.search}set search(e){this[j].url.search=e}get password(){return this[j].url.password}set password(e){this[j].url.password=e}get username(){return this[j].url.username}set username(e){this[j].url.username=e}get basePath(){return this[j].basePath}set basePath(e){this[j].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new M(String(this),this[j].options)}}var L=e.i(28042);let q=Symbol("internal request");class H extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);x(r),e instanceof Request?super(e,t):super(r,t);const n=new M(r,{headers:v(this.headers),nextConfig:t.nextConfig});this[q]={cookies:new L.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[q].cookies}get nextUrl(){return this[q].nextUrl}get page(){throw new m}get ua(){throw new b}get url(){return this[q].url}}class V{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let F=Symbol("internal response"),W=new Set([301,302,303,307,308]);function B(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class K extends Response{constructor(e,t={}){super(e,t);const r=this.headers,n=new Proxy(new L.ResponseCookies(r),{get(e,n,i){switch(n){case"delete":case"set":return(...i)=>{let a=Reflect.apply(e[n],e,i),o=new Headers(r);return a instanceof L.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,L.stringifyCookie)(e)).join(",")),B(t,o),a};default:return V.get(e,n,i)}}});this[F]={cookies:n,url:t.url?new M(t.url,{headers:v(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[F].cookies}static json(e,t){let r=Response.json(e,t);return new K(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!W.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",x(e)),new K(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",x(e)),B(t,r),new K(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),B(e,t),new K(null,{...e,headers:t})}}function J(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),i=n.origin===r.origin;return{url:i?n.toString().slice(r.origin.length):n.toString(),isRelative:i}}var G=e.i(24628);G.NEXT_RSC_UNION_QUERY;class z extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new z}}class X extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return V.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return V.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return V.set(t,r,n,i);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return V.set(t,o??r,n,i)},has(t,r){if("symbol"==typeof r)return V.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&V.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return V.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||V.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return z.callable;default:return V.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new X(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}e.i(7754);var Q=e.i(46478),Q=Q;class Y extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new Y}}class Z{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return Y.callable;default:return V.get(e,t,r)}}})}}let ee=Symbol.for("next.mutated.cookies");class et{static wrap(e,t){let r=new L.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,a=()=>{let e=Q.workAsyncStorageInstance.getStore();if(e&&(e.pathWasRevalidated=1),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new L.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},o=new Proxy(r,{get(e,t,r){switch(t){case ee:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),o}finally{a()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),o}finally{a()}};default:return V.get(e,t,r)}}});return o}}function er(e){return"action"===e.phase}function en(e,t){if(!er(e))throw new Y}var ei=((nZ=ei||{}).handleRequest="BaseServer.handleRequest",nZ.run="BaseServer.run",nZ.pipe="BaseServer.pipe",nZ.getStaticHTML="BaseServer.getStaticHTML",nZ.render="BaseServer.render",nZ.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",nZ.renderToResponse="BaseServer.renderToResponse",nZ.renderToHTML="BaseServer.renderToHTML",nZ.renderError="BaseServer.renderError",nZ.renderErrorToResponse="BaseServer.renderErrorToResponse",nZ.renderErrorToHTML="BaseServer.renderErrorToHTML",nZ.render404="BaseServer.render404",nZ),ea=((n0=ea||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",n0.loadComponents="LoadComponents.loadComponents",n0),eo=((n1=eo||{}).getRequestHandler="NextServer.getRequestHandler",n1.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",n1.getServer="NextServer.getServer",n1.getServerRequestHandler="NextServer.getServerRequestHandler",n1.createServer="createServer.createServer",n1),es=((n2=es||{}).compression="NextNodeServer.compression",n2.getBuildId="NextNodeServer.getBuildId",n2.createComponentTree="NextNodeServer.createComponentTree",n2.clientComponentLoading="NextNodeServer.clientComponentLoading",n2.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",n2.generateStaticRoutes="NextNodeServer.generateStaticRoutes",n2.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",n2.generatePublicRoutes="NextNodeServer.generatePublicRoutes",n2.generateImageRoutes="NextNodeServer.generateImageRoutes.route",n2.sendRenderResult="NextNodeServer.sendRenderResult",n2.proxyRequest="NextNodeServer.proxyRequest",n2.runApi="NextNodeServer.runApi",n2.render="NextNodeServer.render",n2.renderHTML="NextNodeServer.renderHTML",n2.imageOptimizer="NextNodeServer.imageOptimizer",n2.getPagePath="NextNodeServer.getPagePath",n2.getRoutesManifest="NextNodeServer.getRoutesManifest",n2.findPageComponents="NextNodeServer.findPageComponents",n2.getFontManifest="NextNodeServer.getFontManifest",n2.getServerComponentManifest="NextNodeServer.getServerComponentManifest",n2.getRequestHandler="NextNodeServer.getRequestHandler",n2.renderToHTML="NextNodeServer.renderToHTML",n2.renderError="NextNodeServer.renderError",n2.renderErrorToHTML="NextNodeServer.renderErrorToHTML",n2.render404="NextNodeServer.render404",n2.startResponse="NextNodeServer.startResponse",n2.route="route",n2.onProxyReq="onProxyReq",n2.apiResolver="apiResolver",n2.internalFetch="internalFetch",n2),ec=((n5=ec||{}).startServer="startServer.startServer",n5),el=((n6=el||{}).getServerSideProps="Render.getServerSideProps",n6.getStaticProps="Render.getStaticProps",n6.renderToString="Render.renderToString",n6.renderDocument="Render.renderDocument",n6.createBodyResult="Render.createBodyResult",n6),eu=((n3=eu||{}).renderToString="AppRender.renderToString",n3.renderToReadableStream="AppRender.renderToReadableStream",n3.getBodyResult="AppRender.getBodyResult",n3.fetch="AppRender.fetch",n3),ed=((n8=ed||{}).executeRoute="Router.executeRoute",n8),ef=((n4=ef||{}).runHandler="Node.runHandler",n4),ep=((n9=ep||{}).runHandler="AppRouteRouteHandlers.runHandler",n9),eh=((n7=eh||{}).generateMetadata="ResolveMetadata.generateMetadata",n7.generateViewport="ResolveMetadata.generateViewport",n7),eg=((ie=eg||{}).execute="Middleware.execute",ie);let em=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),eb=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);function ey(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}let ew=process.env.NEXT_OTEL_PERFORMANCE_PREFIX,{context:e_,propagation:ev,trace:ex,SpanStatusCode:eE,SpanKind:eS,ROOT_CONTEXT:ek}=t=e.r(59110);class eT extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let eA=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof eT&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:eE.ERROR,message:null==t?void 0:t.message})),e.end()},eP=new Map,eR=t.createContextKey("next.rootSpanId"),eO=0,eC={set(e,t,r){e.push({key:t,value:r})}},eI=(o=new class e{getTracerInstance(){return ex.getTracer("next.js","0.0.1")}getContext(){return e_}getTracePropagationData(){let e=e_.active(),t=[];return ev.inject(e,t,eC),t}getActiveScopeSpan(){return ex.getSpan(null==e_?void 0:e_.active())}withPropagatedContext(e,t,r){let n=e_.active();if(ex.getSpanContext(n))return t();let i=ev.extract(n,e,r);return e_.with(i,t)}trace(...e){let[t,r,n]=e,{fn:i,options:a}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},o=a.spanName??t;if(!em.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||a.hideSpan)return i();let s=this.getSpanContext((null==a?void 0:a.parentSpan)??this.getActiveScopeSpan());s||(s=(null==e_?void 0:e_.active())??ek);let c=s.getValue(eR),l="number"!=typeof c||!eP.has(c),u=eO++;return a.attributes={"next.span_name":o,"next.span_type":t,...a.attributes},e_.with(s.setValue(eR,u),()=>this.getTracerInstance().startActiveSpan(o,a,e=>{let r;ew&&t&&eb.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,o=()=>{!n&&(n=!0,eP.delete(u),r&&performance.measure(`${ew}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(l&&eP.set(u,new Map(Object.entries(a.attributes??{}))),i.length>1)try{return i(e,t=>eA(e,t))}catch(t){throw eA(e,t),t}finally{o()}try{let t=i(e);if(ey(t))return t.then(t=>(e.end(),t)).catch(t=>{throw eA(e,t),t}).finally(o);return e.end(),o(),t}catch(t){throw eA(e,t),o(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return em.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let a=arguments.length-1,o=arguments[a];if("function"!=typeof o)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(e_.active(),o);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?ex.setSpan(e_.active(),e):void 0}getRootSpanAttributes(){let e=e_.active().getValue(eR);return eP.get(e)}setRootSpanAttribute(e,t){let r=e_.active().getValue(eR),n=eP.get(r);n&&!n.has(e)&&n.set(e,t)}withSpan(e,t){let r=ex.setSpan(e_.active(),e);return e_.with(r,t)}},()=>o),eN="__prerender_bypass";Symbol("__next_preview_data"),Symbol(eN);class eD{constructor(e,t,r,n){var i;const a=e&&function(e,t){let r=X.from(e.headers);return{isOnDemandRevalidate:r.get("x-prerender-revalidate")===t.previewModeId,revalidateOnlyGenerated:r.has("x-prerender-revalidate-if-generated")}}(t,e).isOnDemandRevalidate,o=null==(i=r.get(eN))?void 0:i.value;this._isEnabled=!!(!a&&o&&e&&o===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:eN,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:eN,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function e$(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of _(r))n.append("set-cookie",e);for(let e of new L.ResponseCookies(n).getAll())t.set(e)}}var eU=e.i(53835),ej=e.i(9939),ej=ej,eM=e.i(99734),eL=e.i(25753),Q=Q,eq=e.i(51615);process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let eH=Symbol.for("@next/cache-handlers-map"),eV=Symbol.for("@next/cache-handlers-set"),eF=globalThis;function eW(){if(eF[eH])return eF[eH].entries()}async function eB(e,t){if(!e)return t();let r=eK(e);try{return await t()}finally{var n,i;let t,a,o=(n=r,i=eK(e),t=new Set(n.pendingRevalidatedTags.map(e=>{let t="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return`${e.tag}:${t}`})),a=new Set(n.pendingRevalidateWrites),{pendingRevalidatedTags:i.pendingRevalidatedTags.filter(e=>{let r="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return!t.has(`${e.tag}:${r}`)}),pendingRevalidates:Object.fromEntries(Object.entries(i.pendingRevalidates).filter(([e])=>!(e in n.pendingRevalidates))),pendingRevalidateWrites:i.pendingRevalidateWrites.filter(e=>!a.has(e))});await eG(e,o)}}function eK(e){return{pendingRevalidatedTags:e.pendingRevalidatedTags?[...e.pendingRevalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function eJ(e,t,r){if(0===e.length)return;let n=function(){if(eF[eV])return eF[eV].values()}(),i=[],a=new Map;for(let t of e){let e,r=t.profile;for(let[t]of a)if("string"==typeof t&&"string"==typeof r&&t===r||"object"==typeof t&&"object"==typeof r&&JSON.stringify(t)===JSON.stringify(r)||t===r){e=t;break}let n=e||r;a.has(n)||a.set(n,[]),a.get(n).push(t.tag)}for(let[e,s]of a){let a;if(e){let t;if("object"==typeof e)t=e;else if("string"==typeof e){var o;if(!(t=null==r||null==(o=r.cacheLifeProfiles)?void 0:o[e]))throw Object.defineProperty(Error(`Invalid profile provided "${e}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}t&&(a={expire:t.expire})}for(let t of n||[])e?i.push(null==t.updateTags?void 0:t.updateTags.call(t,s,a)):i.push(null==t.updateTags?void 0:t.updateTags.call(t,s));t&&i.push(t.revalidateTag(s,a))}await Promise.all(i)}async function eG(e,t){let r=(null==t?void 0:t.pendingRevalidatedTags)??e.pendingRevalidatedTags??[],n=(null==t?void 0:t.pendingRevalidates)??e.pendingRevalidates??{},i=(null==t?void 0:t.pendingRevalidateWrites)??e.pendingRevalidateWrites??[];return Promise.all([eJ(r,e.incrementalCache,e),...Object.values(n),...i])}var ez=e.i(90044),ej=ej;let eX=(0,ez.createAsyncLocalStorage)();class eQ{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new eM.default,this.callbackQueue.pause()}after(e){if(ey(e))this.waitUntil||eY(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(e){this.waitUntil||eY();let t=ej.workUnitAsyncStorageInstance.getStore();t&&this.workUnitStores.add(t);let r=eX.getStore(),n=r?r.rootTaskSpawnPhase:null==t?void 0:t.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let i=(0,ez.bindSnapshot)(async()=>{try{await eX.run({rootTaskSpawnPhase:n},()=>e())}catch(e){this.reportTaskError("function",e)}});this.callbackQueue.add(i)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=Q.workAsyncStorageInstance.getStore();if(!e)throw Object.defineProperty(new eL.InvariantError("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return eB(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(Object.defineProperty(new eL.InvariantError("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function eY(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function eZ(e){let t,r={then:(n,i)=>(t||(t=Promise.resolve(e())),t.then(e=>{r.value=e}).catch(()=>{}),t.then(n,i))};return r}var Q=Q;class e0{onClose(e){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function e1(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let e2=Symbol.for("@next/request-context");async function e5(e,t,r){let n=new Set;for(let t of(e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${!n.endsWith("/")?"/":""}layout`),t.push(n))}}return t})(e))t=`${y}${t}`,n.add(t);if(t.pathname&&(!r||0===r.size)){let e=`${y}${t.pathname}`;n.add(e)}n.has(`${y}/`)&&n.add(`${y}/index`),n.has(`${y}/index`)&&n.add(`${y}/`);let i=Array.from(n);return{tags:i,expirationsByCacheKind:function(e){let t=new Map,r=eW();if(r)for(let[n,i]of r)"getExpiration"in i&&t.set(n,eZ(async()=>i.getExpiration(e)));return t}(i)}}class e6 extends H{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let e3={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},e8=(e,t)=>eI().withPropagatedContext(e.headers,t,e3),e4=!1;async function e9(t){var r,n,i,a;let o,s,c,l,u;!function(){if(!e4&&(e4=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:t,wrapRequestHandler:r}=e.r(94165);t(),e8=r(e8)}}(),await p();let d=void 0!==globalThis.__BUILD_MANIFEST;t.request.url=t.request.url.replace(/\.rsc($|\?)/,"$1");let f=t.bypassNextUrl?new URL(t.request.url):new M(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig});for(let e of[...f.searchParams.keys()]){let t=f.searchParams.getAll(e),r=function(e){for(let t of["nxtP","nxtI"])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}(e);if(r){for(let e of(f.searchParams.delete(r),t))f.searchParams.append(r,e);f.searchParams.delete(e)}}let h=process.env.__NEXT_BUILD_ID||"";"buildId"in f&&(h=f.buildId||"",f.buildId="");let g=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}(t.request.headers),m=g.has("x-nextjs-data"),b="1"===g.get(G.RSC_HEADER);m&&"/index"===f.pathname&&(f.pathname="/");let y=new Map;if(!d)for(let e of G.FLIGHT_HEADERS){let t=g.get(e);null!==t&&(y.set(e,t),g.delete(e))}let w=f.searchParams.get(G.NEXT_RSC_UNION_QUERY),_=new e6({page:t.page,input:((l=(c="string"==typeof f)?new URL(f):f).searchParams.delete(G.NEXT_RSC_UNION_QUERY),c?l.toString():l).toString(),init:{body:t.request.body,headers:g,method:t.request.method,nextConfig:t.request.nextConfig,signal:t.request.signal}});m&&Object.defineProperty(_,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&t.IncrementalCache&&(globalThis.__incrementalCache=new t.IncrementalCache({CurCacheHandler:t.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:t.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:e1()})}));let v=t.request.waitUntil??(null==(r=null==(u=globalThis[e2])?void 0:u.get())?void 0:r.waitUntil),x=new A({request:_,page:t.page,context:v?{waitUntil:v}:void 0});if((o=await e8(_,()=>{if("/middleware"===t.page||"/src/middleware"===t.page||"/proxy"===t.page||"/src/proxy"===t.page){let e=x.waitUntil.bind(x),r=new e0;return eI().trace(eg.execute,{spanName:`middleware ${_.method}`,attributes:{"http.target":_.nextUrl.pathname,"http.method":_.method}},async()=>{try{var n,i,a,o,c,l;let u=e1(),d=await e5("/",_.nextUrl,null),f=(c=_.nextUrl,l=e=>{s=e},function(e,t,r,n,i,a,o,s,c,l,u,d){function f(e){r&&r.setHeader("Set-Cookie",e)}let p={};return{type:"request",phase:e,implicitTags:a,url:{pathname:n.pathname,search:n.search??""},rootParams:i,get headers(){return p.headers||(p.headers=function(e){let t=X.from(e);for(let e of G.FLIGHT_HEADERS)t.delete(e);return X.seal(t)}(t.headers)),p.headers},get cookies(){if(!p.cookies){let e=new L.RequestCookies(X.from(t.headers));e$(t,e),p.cookies=Z.seal(e)}return p.cookies},set cookies(value){p.cookies=value},get mutableCookies(){if(!p.mutableCookies){var h,g;let e,n=(h=t.headers,g=o||(r?f:void 0),e=new L.RequestCookies(X.from(h)),et.wrap(e,g));e$(t,n),p.mutableCookies=n}return p.mutableCookies},get userspaceMutableCookies(){if(!p.userspaceMutableCookies){var m;let e;m=this,p.userspaceMutableCookies=e=new Proxy(m.mutableCookies,{get(t,r,n){switch(r){case"delete":return function(...r){return en(m,"cookies().delete"),t.delete(...r),e};case"set":return function(...r){return en(m,"cookies().set"),t.set(...r),e};default:return V.get(t,r,n)}}})}return p.userspaceMutableCookies},get draftMode(){return p.draftMode||(p.draftMode=new eD(c,t,this.cookies,this.mutableCookies)),p.draftMode},renderResumeDataCache:null,isHmrRefresh:l,serverComponentsHmrCache:u||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",_,void 0,c,{},d,l,null,u,!1,void 0,null)),p=function({page:e,renderOpts:t,isPrefetchRequest:r,buildId:n,previouslyRevalidatedTags:i,nonce:a}){var o;let s=!t.shouldWaitOnAllReady&&!t.supportsDynamicResponse&&!t.isDraftMode&&!t.isPossibleServerAction,c=t.dev??!1,l=c||s&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),u={isStaticGeneration:s,page:e,route:(o=e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?o:`/${o}`,incrementalCache:t.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:t.cacheLifeProfiles,isBuildTimePrerendering:t.nextExport,hasReadableErrorStacks:t.hasReadableErrorStacks,fetchCache:t.fetchCache,isOnDemandRevalidate:t.isOnDemandRevalidate,isDraftMode:t.isDraftMode,isPrefetchRequest:r,buildId:n,reactLoadableManifest:(null==t?void 0:t.reactLoadableManifest)||{},assetPrefix:(null==t?void 0:t.assetPrefix)||"",nonce:a,afterContext:function(e){let{waitUntil:t,onClose:r,onAfterTaskError:n}=e;return new eQ({waitUntil:t,onClose:r,onTaskError:n})}(t),cacheComponentsEnabled:t.cacheComponents,dev:c,previouslyRevalidatedTags:i,refreshTagsByCacheKind:function(){let e=new Map,t=eW();if(t)for(let[r,n]of t)"refreshTags"in n&&e.set(r,eZ(async()=>n.refreshTags()));return e}(),runInCleanSnapshot:(0,ez.createSnapshot)(),shouldTrackFetchMetrics:l,reactServerErrorsByDigest:new Map};return t.store=u,u}({page:"/",renderOpts:{cacheLifeProfiles:null==(i=t.request.nextConfig)||null==(n=i.experimental)?void 0:n.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(null==(o=t.request.nextConfig)||null==(a=o.experimental)?void 0:a.authInterrupts)},supportsDynamicResponse:!0,waitUntil:e,onClose:r.onClose.bind(r),onAfterTaskError:void 0},isPrefetchRequest:"1"===_.headers.get(G.NEXT_ROUTER_PREFETCH_HEADER),buildId:h??"",previouslyRevalidatedTags:[]});return await Q.workAsyncStorageInstance.run(p,()=>ej.workUnitAsyncStorageInstance.run(f,t.handler,_,x))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return t.handler(_,x)}))&&!(o instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});o&&s&&o.headers.set("set-cookie",s);let E=null==o?void 0:o.headers.get("x-middleware-rewrite");if(o&&E&&(b||!d)){let e=new M(E,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});d||e.host!==_.nextUrl.host||(e.buildId=h||e.buildId,o.headers.set("x-middleware-rewrite",String(e)));let{url:r,isRelative:s}=J(e.toString(),f.toString());!d&&m&&o.headers.set("x-nextjs-rewrite",r);let c=!s&&(null==(a=t.request.nextConfig)||null==(i=a.experimental)||null==(n=i.clientParamParsingOrigins)?void 0:n.some(t=>new RegExp(t).test(e.origin)));b&&(s||c)&&(f.pathname!==e.pathname&&o.headers.set(G.NEXT_REWRITTEN_PATH_HEADER,e.pathname),f.search!==e.search&&o.headers.set(G.NEXT_REWRITTEN_QUERY_HEADER,e.search.slice(1)))}if(o&&E&&b&&w){let e=new URL(E);e.searchParams.has(G.NEXT_RSC_UNION_QUERY)||(e.searchParams.set(G.NEXT_RSC_UNION_QUERY,w),o.headers.set("x-middleware-rewrite",e.toString()))}let S=null==o?void 0:o.headers.get("Location");if(o&&S&&!d){let e=new M(S,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});o=new Response(o.body,o),e.host===f.host&&(e.buildId=h||e.buildId,o.headers.set("Location",e.toString())),m&&(o.headers.delete("Location"),o.headers.set("x-nextjs-redirect",J(e.toString(),f.toString()).url))}let T=o||K.next(),P=T.headers.get("x-middleware-override-headers"),R=[];if(P){for(let[e,t]of y)T.headers.set(`x-middleware-request-${e}`,t),R.push(e);R.length>0&&T.headers.set("x-middleware-override-headers",P+","+R.join(","))}return{response:T,waitUntil:("internal"===x[k].kind?Promise.all(x[k].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:_.fetchMetrics}}var e7=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},te=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function tt(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class tr{constructor(e,t,r){if(it.add(this),ir.set(this,{}),ii.set(this,void 0),ia.set(this,void 0),e7(this,ia,r,"f"),e7(this,ii,e,"f"),!t)return;const{name:n}=e;for(const[e,r]of Object.entries(t))e.startsWith(n)&&r&&(te(this,ir,"f")[e]=r)}get value(){return Object.keys(te(this,ir,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>te(this,ir,"f")[e]).join("")}chunk(e,t){let r=te(this,it,"m",is).call(this);for(let n of te(this,it,"m",io).call(this,{name:te(this,ii,"f").name,value:e,options:{...te(this,ii,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(te(this,it,"m",is).call(this))}}ir=new WeakMap,ii=new WeakMap,ia=new WeakMap,it=new WeakSet,io=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return te(this,ir,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),te(this,ir,"f")[t]=i}return te(this,ia,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},is=function(){let e={};for(let t in te(this,ir,"f"))delete te(this,ir,"f")?.[t],e[t]={name:t,value:"",options:{...te(this,ii,"f").options,maxAge:0}};return e};class tn extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class ti extends tn{}ti.kind="signIn";class ta extends tn{}ta.type="AdapterError";class to extends tn{}to.type="AccessDenied";class ts extends tn{}ts.type="CallbackRouteError";class tc extends tn{}tc.type="ErrorPageLoop";class tl extends tn{}tl.type="EventError";class tu extends tn{}tu.type="InvalidCallbackUrl";class td extends ti{constructor(){super(...arguments),this.code="credentials"}}td.type="CredentialsSignin";class tf extends tn{}tf.type="InvalidEndpoints";class tp extends tn{}tp.type="InvalidCheck";class th extends tn{}th.type="JWTSessionError";class tg extends tn{}tg.type="MissingAdapter";class tm extends tn{}tm.type="MissingAdapterMethods";class tb extends tn{}tb.type="MissingAuthorize";class ty extends tn{}ty.type="MissingSecret";class tw extends ti{}tw.type="OAuthAccountNotLinked";class t_ extends ti{}t_.type="OAuthCallbackError";class tv extends tn{}tv.type="OAuthProfileParseError";class tx extends tn{}tx.type="SessionTokenError";class tE extends tn{}tE.type="SignOutError";class tS extends tn{}tS.type="UnknownAction";class tk extends tn{}tk.type="UnsupportedStrategy";class tT extends tn{}tT.type="InvalidProvider";class tA extends tn{}tA.type="UntrustedHost";class tP extends tn{}tP.type="Verification";class tR extends ti{}tR.type="MissingCSRF";let tO=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class tC extends tn{}tC.type="DuplicateConditionalUI";class tI extends tn{}tI.type="MissingWebAuthnAutocomplete";class tN extends tn{}tN.type="WebAuthnVerificationError";class tD extends ti{}tD.type="AccountNotLinked";class t$ extends tn{}t$.type="ExperimentalFeatureNotEnabled";let tU=!1;function tj(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let tM=!1,tL=!1,tq=!1,tH=["createVerificationToken","useVerificationToken","getUserByEmail"],tV=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],tF=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],tW=async(e,t,r,n,i)=>{let{crypto:{subtle:a}}=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw Error("unable to locate global object")})();return new Uint8Array(await a.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:n},await a.importKey("raw",t,"HKDF",!1,["deriveBits"]),i<<3))};function tB(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function tK(e,t,r,n,i){return tW(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=tB(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),tB(r,"salt"),function(e){let t=tB(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}let tJ=new TextEncoder,tG=new TextDecoder;function tz(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function tX(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function tQ(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return tX(r,t,0),tX(r,e%0x100000000,4),r}function tY(e){let t=new Uint8Array(4);return tX(t,e),t}function tZ(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=n}return t}function t0(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:tG.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=tG.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function t1(e){let t=e;return("string"==typeof t&&(t=tJ.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}e.s(["decode",()=>t0,"encode",()=>t1],22423);let t2=Symbol();class t5 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class t6 extends t5{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class t3 extends t5{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class t8 extends t5{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class t4 extends t5{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class t9 extends t5{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class t7 extends t5{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class re extends t5{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class rt extends t5{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class rr extends t5{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function rn(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new t4(`Unsupported JWE Algorithm: ${e}`)}}function ri(e,t){if(t.length<<3!==rn(e))throw new t7("Invalid Initialization Vector length")}function ra(e,t){let r=e.byteLength<<3;if(r!==t)throw new t7(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}let ro=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function rs(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==e.algorithm.name)throw ro("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw ro(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==e.algorithm.name)throw ro("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw ro(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw ro("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==e.algorithm.name)throw ro("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==e.algorithm.name)throw ro("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw ro(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}function rc(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let rl=(e,...t)=>rc("Key must be ",e,...t),ru=(e,t,...r)=>rc(`Key for the ${e} algorithm must be `,t,...r);function rd(e){if(!rf(e))throw Error("CryptoKey instance expected")}let rf=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},rp=e=>e?.[Symbol.toStringTag]==="KeyObject",rh=e=>rf(e)||rp(e);async function rg(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(rl(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),o=await crypto.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),s=await crypto.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),c=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},o,t)),l=tz(i,n,c,tQ(i.length<<3));return{ciphertext:c,tag:new Uint8Array((await crypto.subtle.sign("HMAC",s,l)).slice(0,a>>3)),iv:n}}async function rm(e,t,r,n,i){let a;r instanceof Uint8Array?a=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(rs(r,e,"encrypt"),a=r);let o=new Uint8Array(await crypto.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),s=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:s,iv:n}}async function rb(e,t,r,n,i){if(!rf(r)&&!(r instanceof Uint8Array))throw TypeError(rl(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(n)ri(e,n);else n=crypto.getRandomValues(new Uint8Array(rn(e)>>3));switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&ra(r,parseInt(e.slice(-3),10)),rg(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&ra(r,parseInt(e.slice(1,4),10)),rm(e,t,r,n,i);default:throw new t4("Unsupported JWE Content Encryption Algorithm")}}function ry(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function rw(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(rs(e,t,r),e)}async function r_(e,t,r){let n=await rw(t,e,"wrapKey");ry(n,e);let i=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",i,n,"AES-KW"))}async function rv(e,t,r){let n=await rw(t,e,"unwrapKey");ry(n,e);let i=await crypto.subtle.unwrapKey("raw",r,n,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",i))}async function rx(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}function rE(e){return tz(tY(e.length),e)}async function rS(e,t,r){let n=t>>3,i=Math.ceil(n/32),a=new Uint8Array(32*i);for(let t=1;t<=i;t++){let n=new Uint8Array(4+e.length+r.length);n.set(tY(t),0),n.set(e,4),n.set(r,4+e.length);let i=await rx("sha256",n);a.set(i,(t-1)*32)}return a.slice(0,n)}async function rk(e,t,r,n,i=new Uint8Array,a=new Uint8Array){var o;rs(e,"ECDH"),rs(t,"ECDH","deriveBits");let s=tz(rE(tZ(r)),rE(i),rE(a),tY(n),new Uint8Array);return rS(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,"X25519"===(o=e).algorithm.name?256:Math.ceil(parseInt(o.algorithm.namedCurve.slice(-3),10)/8)<<3)),n,s)}function rT(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===e.algorithm.name}}async function rA(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new t7("PBES2 Salt Input must be 8 or more octets");let i=tz(tZ(t),Uint8Array.of(0),e),a=parseInt(t.slice(13,16),10),o={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},s=await (n instanceof Uint8Array?crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]):(rs(n,t,"deriveBits"),n));return new Uint8Array(await crypto.subtle.deriveBits(o,s,a))}async function rP(e,t,r,n=2048,i=crypto.getRandomValues(new Uint8Array(16))){let a=await rA(i,e,n,t);return{encryptedKey:await r_(e.slice(-6),a,r),p2c:n,p2s:t1(i)}}async function rR(e,t,r,n,i){let a=await rA(i,e,n,t);return rv(e.slice(-6),a,r)}function rO(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let rC=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new t4(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function rI(e,t,r){return rs(t,e,"encrypt"),rO(e,t),new Uint8Array(await crypto.subtle.encrypt(rC(e),t,r))}async function rN(e,t,r){return rs(t,e,"decrypt"),rO(e,t),new Uint8Array(await crypto.subtle.decrypt(rC(e),t,r))}function rD(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let r$=e=>rD(e)&&"string"==typeof e.kty;async function rU(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new t4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new t4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new t4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new t4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new t4('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return"AKP"!==n.kty&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let rj=async(e,t,n,i=!1)=>{let a=(r||=new WeakMap).get(e);if(a?.[n])return a[n];let o=await rU({...t,alg:n});return i&&Object.freeze(e),a?a[n]=o:r.set(e,{[n]:o}),o};async function rM(e,t){if(e instanceof Uint8Array||rf(e))return e;if(rp(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,t)=>{let n,i=(r||=new WeakMap).get(e);if(i?.[t])return i[t];let a="public"===e.type,o=!!a;if("x25519"===e.asymmetricKeyType){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}n=e.toCryptoKey(e.asymmetricKeyType,o,a?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==t&&"Ed25519"!==t)throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(t!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let r;switch(t){case"RSA-OAEP":r="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":r="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":r="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":r="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:r},o,a?["encrypt"]:["decrypt"]);n=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:r},o,[a?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let r=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===t&&"P-256"===r&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:r},o,[a?"verify":"sign"])),"ES384"===t&&"P-384"===r&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:r},o,[a?"verify":"sign"])),"ES512"===t&&"P-521"===r&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:r},o,[a?"verify":"sign"])),t.startsWith("ECDH-ES")&&(n=e.toCryptoKey({name:"ECDH",namedCurve:r},o,a?[]:["deriveBits"]))}if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[t]=n:r.set(e,{[t]:n}),n})(e,t)}catch(e){if(e instanceof TypeError)throw e}let n=e.export({format:"jwk"});return rj(e,n,t)}if(r$(e))return e.k?t0(e.k):rj(e,e,t,!0);throw Error("unreachable")}function rL(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new t4(`Unsupported JWE Algorithm: ${e}`)}}let rq=e=>crypto.getRandomValues(new Uint8Array(rL(e)>>3));async function rH(e){if(rp(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:t1(e)};if(!rf(e))throw TypeError(rl(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...a}=await crypto.subtle.exportKey("jwk",e);return"AKP"===a.kty&&(a.alg=n),a}async function rV(e){return rH(e)}async function rF(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},n=await crypto.subtle.generateKey(r,!1,["sign"]),i=new Uint8Array(await crypto.subtle.sign(r,n,e)),a=new Uint8Array(await crypto.subtle.sign(r,n,t)),o=0,s=-1;for(;++s<32;)o|=i[s]^a[s];return 0===o}async function rW(e,t,r,n,i,a){let o,s;if(!(t instanceof Uint8Array))throw TypeError(rl(t,"Uint8Array"));let c=parseInt(e.slice(1,4),10),l=await crypto.subtle.importKey("raw",t.subarray(c>>3),"AES-CBC",!1,["decrypt"]),u=await crypto.subtle.importKey("raw",t.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),d=tz(a,n,r,tQ(a.length<<3)),f=new Uint8Array((await crypto.subtle.sign("HMAC",u,d)).slice(0,c>>3));try{o=await rF(i,f)}catch{}if(!o)throw new t9;try{s=new Uint8Array(await crypto.subtle.decrypt({iv:n,name:"AES-CBC"},l,r))}catch{}if(!s)throw new t9;return s}async function rB(e,t,r,n,i,a){let o;t instanceof Uint8Array?o=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(rs(t,e,"decrypt"),o=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},o,tz(r,i)))}catch{throw new t9}}async function rK(e,t,r,n,i,a){if(!rf(t)&&!(t instanceof Uint8Array))throw TypeError(rl(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!n)throw new t7("JWE Initialization Vector missing");if(!i)throw new t7("JWE Authentication Tag missing");switch(ri(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&ra(t,parseInt(e.slice(-3),10)),rW(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&ra(t,parseInt(e.slice(1,4),10)),rB(e,t,r,n,i,a);default:throw new t4("Unsupported JWE Content Encryption Algorithm")}}async function rJ(e,t,r,n){let i=e.slice(0,7),a=await rb(i,r,t,n,new Uint8Array);return{encryptedKey:a.ciphertext,iv:t1(a.iv),tag:t1(a.tag)}}async function rG(e,t,r,n,i){return rK(e.slice(0,7),t,r,n,i,new Uint8Array)}async function rz(e,t,r,n,i={}){let a,o,s;switch(e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let c;if(rd(r),!rT(r))throw new t4("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:l,apv:u}=i;c=i.epk?await rM(i.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:f,crv:p,kty:h}=await rV(c),g=await rk(r,c,"ECDH-ES"===e?t:e,"ECDH-ES"===e?rL(t):parseInt(e.slice(-5,-2),10),l,u);if(o={epk:{x:d,crv:p,kty:h}},"EC"===h&&(o.epk.y=f),l&&(o.apu=t1(l)),u&&(o.apv=t1(u)),"ECDH-ES"===e){s=g;break}s=n||rq(t);let m=e.slice(-6);a=await r_(m,g,s);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||rq(t),rd(r),a=await rI(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||rq(t);let{p2c:c,p2s:l}=i;({encryptedKey:a,...o}=await rP(e,r,s,c,l));break}case"A128KW":case"A192KW":case"A256KW":s=n||rq(t),a=await r_(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||rq(t);let{iv:c}=i;({encryptedKey:a,...o}=await rJ(e,r,s,c));break}default:throw new t4('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:a,parameters:o}}function rX(...e){let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}function rQ(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(o))throw new t4(`Extension Header Parameter "${o}" is not recognized`);if(void 0===i[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&void 0===n[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)}let rY=e=>e?.[Symbol.toStringTag],rZ=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0};function r0(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((e,t,r)=>{if(!(t instanceof Uint8Array)){if(r$(t)){if("oct"===t.kty&&"string"==typeof t.k&&rZ(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!rh(t))throw TypeError(ru(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${rY(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((e,t,r)=>{if(r$(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&("AKP"===t.kty&&"string"==typeof t.priv||"string"==typeof t.d)&&rZ(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&void 0===t.d&&void 0===t.priv&&rZ(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!rh(t))throw TypeError(ru(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${rY(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${rY(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${rY(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${rY(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${rY(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}class r1{#t;#r;#n;#i;#a;#o;#s;#c;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#t=e}setKeyManagementParameters(e){if(this.#c)throw TypeError("setKeyManagementParameters can only be called once");return this.#c=e,this}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setSharedUnprotectedHeader(e){if(this.#n)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#n=e,this}setUnprotectedHeader(e){if(this.#i)throw TypeError("setUnprotectedHeader can only be called once");return this.#i=e,this}setAdditionalAuthenticatedData(e){return this.#a=e,this}setContentEncryptionKey(e){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=e,this}setInitializationVector(e){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=e,this}async encrypt(e,t){let r,n,i,a,o,s;if(!this.#r&&!this.#i&&!this.#n)throw new t7("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!rX(this.#r,this.#i,this.#n))throw new t7("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let c={...this.#r,...this.#i,...this.#n};if(rQ(t7,new Map,t?.crit,this.#r,c),void 0!==c.zip)throw new t4('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:u}=c;if("string"!=typeof l||!l)throw new t7('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new t7('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#o&&("dir"===l||"ECDH-ES"===l))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);r0("dir"===l?u:l,e,"encrypt");{let i,a=await rM(e,l);({cek:n,encryptedKey:r,parameters:i}=await rz(l,u,a,this.#o,this.#c)),i&&(t&&t2 in t?this.#i?this.#i={...this.#i,...i}:this.setUnprotectedHeader(i):this.#r?this.#r={...this.#r,...i}:this.setProtectedHeader(i))}if(this.#r?o=tZ(a=t1(JSON.stringify(this.#r))):(a="",o=new Uint8Array),this.#a){let e=tZ(s=t1(this.#a));i=tz(o,tZ("."),e)}else i=o;let{ciphertext:d,tag:f,iv:p}=await rb(u,this.#t,n,this.#s,i),h={ciphertext:t1(d)};return p&&(h.iv=t1(p)),f&&(h.tag=t1(f)),r&&(h.encrypted_key=t1(r)),s&&(h.aad=s),this.#r&&(h.protected=a),this.#n&&(h.unprotected=this.#n),this.#i&&(h.header=this.#i),h}}class r2{#l;constructor(e){this.#l=new r1(e)}setContentEncryptionKey(e){return this.#l.setContentEncryptionKey(e),this}setInitializationVector(e){return this.#l.setInitializationVector(e),this}setProtectedHeader(e){return this.#l.setProtectedHeader(e),this}setKeyManagementParameters(e){return this.#l.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this.#l.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let r5=e=>Math.floor(e.getTime()/1e3),r6=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function r3(e){let t,r=r6.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t}function r8(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let r4=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class r9{#u;constructor(e){if(!rD(e))throw TypeError("JWT Claims Set MUST be an object");this.#u=structuredClone(e)}data(){return tJ.encode(JSON.stringify(this.#u))}get iss(){return this.#u.iss}set iss(e){this.#u.iss=e}get sub(){return this.#u.sub}set sub(e){this.#u.sub=e}get aud(){return this.#u.aud}set aud(e){this.#u.aud=e}set jti(e){this.#u.jti=e}set nbf(e){"number"==typeof e?this.#u.nbf=r8("setNotBefore",e):e instanceof Date?this.#u.nbf=r8("setNotBefore",r5(e)):this.#u.nbf=r5(new Date)+r3(e)}set exp(e){"number"==typeof e?this.#u.exp=r8("setExpirationTime",e):e instanceof Date?this.#u.exp=r8("setExpirationTime",r5(e)):this.#u.exp=r5(new Date)+r3(e)}set iat(e){void 0===e?this.#u.iat=r5(new Date):e instanceof Date?this.#u.iat=r8("setIssuedAt",r5(e)):"string"==typeof e?this.#u.iat=r8("setIssuedAt",r5(new Date)+r3(e)):this.#u.iat=r8("setIssuedAt",e)}}class r7{#o;#s;#c;#r;#d;#f;#p;#h;constructor(e={}){this.#h=new r9(e)}setIssuer(e){return this.#h.iss=e,this}setSubject(e){return this.#h.sub=e,this}setAudience(e){return this.#h.aud=e,this}setJti(e){return this.#h.jti=e,this}setNotBefore(e){return this.#h.nbf=e,this}setExpirationTime(e){return this.#h.exp=e,this}setIssuedAt(e){return this.#h.iat=e,this}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setKeyManagementParameters(e){if(this.#c)throw TypeError("setKeyManagementParameters can only be called once");return this.#c=e,this}setContentEncryptionKey(e){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=e,this}setInitializationVector(e){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=e,this}replicateIssuerAsHeader(){return this.#d=!0,this}replicateSubjectAsHeader(){return this.#f=!0,this}replicateAudienceAsHeader(){return this.#p=!0,this}async encrypt(e,t){let r=new r2(this.#h.data());return this.#r&&(this.#d||this.#f||this.#p)&&(this.#r={...this.#r,iss:this.#d?this.#h.iss:void 0,sub:this.#f?this.#h.sub:void 0,aud:this.#p?this.#h.aud:void 0}),r.setProtectedHeader(this.#r),this.#s&&r.setInitializationVector(this.#s),this.#o&&r.setContentEncryptionKey(this.#o),this.#c&&r.setKeyManagementParameters(this.#c),r.encrypt(e,t)}}var ne=e.i(22423),ne=ne;let nt=(e,t)=>{if("string"!=typeof e||!e)throw new rt(`${t} missing or invalid`)};async function nr(e,t){let r,n;if(r$(e))r=e;else if(rh(e))r=await rV(e);else throw TypeError(rl(e,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":nt(r.alg,'"alg" (Algorithm) Parameter'),nt(r.pub,'"pub" (Public key) Parameter'),n={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":nt(r.crv,'"crv" (Curve) Parameter'),nt(r.x,'"x" (X Coordinate) Parameter'),nt(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":nt(r.crv,'"crv" (Subtype of Key Pair) Parameter'),nt(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":nt(r.e,'"e" (Exponent) Parameter'),nt(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":nt(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new t4('"kty" (Key Type) Parameter missing or unsupported')}let i=tZ(JSON.stringify(n));return t1(await rx(t,i))}async function nn(e,t,r){let n;if(!rD(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return t0(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new t4('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return rU({...e,alg:t,ext:n});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return rU({...e,ext:n});case"EC":case"OKP":return rU({...e,alg:t,ext:n});default:throw new t4('Unsupported "kty" (Key Type) Parameter value')}}async function ni(e,t,r,n,i){switch(e){case"dir":if(void 0!==r)throw new t7("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new t7("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!rD(n.epk))throw new t7('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(rd(t),!rT(t))throw new t4("ECDH with the provided key is not allowed or not supported by your javascript runtime");let o=await nn(n.epk,e);if(rd(o),void 0!==n.apu){if("string"!=typeof n.apu)throw new t7('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=t0(n.apu)}catch{throw new t7("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new t7('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=t0(n.apv)}catch{throw new t7("Failed to base64url decode the apv")}}let s=await rk(o,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?rL(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return s;if(void 0===r)throw new t7("JWE Encrypted Key missing");return rv(e.slice(-6),s,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new t7("JWE Encrypted Key missing");return rd(t),rN(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new t7("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new t7('JOSE Header "p2c" (PBES2 Count) missing or invalid');let o=i?.maxPBES2Count||1e4;if(n.p2c>o)throw new t7('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new t7('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=t0(n.p2s)}catch{throw new t7("Failed to base64url decode the p2s")}return rR(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new t7("JWE Encrypted Key missing");return rv(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new t7("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new t7('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new t7('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=t0(n.iv)}catch{throw new t7("Failed to base64url decode the iv")}try{a=t0(n.tag)}catch{throw new t7("Failed to base64url decode the tag")}return rG(e,t,r,i,a)}default:throw new t4('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function na(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function no(e,t,r){let n,i,a,o,s,c,l;if(!rD(e))throw new t7("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new t7("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new t7("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new t7("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new t7("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new t7("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new t7("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new t7("JWE AAD incorrect type");if(void 0!==e.header&&!rD(e.header))throw new t7("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!rD(e.unprotected))throw new t7("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=t0(e.protected);n=JSON.parse(tG.decode(t))}catch{throw new t7("JWE Protected Header is invalid")}if(!rX(n,e.header,e.unprotected))throw new t7("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...n,...e.header,...e.unprotected};if(rQ(t7,new Map,r?.crit,n,u),void 0!==u.zip)throw new t4('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:f}=u;if("string"!=typeof d||!d)throw new t7("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof f||!f)throw new t7("missing JWE Encryption Algorithm (enc) in JWE Header");let p=r&&na("keyManagementAlgorithms",r.keyManagementAlgorithms),h=r&&na("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(p&&!p.has(d)||!p&&d.startsWith("PBES2"))throw new t8('"alg" (Algorithm) Header Parameter value not allowed');if(h&&!h.has(f))throw new t8('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=t0(e.encrypted_key)}catch{throw new t7("Failed to base64url decode the encrypted_key")}let g=!1;"function"==typeof t&&(t=await t(n,e),g=!0),r0("dir"===d?f:d,t,"decrypt");let m=await rM(t,d);try{a=await ni(d,m,i,u,r)}catch(e){if(e instanceof TypeError||e instanceof t7||e instanceof t4)throw e;a=rq(f)}if(void 0!==e.iv)try{o=t0(e.iv)}catch{throw new t7("Failed to base64url decode the iv")}if(void 0!==e.tag)try{s=t0(e.tag)}catch{throw new t7("Failed to base64url decode the tag")}let b=void 0!==e.protected?tZ(e.protected):new Uint8Array;c=void 0!==e.aad?tz(b,tZ("."),tZ(e.aad)):b;try{l=t0(e.ciphertext)}catch{throw new t7("Failed to base64url decode the ciphertext")}let y={plaintext:await rK(f,a,l,o,s,c)};if(void 0!==e.protected&&(y.protectedHeader=n),void 0!==e.aad)try{y.additionalAuthenticatedData=t0(e.aad)}catch{throw new t7("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(y.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(y.unprotectedHeader=e.header),g)?{...y,key:m}:y}async function ns(e,t,r){if(e instanceof Uint8Array&&(e=tG.decode(e)),"string"!=typeof e)throw new t7("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:o,4:s,length:c}=e.split(".");if(5!==c)throw new t7("Invalid Compact JWE");let l=await no({ciphertext:o,iv:a||void 0,protected:n,tag:s||void 0,encrypted_key:i||void 0},t,r),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...u,key:l.key}:u}async function nc(e,t,r){let n=await ns(e,t,r),i=function(e,t,r={}){var n,i;let a,o;try{a=JSON.parse(tG.decode(t))}catch{}if(!rD(a))throw new re("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||r4(e.typ)!==r4(s)))throw new t6('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:c=[],issuer:l,subject:u,audience:d,maxTokenAge:f}=r,p=[...c];for(let e of(void 0!==f&&p.push("iat"),void 0!==d&&p.push("aud"),void 0!==u&&p.push("sub"),void 0!==l&&p.push("iss"),new Set(p.reverse())))if(!(e in a))throw new t6(`missing required "${e}" claim`,a,e,"missing");if(l&&!(Array.isArray(l)?l:[l]).includes(a.iss))throw new t6('unexpected "iss" claim value',a,"iss","check_failed");if(u&&a.sub!==u)throw new t6('unexpected "sub" claim value',a,"sub","check_failed");if(d&&(n=a.aud,i="string"==typeof d?[d]:d,"string"==typeof n?!i.includes(n):!(Array.isArray(n)&&i.some(Set.prototype.has.bind(new Set(n))))))throw new t6('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof r.clockTolerance){case"string":o=r3(r.clockTolerance);break;case"number":o=r.clockTolerance;break;case"undefined":o=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,g=r5(h||new Date);if((void 0!==a.iat||f)&&"number"!=typeof a.iat)throw new t6('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new t6('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>g+o)throw new t6('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new t6('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=g-o)throw new t3('"exp" claim timestamp check failed',a,"exp","check_failed")}if(f){let e=g-a.iat;if(e-o>("number"==typeof f?f:r3(f)))throw new t3('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-o)throw new t6('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a}(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new t6('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new t6('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new t6('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let o={payload:i,protectedHeader:a};return"function"==typeof t?{...o,key:n.key}:o}let nl=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,nu=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,nd=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,nf=/^[\u0020-\u003A\u003D-\u007E]*$/,np=Object.prototype.toString,nh=((s=function(){}).prototype=Object.create(null),s);function ng(e,t){let r=new nh,n=e.length;if(n<2)return r;let i=t?.decode||nw,a=0;do{let t=e.indexOf("=",a);if(-1===t)break;let o=e.indexOf(";",a),s=-1===o?n:o;if(t>s){a=e.lastIndexOf(";",t-1)+1;continue}let c=nm(e,a,t),l=nb(e,t,c),u=e.slice(c,l);if(void 0===r[u]){let n=nm(e,t+1,s),a=nb(e,s,n),o=i(e.slice(n,a));r[u]=o}a=s+1}while(a<n)return r}function nm(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r)return r}function nb(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function ny(e,t,r){let n=r?.encode||encodeURIComponent;if(!nl.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=n(t);if(!nu.test(i))throw TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!r)return a;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);a+="; Max-Age="+r.maxAge}if(r.domain){if(!nd.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);a+="; Domain="+r.domain}if(r.path){if(!nf.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);a+="; Path="+r.path}if(r.expires){var o;if(o=r.expires,"[object Date]"!==np.call(o)||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return a}function nw(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}e.s(["parse",()=>ng,"serialize",()=>ny],52411);var n_=e.i(52411);let{parse:nv}=n_,nx="A256CBC-HS512";async function nE(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,a=Array.isArray(r)?r:[r],o=await nk(nx,a[0],i),s=await nr({kty:"oct",k:ne.encode(o)},`sha${o.byteLength<<3}`);return await new r7(t).setProtectedHeader({alg:"dir",enc:nx,kid:s}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+n).setJti(crypto.randomUUID()).encrypt(o)}async function nS(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await nc(t,async({kid:e,enc:t})=>{for(let r of i){let i=await nk(t,r,n);if(void 0===e||e===await nr({kty:"oct",k:ne.encode(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[nx,"A256GCM"]});return a}async function nk(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await tK("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function nT({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let nA="\x1b[31m",nP="\x1b[0m",nR={error(e){let t=e instanceof tn?e.type:e.name;if(console.error(`${nA}[auth][error]${nP} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${nA}[auth][cause]${nP}:`,t.stack),r&&console.error(`${nA}[auth][details]${nP}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1b[33m[auth][warn][${e}]${nP}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1b[90m[auth][debug]:${nP} ${e}`,JSON.stringify(t,null,2))}};function nO(e){let t={...nR};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let nC=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{parse:nI,serialize:nN}=n_;async function nD(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function n$(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new tS("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new tS(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new tS(`Cannot parse action at ${e}`);let[i,a]=n;if(!nC.includes(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new tS(`Cannot parse action at ${e}`);return{action:i,providerId:"undefined"==a?void 0:a}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await nD(e):void 0,cookies:nI(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=nO(t);r.error(n),r.debug("request",e)}}function nU(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=nN(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function nj(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function nM(e){return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,t)=>e+("0"+t.toString(16)).slice(-2),"")}async function nL({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await nj(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=nM(32),a=await nj(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function nq(e,t){if(!t)throw new tR(`CSRF token was missing during an action ${e}`)}function nH(e){return null!==e&&"object"==typeof e}function nV(e,...t){if(!t.length)return e;let r=t.shift();if(nH(e)&&nH(r))for(let t in r)nH(r[t])?(nH(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),nV(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return nV(e,...t)}let nF=Symbol("skip-csrf-check"),nW=Symbol("return-type-raw"),nB=Symbol("custom-fetch"),nK=Symbol("conform-internal"),nJ=e=>nz({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),nG=e=>nz({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function nz(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function nX(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let nQ={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function nY({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:o,csrfDisabled:s,isPost:c}){var l,u;let d=nO(e),{providers:f,provider:p}=function(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,o=i?.id??a.id,s=nV(a,i,{signinUrl:`${n}/signin/${o}`,callbackUrl:`${n}/callback/${o}`});if("oauth"===t.type||"oidc"===t.type){var c;let e,t,n,a;s.redirectProxyUrl??(s.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let o=((c=s).issuer&&(c.wellKnown??(c.wellKnown=`${c.issuer}/.well-known/openid-configuration`)),(e=nX(c.authorization,c.issuer))&&!e.url?.searchParams.has("scope")&&e.url.searchParams.set("scope","openid profile email"),t=nX(c.token,c.issuer),n=nX(c.userinfo,c.issuer),a=c.checks??["pkce"],c.redirectProxyUrl&&(a.includes("state")||a.push("state"),c.redirectProxyUrl=`${c.redirectProxyUrl}/callback/${c.id}`),{...c,authorization:e,token:t,checks:a,userinfo:n,profile:c.profile??nJ,account:c.account??nG});return o.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete o.redirectProxyUrl,o[nB]??(o[nB]=i?.[nB]),o}return s}),a=i.find(({id:e})=>e===t);if(t&&!a){let e=i.map(e=>e.id).join(", ");throw Error(`Provider with id "${t}" not found. Available providers: [${e}].`)}return{providers:i,provider:a}}({url:n,providerId:t,config:e}),h=!1;if((p?.type==="oauth"||p?.type==="oidc")&&p.redirectProxyUrl)try{h=new URL(p.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${p.redirectProxyUrl}`)}let g={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:p,cookies:nV(tt(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:f,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:nE,decode:nS,...e.jwt},events:(l=e.events??{},u=d,Object.keys(l).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=l[t];return await r(...e)}catch(e){u.error(new tl(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new ta(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...nQ,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:h,experimental:{...e.experimental}},m=[];if(s)g.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await nL({options:g,cookieValue:i?.[g.cookies.csrfToken.name],isPost:c,bodyValue:o});g.csrfToken=e,g.csrfTokenVerified=r,t&&m.push({name:g.cookies.csrfToken.name,value:t,options:g.cookies.csrfToken.options})}let{callbackUrl:b,callbackUrlCookie:y}=await nT({options:g,cookieValue:i?.[g.cookies.callbackUrl.name],paramValue:a});return g.callbackUrl=b,y&&m.push({name:g.cookies.callbackUrl.name,value:y,options:g.cookies.callbackUrl.options}),{options:g,cookies:m}}var nZ,n0,n1,n2,n5,n6,n3,n8,n4,n9,n7,ie,it,ir,ii,ia,io,is,ic,il,iu,id,ip,ih,ig,im,ib,iy,iw={},i_=[],iv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ix=Array.isArray;function iE(e,t){for(var r in t)e[r]=t[r];return e}function iS(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ik(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++iu:i,__i:-1,__u:0};return null==i&&null!=il.vnode&&il.vnode(a),a}function iT(e){return e.children}function iA(e,t){this.props=e,this.context=t}function iP(e,t){if(null==t)return e.__?iP(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?iP(e):null}function iR(e){(!e.__d&&(e.__d=!0)&&id.push(e)&&!iO.__r++||ip!==il.debounceRendering)&&((ip=il.debounceRendering)||ih)(iO)}function iO(){var e,t,r,n,i,a,o,s;for(id.sort(ig);e=id.shift();)e.__d&&(t=id.length,n=void 0,a=(i=(r=e).__v).__e,o=[],s=[],r.__P&&((n=iE({},i)).__v=i.__v+1,il.vnode&&il.vnode(n),i$(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[a]:null,o,null==a?iP(i):a,!!(32&i.__u),s),n.__v=i.__v,n.__.__k[n.__i]=n,function(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)iU(r[n],r[++n],r[++n]);il.__c&&il.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){il.__e(e,t.__v)}})}(o,n,s),n.__e!=a&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),id.length>t&&id.sort(ig));iO.__r=0}function iC(e,t,r,n,i,a,o,s,c,l,u){var d,f,p,h,g,m=n&&n.__k||i_,b=t.length;for(r.__d=c,function(e,t,r){var n,i,a,o,s,c=t.length,l=r.length,u=l,d=0;for(e.__k=[],n=0;n<c;n++)null!=(i=t[n])&&"boolean"!=typeof i&&"function"!=typeof i?(o=n+d,(i=e.__k[n]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?ik(null,i,null,null,null):ix(i)?ik(iT,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?ik(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,-1!==(s=i.__i=function(e,t,r,n){var i=e.key,a=e.type,o=r-1,s=r+1,c=t[r];if(null===c||c&&i==c.key&&a===c.type&&0==(131072&c.__u))return r;if(n>+(null!=c&&0==(131072&c.__u)))for(;o>=0||s<t.length;){if(o>=0){if((c=t[o])&&0==(131072&c.__u)&&i==c.key&&a===c.type)return o;o--}if(s<t.length){if((c=t[s])&&0==(131072&c.__u)&&i==c.key&&a===c.type)return s;s++}}return -1}(i,r,o,u))&&(u--,(a=r[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&d--,"function"!=typeof i.type&&(i.__u|=65536)):s!==o&&(s==o-1?d--:s==o+1?d++:(s>o?d--:d++,i.__u|=65536))):i=e.__k[n]=null;if(u)for(n=0;n<l;n++)null!=(a=r[n])&&0==(131072&a.__u)&&(a.__e==e.__d&&(e.__d=iP(a)),function e(t,r,n){var i,a;if(il.unmount&&il.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||iU(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){il.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||iS(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(a,a))}(r,t,m),c=r.__d,d=0;d<b;d++)null!=(p=r.__k[d])&&(f=-1===p.__i?iw:m[p.__i]||iw,p.__i=d,i$(e,p,f,i,a,o,s,c,l,u),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&iU(f.ref,null,p),u.push(p.ref,p.__c||h,p)),null==g&&null!=h&&(g=h),65536&p.__u||f.__k===p.__k?c=function e(t,r,n){var i,a;if("function"==typeof t.type){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,r=e(i[a],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=iP(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType)return r}(p,c,e):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=c,r.__e=g}function iI(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||iv.test(t)?r:r+"px"}function iN(e,t,r,n,i){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||iI(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||iI(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=im,e.addEventListener(t,a?iy:ib,a)):e.removeEventListener(t,a?iy:ib,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function iD(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=im++;else if(t.t<r.u)return;return r(il.event?il.event(t):t)}}}function i$(e,t,r,n,i,a,o,s,c,l){var u,d,f,p,h,g,m,b,y,w,_,v,x,E,S,k,T=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),a=[s=t.__e=r.__e]),(u=il.__b)&&u(t);e:if("function"==typeof T)try{if(b=t.props,y="prototype"in T&&T.prototype.render,w=(u=T.contextType)&&n[u.__c],_=u?w?w.props.value:u.__:n,r.__c?m=(d=t.__c=r.__c).__=d.__E:(y?t.__c=d=new T(b,_):(t.__c=d=new iA(b,_),d.constructor=T,d.render=ij),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=_,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),y&&null==d.__s&&(d.__s=d.state),y&&null!=T.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=iE({},d.__s)),iE(d.__s,T.getDerivedStateFromProps(b,d.__s))),p=d.props,h=d.state,d.__v=t,f)y&&null==T.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),y&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(y&&null==T.getDerivedStateFromProps&&b!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,_),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,_)||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=b,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),v=0;v<d._sb.length;v++)d.__h.push(d._sb[v]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,_),y&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(p,h,g)})}if(d.context=_,d.props=b,d.__P=e,d.__e=!1,x=il.__r,E=0,y){for(d.state=d.__s,d.__d=!1,x&&x(t),u=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,x&&x(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25)d.state=d.__s,null!=d.getChildContext&&(n=iE(iE({},n),d.getChildContext())),y&&!f&&null!=d.getSnapshotBeforeUpdate&&(g=d.getSnapshotBeforeUpdate(p,h)),iC(e,ix(k=null!=u&&u.type===iT&&null==u.key?u.props.children:u)?k:[k],t,r,n,i,a,o,s,c,l),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),m&&(d.__E=d.__=null)}catch(e){if(t.__v=null,c||null!=a){for(t.__u|=c?160:128;s&&8===s.nodeType&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,t.__e=s}else t.__e=r.__e,t.__k=r.__k;il.__e(e,t,r)}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,a,o,s,c){var l,u,d,f,p,h,g,m=r.props,b=t.props,y=t.type;if("svg"===y?i="http://www.w3.org/2000/svg":"math"===y?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a){for(l=0;l<a.length;l++)if((p=a[l])&&"setAttribute"in p==!!y&&(y?p.localName===y:3===p.nodeType)){e=p,a[l]=null;break}}if(null==e){if(null===y)return document.createTextNode(b);e=document.createElementNS(i,y,b.is&&b),s&&(il.__m&&il.__m(t,a),s=!1),a=null}if(null===y)m===b||s&&e.data===b||(e.data=b);else{if(a=a&&ic.call(e.childNodes),m=r.props||iw,!s&&null!=a)for(m={},l=0;l<e.attributes.length;l++)m[(p=e.attributes[l]).name]=p.value;for(l in m)if(p=m[l],"children"==l);else if("dangerouslySetInnerHTML"==l)d=p;else if(!(l in b)){if("value"==l&&"defaultValue"in b||"checked"==l&&"defaultChecked"in b)continue;iN(e,l,null,p,i)}for(l in b)p=b[l],"children"==l?f=p:"dangerouslySetInnerHTML"==l?u=p:"value"==l?h=p:"checked"==l?g=p:s&&"function"!=typeof p||m[l]===p||iN(e,l,p,m[l],i);if(u)s||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),iC(e,ix(f)?f:[f],t,r,n,"foreignObject"===y?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:r.__k&&iP(r,0),s,c),null!=a)for(l=a.length;l--;)iS(a[l]);s||(l="value","progress"===y&&null==h?e.removeAttribute("value"):void 0===h||h===e[l]&&("progress"!==y||h)&&("option"!==y||h===m[l])||iN(e,l,h,m[l],i),l="checked",void 0!==g&&g!==e[l]&&iN(e,l,g,m[l],i))}return e}(r.__e,t,r,n,i,a,o,c,l);(u=il.diffed)&&u(t)}function iU(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){il.__e(e,r)}}function ij(e,t,r){return this.constructor(e,r)}ic=i_.slice,il={__e:function(e,t,r,n){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},iu=0,iA.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=iE({},this.state),"function"==typeof e&&(e=e(iE({},r),this.props)),e&&iE(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),iR(this))},iA.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),iR(this))},iA.prototype.render=iT,id=[],ih="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ig=function(e,t){return e.__v.__b-t.__v.__b},iO.__r=0,im=0,ib=iD(!1),iy=iD(!0);var iM=/[\s\n\\/='"\0<>]/,iL=/^(xlink|xmlns|xml)([A-Z])/,iq=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,iH=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,iV=new Set(["draggable","spellcheck"]),iF=/["&<]/;function iW(e){if(0===e.length||!1===iF.test(e))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var iB={},iK=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),iJ=/[A-Z]/g;function iG(){this.__d=!0}function iz(e,t,r){if(!e.s){if(r instanceof i0){if(!r.s)return void(r.o=iz.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(iz.bind(null,e,t),iz.bind(null,e,2));e.s=t,e.v=r;let n=e.o;n&&n(e)}}var iX,iQ,iY,iZ,i0=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,i=this.s;if(i){var a=1&i?t:r;if(a){try{iz(n,1,a(this.v))}catch(e){iz(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?iz(n,1,t?t(i):i):r?iz(n,1,r(i)):iz(n,2,i)}catch(e){iz(n,2,e)}},n},e}(),i1={},i2=[],i5=Array.isArray,i6=Object.assign;function i3(e,t){var r,n=e.type,i=!0;return e.__c?(i=!1,(r=e.__c).state=r.__s):r=new n(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,null==r.state&&(r.state=i1),null==r.__s&&(r.__s=r.state),n.getDerivedStateFromProps?r.state=i6({},r.state,n.getDerivedStateFromProps(r.props,r.state)):i&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!i&&r.componentWillUpdate&&r.componentWillUpdate(),iY&&iY(e),r.render(r.props,r.state,t)}var i8=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),i4=0;function i9(e,t,r,n,i,a){t||(t={});var o,s,c=t;"ref"in t&&(o=t.ref,delete t.ref);var l={type:e,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--i4,__i:-1,__u:0,__source:i,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===c[s]&&(c[s]=o[s]);return il.vnode&&il.vnode(l),l}async function i7(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);return i.ok?i.json():void console.error("Failed to fetch options",i)}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function o(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function s(e,t){let n=await r.startAuthentication(e,t);return await o("authenticate",n)}async function c(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await o("register",t)}async function l(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e)return void console.error("Failed to fetch option for autofill authentication");try{await s(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t)return void console.error("Failed to fetch options for form submission");if("authenticate"===t.action)try{await s(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await c(t.options)}catch(e){console.error(e)}})})(),l()}let ae={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},at=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function ar({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${at}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${function(e,t,r){var n=il.__s;il.__s=!0,iX=il.__b,iQ=il.diffed,iY=il.__r,iZ=il.unmount;var i=function(e,t,r){var n,i,a,o={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?ic.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return ik(e,o,n,i,null)}(iT,null);i.__k=[e];try{var a=function e(t,r,n,i,a,o,s){if(null==t||!0===t||!1===t||""===t)return"";var c=typeof t;if("object"!=c)return"function"==c?"":"string"==c?iW(t):t+"";if(i5(t)){var l,u="";a.__k=t;for(var d=0;d<t.length;d++){var f=t[d];if(null!=f&&"boolean"!=typeof f){var p,h=e(f,r,n,i,a,o,s);"string"==typeof h?u+=h:(l||(l=[]),u&&l.push(u),u="",i5(h)?(p=l).push.apply(p,h):l.push(h))}}return l?(u&&l.push(u),l):u}if(void 0!==t.constructor)return"";t.__=a,iX&&iX(t);var g=t.type,m=t.props;if("function"==typeof g){var b,y,w,_=r;if(g===iT){if("tpl"in m){for(var v="",x=0;x<m.tpl.length;x++)if(v+=m.tpl[x],m.exprs&&x<m.exprs.length){var E=m.exprs[x];if(null==E)continue;"object"==typeof E&&(void 0===E.constructor||i5(E))?v+=e(E,r,n,i,t,o,s):v+=E}return v}if("UNSTABLE_comment"in m)return"<!--"+iW(m.UNSTABLE_comment)+"-->";y=m.children}else{if(null!=(b=g.contextType)){var S=r[b.__c];_=S?S.props.value:b.__}var k=g.prototype&&"function"==typeof g.prototype.render;if(k)y=i3(t,_),w=t.__c;else{t.__c=w={__v:t,context:_,props:t.props,setState:iG,forceUpdate:iG,__d:!0,__h:[]};for(var T=0;w.__d&&T++<25;)w.__d=!1,iY&&iY(t),y=g.call(w,m,_);w.__d=!0}if(null!=w.getChildContext&&(r=i6({},r,w.getChildContext())),k&&il.errorBoundaries&&(g.getDerivedStateFromError||w.componentDidCatch)){y=null!=y&&y.type===iT&&null==y.key&&null==y.props.tpl?y.props.children:y;try{return e(y,r,n,i,t,o,s)}catch(a){return g.getDerivedStateFromError&&(w.__s=g.getDerivedStateFromError(a)),w.componentDidCatch&&w.componentDidCatch(a,i1),w.__d?(y=i3(t,r),null!=(w=t.__c).getChildContext&&(r=i6({},r,w.getChildContext())),e(y=null!=y&&y.type===iT&&null==y.key&&null==y.props.tpl?y.props.children:y,r,n,i,t,o,s)):""}finally{iQ&&iQ(t),t.__=null,iZ&&iZ(t)}}}y=null!=y&&y.type===iT&&null==y.key&&null==y.props.tpl?y.props.children:y;try{var A=e(y,r,n,i,t,o,s);return iQ&&iQ(t),t.__=null,il.unmount&&il.unmount(t),A}catch(a){if(!o&&s&&s.onError){var P=s.onError(a,t,function(a){return e(a,r,n,i,t,o,s)});if(void 0!==P)return P;var R=il.__e;return R&&R(a,t),""}if(!o||!a||"function"!=typeof a.then)throw a;return a.then(function a(){try{return e(y,r,n,i,t,o,s)}catch(c){if(!c||"function"!=typeof c.then)throw c;return c.then(function(){return e(y,r,n,i,t,o,s)},a)}})}}var O,C="<"+g,I="";for(var N in m){var D=m[N];if("function"!=typeof D||"class"===N||"className"===N){switch(N){case"children":O=D;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in m)continue;N="for";break;case"className":if("class"in m)continue;N="class";break;case"defaultChecked":N="checked";break;case"defaultSelected":N="selected";break;case"defaultValue":case"value":switch(N="value",g){case"textarea":O=D;continue;case"select":i=D;continue;case"option":i!=D||"selected"in m||(C+=" selected")}break;case"dangerouslySetInnerHTML":I=D&&D.__html;continue;case"style":"object"==typeof D&&(D=function(e){var t="";for(var r in e){var n=e[r];if(null!=n&&""!==n){var i="-"==r[0]?r:iB[r]||(iB[r]=r.replace(iJ,"-$&").toLowerCase()),a=";";"number"!=typeof n||i.startsWith("--")||iK.has(i)||(a="px;"),t=t+i+":"+n+a}}return t||void 0}(D));break;case"acceptCharset":N="accept-charset";break;case"httpEquiv":N="http-equiv";break;default:if(iL.test(N))N=N.replace(iL,"$1:$2").toLowerCase();else{if(iM.test(N))continue;("-"===N[4]||iV.has(N))&&null!=D?D+="":n?iH.test(N)&&(N="panose1"===N?"panose-1":N.replace(/([A-Z])/g,"-$1").toLowerCase()):iq.test(N)&&(N=N.toLowerCase())}}null!=D&&!1!==D&&(C=!0===D||""===D?C+" "+N:C+" "+N+'="'+("string"==typeof D?iW(D):D+"")+'"')}}if(iM.test(g))throw Error(g+" is not a valid HTML tag name in "+C+">");if(I||("string"==typeof O?I=iW(O):null!=O&&!1!==O&&!0!==O&&(I=e(O,r,"svg"===g||"foreignObject"!==g&&n,i,t,o,s))),iQ&&iQ(t),t.__=null,iZ&&iZ(t),!I&&i8.has(g))return C+"/>";var $="</"+g+">",U=C+">";return i5(I)?[U].concat(I,[$]):"string"!=typeof I?[U,I,$]:U+I+$}(e,i1,!1,void 0,i,!1,void 0);return i5(a)?a.join(""):a}catch(e){if(e.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{il.__c&&il.__c(e,i2),il.__s=n,i2.length=0}}(e)}</div></body></html>`}}function an(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:o}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,s){if(t)throw new tS("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return s&&(t=`${t}&${new URLSearchParams({error:s})}`),{redirect:t,cookies:i}}let c=o?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),l="";if(c){let{simpleWebAuthnBrowserVersion:e}=c;l=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return ar({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:o}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let s=o&&(ae[o]??ae.default),c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return i9("div",{className:"signin",children:[i?.brandColor&&i9("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&i9("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),i9("div",{className:"card",children:[s&&i9("div",{className:"error",children:i9("p",{children:s})}),i?.logo&&i9("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let o,s,c;("oauth"===e.type||"oidc"===e.type)&&({bg:o="#fff",brandColor:s,logo:c=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let l=s??o??"#fff";return i9("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?i9("form",{action:e.signinUrl,method:"POST",children:[i9("input",{type:"hidden",name:"csrfToken",value:t}),n&&i9("input",{type:"hidden",name:"callbackUrl",value:n}),i9("button",{type:"submit",className:"button",style:{"--provider-brand-color":l},tabIndex:0,children:[i9("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&i9("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&i9("hr",{}),"email"===e.type&&i9("form",{action:e.signinUrl,method:"POST",children:[i9("input",{type:"hidden",name:"csrfToken",value:t}),i9("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),i9("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),i9("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&i9("form",{action:e.callbackUrl,method:"POST",children:[i9("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>i9("div",{children:[i9("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),i9("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),i9("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&i9("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[i9("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>i9("div",{children:[i9("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),i9("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),i9("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&i9("hr",{})]},e.id)})]}),c&&i9(iT,{children:i9("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${i7})(authURL, "${c}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:s,...n}),title:"Sign In",headTags:l})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:ar({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return i9("div",{className:"signout",children:[n?.brandColor&&i9("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&i9("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),i9("div",{className:"card",children:[n?.logo&&i9("img",{src:n.logo,alt:"Logo",className:"logo"}),i9("h1",{children:"Signout"}),i9("p",{children:"Are you sure you want to sign out?"}),i9("form",{action:t?.toString(),method:"POST",children:[i9("input",{type:"hidden",name:"csrfToken",value:r}),i9("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:`${a.verifyRequest}${t?.search??""}`,cookies:i}:ar({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return i9("div",{className:"verify-request",children:[r.brandColor&&i9("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),i9("div",{className:"card",children:[r.logo&&i9("img",{src:r.logo,alt:"Logo",className:"logo"}),i9("h1",{children:"Check your email"}),i9("p",{children:"A sign in link has been sent to your email address."}),i9("p",{children:i9("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:ar({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:i9("p",{children:i9("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:i9("div",{children:[i9("p",{children:"There is a problem with the server configuration."}),i9("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:i9("div",{children:[i9("p",{children:"You do not have permission to sign in."}),i9("p",{children:i9("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:i9("div",{children:[i9("p",{children:"The sign in link is no longer valid."}),i9("p",{children:"It may have been used already or it may have expired."})]}),signin:i9("a",{className:"button",href:i,children:"Sign in"})}},{status:o,heading:s,message:c,signin:l}=a[r]??a.default;return{status:o,html:i9("div",{className:"error",children:[n?.brandColor&&i9("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),i9("div",{className:"card",children:[n?.logo&&i9("img",{src:n?.logo,alt:"Logo",className:"logo"}),i9("h1",{children:s}),i9("div",{className:"message",children:c}),l]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function ai(e,t=Date.now()){return new Date(t+1e3*e)}async function aa(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:o,session:{strategy:s,generateSessionToken:c}}=n;if(!i)return{user:t,account:r};let l=r,{createUser:u,updateUser:d,getUser:f,getUserByAccount:p,getUserByEmail:h,linkAccount:g,createSession:m,getSessionAndUser:b,deleteSession:y}=i,w=null,_=null,v=!1,x="jwt"===s;if(e)if(x)try{let t=n.cookies.sessionToken.name;(w=await a.decode({...a,token:e,salt:t}))&&"sub"in w&&w.sub&&(_=await f(w.sub))}catch{}else{let t=await b(e);t&&(w=t.session,_=t.user)}if("email"===l.type){let r=await h(t.email);return r?(_?.id!==r.id&&!x&&e&&await y(e),_=await d({id:r.id,emailVerified:new Date}),await o.updateUser?.({user:_})):(_=await u({...t,emailVerified:new Date}),await o.createUser?.({user:_}),v=!0),{session:w=x?{}:await m({sessionToken:c(),userId:_.id,expires:ai(n.session.maxAge)}),user:_,isNewUser:v}}if("webauthn"===l.type){let e=await p({providerAccountId:l.providerAccountId,provider:l.provider});if(e){if(_){if(e.id===_.id){let e={...l,userId:_.id};return{session:w,user:_,isNewUser:v,account:e}}throw new tD("The account is already associated with another user",{provider:l.provider})}w=x?{}:await m({sessionToken:c(),userId:e.id,expires:ai(n.session.maxAge)});let t={...l,userId:e.id};return{session:w,user:e,isNewUser:v,account:t}}{if(_){await g({...l,userId:_.id}),await o.linkAccount?.({user:_,account:l,profile:t});let e={...l,userId:_.id};return{session:w,user:_,isNewUser:v,account:e}}if(t.email?await h(t.email):null)throw new tD("Another account already exists with the same e-mail address",{provider:l.provider});_=await u({...t}),await o.createUser?.({user:_}),await g({...l,userId:_.id}),await o.linkAccount?.({user:_,account:l,profile:t}),w=x?{}:await m({sessionToken:c(),userId:_.id,expires:ai(n.session.maxAge)});let e={...l,userId:_.id};return{session:w,user:_,isNewUser:!0,account:e}}}let E=await p({providerAccountId:l.providerAccountId,provider:l.provider});if(E){if(_){if(E.id===_.id)return{session:w,user:_,isNewUser:v};throw new tw("The account is already associated with another user",{provider:l.provider})}return{session:w=x?{}:await m({sessionToken:c(),userId:E.id,expires:ai(n.session.maxAge)}),user:E,isNewUser:v}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:a,userId:s,...d}=l;if(l=Object.assign(e.account(d)??{},{providerAccountId:a,provider:i,type:r,userId:s}),_)return await g({...l,userId:_.id}),await o.linkAccount?.({user:_,account:l,profile:t}),{session:w,user:_,isNewUser:v};let f=t.email?await h(t.email):null;if(f){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)_=f,v=!1;else throw new tw("Another account already exists with the same e-mail address",{provider:l.provider})}else _=await u({...t,emailVerified:null}),v=!0;return await o.createUser?.({user:_}),await g({...l,userId:_.id}),await o.linkAccount?.({user:_,account:l,profile:t}),{session:w=x?{}:await m({sessionToken:c(),userId:_.id,expires:ai(n.session.maxAge)}),user:_,isNewUser:v}}}function ao(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(n="oauth4webapi/v3.8.3");let as="ERR_INVALID_ARG_VALUE",ac="ERR_INVALID_ARG_TYPE";function al(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let au=Symbol(),ad=Symbol(),af=Symbol(),ap=Symbol(),ah=Symbol(),ag=Symbol();Symbol();let am=new TextEncoder,ab=new TextDecoder;function ay(e){return"string"==typeof e?am.encode(e):ab.decode(e)}function aw(e){return"string"==typeof e?a(e):i(e)}i=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},a=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(e){throw al("The input to be decoded is not correctly encoded.",as,e)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw al("The input to be decoded is not correctly encoded.",as,e)}};class a_ extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ov,Error.captureStackTrace?.(this,this.constructor)}}class av extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function ax(e,t,r){return new av(e,{code:t,cause:r})}function aE(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function aS(e){ao(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(n&&!t.has("user-agent")&&t.set("user-agent",n),t.has("authorization"))throw al('"options.headers" must not include the "authorization" header name',as);return t}function ak(e,t){if(void 0!==t){if("function"==typeof t&&(t=t(e.href)),!(t instanceof AbortSignal))throw al('"options.signal" must return or be an instance of AbortSignal',ac);return t}}function aT(e){return e.includes("//")?e.replace("//","/"):e}async function aA(e,t,r,n){if(!(e instanceof URL))throw al(`"${t}" must be an instance of URL`,ac);aF(e,n?.[au]!==!0);let i=r(new URL(e.href)),a=aS(n?.headers);return a.set("accept","application/json"),(n?.[ap]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:ak(i,n?.signal)})}async function aP(e,t){return aA(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=aT(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(e,t,r=!1){"/"===e.pathname?e.pathname=t:e.pathname=aT(`${t}/${r?e.pathname:e.pathname.replace(/(\/)$/,"")}`)}(e,".well-known/oauth-authorization-server");break;default:throw al('"options.algorithm" must be "oidc" (default), or "oauth2"',as)}return e},t)}function aR(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw al(`${r} must be a number`,ac,i);if(e>0)return;if(t){if(0!==e)throw al(`${r} must be a non-negative number`,as,i);return}throw al(`${r} must be a positive number`,as,i)}catch(e){if(n)throw ax(e.message,n,i);throw e}}function aO(e,t,r,n){try{if("string"!=typeof e)throw al(`${t} must be a string`,ac,n);if(0===e.length)throw al(`${t} must not be empty`,as,n)}catch(e){if(r)throw ax(e.message,r,n);throw e}}async function aC(e,t){if(!(e instanceof URL)&&e!==oF)throw al('"expectedIssuerIdentifier" must be an instance of URL',ac);if(!ao(t,Response))throw al('"response" must be an instance of Response',ac);if(200!==t.status)throw ax('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',oA,t);o$(t);let r=await oV(t);if(aO(r.issuer,'"response" body "issuer" property',ok,{body:r}),e!==oF&&new URL(r.issuer).href!==e.href)throw ax('"response" body "issuer" property does not match the expected value',oI,{expected:e.href,body:r,attribute:"issuer"});return r}function aI(e){var t=e,r="application/json";if(a8(t)!==r)throw function(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return ax(r,oT,e)}(t,r)}function aN(){return aw(crypto.getRandomValues(new Uint8Array(32)))}async function aD(e){return aO(e,"codeVerifier"),aw(await crypto.subtle.digest("SHA-256",ay(e)))}function a$(e){let t=e?.[ad];return"number"==typeof t&&Number.isFinite(t)?t:0}function aU(e){let t=e?.[af];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function aj(){return Math.floor(Date.now()/1e3)}function aM(e){if("object"!=typeof e||null===e)throw al('"as" must be an object',ac);aO(e.issuer,'"as.issuer"')}function aL(e){if("object"!=typeof e||null===e)throw al('"client" must be an object',ac);aO(e.client_id,'"client.client_id"')}function aq(e,t){let r=aj()+a$(t);return{jti:aN(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function aH(e,t,r){if(!r.usages.includes("sign"))throw al('CryptoKey instances used for signing assertions must include "sign" in their "usages"',as);let n=`${aw(ay(JSON.stringify(e)))}.${aw(ay(JSON.stringify(t)))}`,i=aw(await crypto.subtle.sign(function(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new a_("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(oU(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new a_("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return oU(e),e.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return e.algorithm.name}throw new a_("unsupported CryptoKey algorithm name",{cause:e})}(r),r,ay(n)));return`${n}.${i}`}let aV=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function aF(e,t){if(t&&"https:"!==e.protocol)throw ax("only requests to HTTPS are allowed",oP,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw ax("only HTTP and HTTPS requests are allowed",oR,e)}function aW(e,t,r,n){let i;if("string"!=typeof e||!(i=aV(e)))throw ax(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?oN:oD,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return aF(i,n),i}function aB(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?aW(e.mtls_endpoint_aliases[t],t,r,n):aW(e[t],t,r,n)}class aK extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=o_,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class aJ extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ox,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class aG extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ow,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let az="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",aX=RegExp("^[,\\s]*("+az+")"),aQ=RegExp("^[,\\s]*("+az+')\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),aY=RegExp("^[,\\s]*"+("("+az+")\\s*=\\s*(")+az+")[,\\s]*(.*)"),aZ=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");async function a0(e){if(e.status>399&&e.status<500){o$(e),aI(e);try{let t=await e.clone().json();if(aE(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function a1(e,t,r){if(e.status!==t){let t;if(oi(e),t=await a0(e))throw await e.body?.cancel(),new aK("server responded with an error in the response body",{cause:t,response:e});throw ax(`"response" is not a conform ${r} response (unexpected HTTP status code)`,oA,e)}}function a2(e){if(!ol.has(e))throw al('"options.DPoP" is not a valid DPoPHandle',as)}async function a5(e,t,r,n,i,a){if(aO(e,'"accessToken"'),!(r instanceof URL))throw al('"url" must be an instance of URL',ac);aF(r,a?.[au]!==!0),n=aS(n),a?.DPoP&&(a2(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let o=await (a?.[ap]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:ak(r,a?.signal)});return a?.DPoP?.cacheNonce(o,r),o}async function a6(e,t,r,n){aM(e),aL(t);let i=aB(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[au]!==!0),a=aS(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),a5(r,"GET",i,a,null,{...n,[ad]:a$(t)})}let a3=Symbol();function a8(e){return e.headers.get("content-type")?.split(";")[0]}async function a4(e,t,r,n,i){let a;if(aM(e),aL(t),!ao(n,Response))throw al('"response" must be an instance of Response',ac);if(oi(n),200!==n.status)throw ax('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',oA,n);if(o$(n),"application/jwt"===a8(n)){let{claims:r,jwt:o}=await oj(await n.text(),oM.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),a$(t),aU(t),i?.[ag]).then(oa.bind(void 0,t.client_id)).then(os.bind(void 0,e));ot.set(n,o),a=r}else{if(t.userinfo_signed_response_alg)throw ax("JWT UserInfo Response expected",oE,n);a=await oV(n)}if(aO(a.sub,'"response" body "sub" property',ok,{body:a}),r===a3);else if(aO(r,'"expectedSubject"'),a.sub!==r)throw ax('unexpected "response" body "sub" property value',oI,{expected:r,body:a,attribute:"sub"});return a}async function a9(e,t,r,n,i,a,o){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(o?.[ap]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:ak(n,o?.signal)})}async function a7(e,t,r,n,i,a){let o=aB(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[au]!==!0);i.set("grant_type",n);let s=aS(a?.headers);s.set("accept","application/json"),a?.DPoP!==void 0&&(a2(a.DPoP),await a.DPoP.addProof(o,s,"POST"));let c=await a9(e,t,r,o,i,s,a);return a?.DPoP?.cacheNonce(c,o),c}let oe=new WeakMap,ot=new WeakMap;function or(e){if(!e.id_token)return;let t=oe.get(e);if(!t)throw al('"ref" was already garbage collected or did not resolve from the proper sources',as);return t}async function on(e,t,r,n,i,a){if(aM(e),aL(t),!ao(r,Response))throw al('"response" must be an instance of Response',ac);await a1(r,200,"Token Endpoint"),o$(r);let o=await oV(r);if(aO(o.access_token,'"response" body "access_token" property',ok,{body:o}),aO(o.token_type,'"response" body "token_type" property',ok,{body:o}),o.token_type=o.token_type.toLowerCase(),void 0!==o.expires_in){let e="number"!=typeof o.expires_in?parseFloat(o.expires_in):o.expires_in;aR(e,!0,'"response" body "expires_in" property',ok,{body:o}),o.expires_in=e}if(void 0!==o.refresh_token&&aO(o.refresh_token,'"response" body "refresh_token" property',ok,{body:o}),void 0!==o.scope&&"string"!=typeof o.scope)throw ax('"response" body "scope" property must be a string',ok,{body:o});if(void 0!==o.id_token){aO(o.id_token,'"response" body "id_token" property',ok,{body:o});let a=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&a.push("auth_time"),void 0!==t.default_max_age&&(aR(t.default_max_age,!0,'"client.default_max_age"'),a.push("auth_time")),n?.length&&a.push(...n);let{claims:s,jwt:c}=await oj(o.id_token,oM.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),a$(t),aU(t),i).then(op.bind(void 0,a)).then(oc.bind(void 0,e)).then(oo.bind(void 0,t.client_id));if(Array.isArray(s.aud)&&1!==s.aud.length){if(void 0===s.azp)throw ax('ID Token "aud" (audience) claim includes additional untrusted audiences',oC,{claims:s,claim:"aud"});if(s.azp!==t.client_id)throw ax('unexpected ID Token "azp" (authorized party) claim value',oC,{expected:t.client_id,claims:s,claim:"azp"})}void 0!==s.auth_time&&aR(s.auth_time,!0,'ID Token "auth_time" (authentication time)',ok,{claims:s}),ot.set(r,c),oe.set(o,s)}if(a?.[o.token_type]!==void 0)a[o.token_type](r,o);else if("dpop"!==o.token_type&&"bearer"!==o.token_type)throw new a_("unsupported `token_type` value",{cause:{body:o}});return o}function oi(e){let t;if(t=function(e){if(!ao(e,Response))throw al('"response" must be an instance of Response',ac);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],n=t;for(;n;){let e,t=n.match(aX),i=t?.["1"].toLowerCase();if(!i)return;let a=n.substring(t[0].length);if(a&&!a.match(/^[\s,]/))return;let o=a.match(/^\s+(.*)$/),s=!!o;n=o?o[1]:void 0;let c={};if(s)for(;n;){let r,i;if(t=n.match(aQ)){if([,r,i,n]=t,i.includes("\\"))try{i=JSON.parse(`"${i}"`)}catch{}c[r.toLowerCase()]=i;continue}if(t=n.match(aY)){[,r,i,n]=t,c[r.toLowerCase()]=i;continue}if(t=n.match(aZ)){if(Object.keys(c).length)break;[,e,n]=t;break}return}else n=a||void 0;let l={scheme:i,parameters:c};e&&(l.token68=e),r.push(l)}if(r.length)return r}(e))throw new aG("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function oa(e,t){return void 0!==t.claims.aud?oo(e,t):t}function oo(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw ax('unexpected JWT "aud" (audience) claim value',oC,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw ax('unexpected JWT "aud" (audience) claim value',oC,{expected:e,claims:t.claims,claim:"aud"});return t}function os(e,t){return void 0!==t.claims.iss?oc(e,t):t}function oc(e,t){let r=e[oW]?.(t)??e.issuer;if(t.claims.iss!==r)throw ax('unexpected JWT "iss" (issuer) claim value',oC,{expected:r,claims:t.claims,claim:"iss"});return t}let ol=new WeakSet,ou=Symbol();async function od(e,t,r,n,i,a,o){if(aM(e),aL(t),!ol.has(n))throw al('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',as);aO(i,'"redirectUri"');let s=oL(n,"code");if(!s)throw ax('no authorization code in "callbackParameters"',ok);let c=new URLSearchParams(o?.additionalParameters);return c.set("redirect_uri",i),c.set("code",s),a!==ou&&(aO(a,'"codeVerifier"'),c.set("code_verifier",a)),a7(e,t,r,"authorization_code",c,o)}let of={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function op(e,t){for(let r of e)if(void 0===t.claims[r])throw ax(`JWT "${r}" (${of[r]}) claim missing`,ok,{claims:t.claims});return t}let oh=Symbol(),og=Symbol();async function om(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?ob(e,t,r,n.expectedNonce,n.maxAge,n[ag],n.recognizedTokenTypes):oy(e,t,r,n?.[ag],n?.recognizedTokenTypes)}async function ob(e,t,r,n,i,a,o){let s=[];switch(n){case void 0:n=oh;break;case oh:break;default:aO(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=og;break;case og:break;default:aR(i,!0,'"maxAge" argument'),s.push("auth_time")}let c=await on(e,t,r,s,a,o);aO(c.id_token,'"response" body "id_token" property',ok,{body:c});let l=or(c);if(i!==og){let e=aj()+a$(t),r=aU(t);if(l.auth_time+i<e-r)throw ax("too much time has elapsed since the last End-User authentication",oO,{claims:l,now:e,tolerance:r,claim:"auth_time"})}if(n===oh){if(void 0!==l.nonce)throw ax('unexpected ID Token "nonce" claim value',oC,{expected:void 0,claims:l,claim:"nonce"})}else if(l.nonce!==n)throw ax('unexpected ID Token "nonce" claim value',oC,{expected:n,claims:l,claim:"nonce"});return c}async function oy(e,t,r,n,i){let a=await on(e,t,r,void 0,n,i),o=or(a);if(o){if(void 0!==t.default_max_age){aR(t.default_max_age,!0,'"client.default_max_age"');let e=aj()+a$(t),r=aU(t);if(o.auth_time+t.default_max_age<e-r)throw ax("too much time has elapsed since the last End-User authentication",oO,{claims:o,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==o.nonce)throw ax('unexpected ID Token "nonce" claim value',oC,{expected:void 0,claims:o,claim:"nonce"})}return a}let ow="OAUTH_WWW_AUTHENTICATE_CHALLENGE",o_="OAUTH_RESPONSE_BODY_ERROR",ov="OAUTH_UNSUPPORTED_OPERATION",ox="OAUTH_AUTHORIZATION_RESPONSE_ERROR",oE="OAUTH_JWT_USERINFO_EXPECTED",oS="OAUTH_PARSE_ERROR",ok="OAUTH_INVALID_RESPONSE",oT="OAUTH_RESPONSE_IS_NOT_JSON",oA="OAUTH_RESPONSE_IS_NOT_CONFORM",oP="OAUTH_HTTP_REQUEST_FORBIDDEN",oR="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",oO="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",oC="OAUTH_JWT_CLAIM_COMPARISON_FAILED",oI="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",oN="OAUTH_MISSING_SERVER_METADATA",oD="OAUTH_INVALID_SERVER_METADATA";function o$(e){if(e.bodyUsed)throw al('"response" body has been used already',as)}function oU(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new a_(`unsupported ${t.name} modulusLength`,{cause:e})}async function oj(e,t,r,n,i){let a,o,{0:s,1:c,length:l}=e.split(".");if(5===l)if(void 0!==i)e=await i(e),{0:s,1:c,length:l}=e.split(".");else throw new a_("JWE decryption is not configured",{cause:e});if(3!==l)throw ax("Invalid JWT",ok,e);try{a=JSON.parse(ay(aw(s)))}catch(e){throw ax("failed to parse JWT Header body as base64url encoded JSON",oS,e)}if(!aE(a))throw ax("JWT Header must be a top level object",ok,e);if(t(a),void 0!==a.crit)throw new a_('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{o=JSON.parse(ay(aw(c)))}catch(e){throw ax("failed to parse JWT Payload body as base64url encoded JSON",oS,e)}if(!aE(o))throw ax("JWT Payload must be a top level object",ok,e);let u=aj()+r;if(void 0!==o.exp){if("number"!=typeof o.exp)throw ax('unexpected JWT "exp" (expiration time) claim type',ok,{claims:o});if(o.exp<=u-n)throw ax('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',oO,{claims:o,now:u,tolerance:n,claim:"exp"})}if(void 0!==o.iat&&"number"!=typeof o.iat)throw ax('unexpected JWT "iat" (issued at) claim type',ok,{claims:o});if(void 0!==o.iss&&"string"!=typeof o.iss)throw ax('unexpected JWT "iss" (issuer) claim type',ok,{claims:o});if(void 0!==o.nbf){if("number"!=typeof o.nbf)throw ax('unexpected JWT "nbf" (not before) claim type',ok,{claims:o});if(o.nbf>u+n)throw ax('unexpected JWT "nbf" (not before) claim value',oO,{claims:o,now:u,tolerance:n,claim:"nbf"})}if(void 0!==o.aud&&"string"!=typeof o.aud&&!Array.isArray(o.aud))throw ax('unexpected JWT "aud" (audience) claim type',ok,{claims:o});return{header:a,claims:o,jwt:e}}function oM(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw ax('unexpected JWT "alg" header parameter',ok,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw ax('unexpected JWT "alg" header parameter',ok,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw ax('unexpected JWT "alg" header parameter',ok,{header:n,expected:r,reason:"default value"});return}throw ax('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function oL(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw ax(`"${t}" parameter must be provided only once`,ok);return r}let oq=Symbol(),oH=Symbol();async function oV(e,t=aI){let r;try{r=await e.json()}catch(r){throw t(e),ax('failed to parse "response" body as JSON',oS,r)}if(!aE(r))throw ax('"response" body must be a top level object',ok,{body:r});return r}let oF=Symbol(),oW=Symbol();async function oB(e,t,r){let{cookies:n,logger:i}=r,a=n[e],o=new Date;o.setTime(o.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:o});let s=await nE({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),c={...a.options,expires:o};return{name:a.name,value:s,options:c}}async function oK(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new tp(`${e} cookie was missing`);let o=await nS({...a,token:t,salt:i[e].name});if(o?.value)return o.value;throw Error("Invalid cookie")}catch(t){throw new tp(`${e} value could not be parsed`,{cause:t})}}function oJ(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function oG(e,t){return async function(r,n,i){let{provider:a,logger:o}=i;if(!a?.checks?.includes(e))return;let s=r?.[i.cookies[t].name];o.debug(`USE_${t.toUpperCase()}`,{value:s});let c=await oK(t,s,i);return oJ(t,i,n),c}}let oz={async create(e){let t=aN(),r=await aD(t);return{cookie:await oB("pkceCodeVerifier",t,e),value:r}},use:oG("pkce","pkceCodeVerifier")},oX="encodedState",oQ={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new tp("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:aN()},i=await nE({secret:e.jwt.secret,token:n,salt:oX,maxAge:900});return{cookie:await oB("state",i,e),value:i}},use:oG("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await nS({secret:t.jwt.secret,token:e,salt:oX});if(r)return r;throw Error("Invalid state")}catch(e){throw new tp("State could not be decoded",{cause:e})}}},oY={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=aN();return{cookie:await oB("nonce",t,e),value:t}},use:oG("nonce","nonce")},oZ="encodedWebauthnChallenge",o0={create:async(e,t,r)=>({cookie:await oB("webauthnChallenge",await nE({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:oZ,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await oK("webauthnChallenge",n,e),a=await nS({secret:e.jwt.secret,token:i,salt:oZ});if(oJ("webauthnChallenge",e,r),!a)throw new tp("WebAuthn challenge was missing");return a}};function o1(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function o2(e,t,r){var n,i;let a,o,s,c,l,{logger:u,provider:d}=r,{token:f,userinfo:p}=d;if(f?.url&&"authjs.dev"!==f.url.host||p?.url&&"authjs.dev"!==p.url.host)a={issuer:d.issuer??"https://authjs.dev",token_endpoint:f?.url.toString(),userinfo_endpoint:p?.url.toString()};else{let e=new URL(d.issuer),t=await aP(e,{[au]:!0,[ap]:d[nB]});if(!(a=await aC(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!a.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let h={client_id:d.clientId,...d.client};switch(h.token_endpoint_auth_method){case void 0:case"client_secret_basic":o=(e,t,r,n)=>{var i,a;let o,s,c;n.set("authorization",(i=d.clientId,a=d.clientSecret,o=o1(i),s=o1(a),c=btoa(`${o}:${s}`),`Basic ${c}`))};break;case"client_secret_post":aO(n=d.clientSecret,'"clientSecret"'),o=(e,t,r,i)=>{r.set("client_id",t.client_id),r.set("client_secret",n)};break;case"client_secret_jwt":aO(i=d.clientSecret,'"clientSecret"'),l=void 0,o=async(e,t,r,n)=>{c||=await crypto.subtle.importKey("raw",ay(i),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let a={alg:"HS256"},o=aq(e,t);l?.(a,o);let s=`${aw(ay(JSON.stringify(a)))}.${aw(ay(JSON.stringify(o)))}`,u=await crypto.subtle.sign(c.algorithm,c,ay(s));r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",`${s}.${aw(new Uint8Array(u))}`)};break;case"private_key_jwt":o=function(e,t){let{key:r,kid:n}=e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&aO(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{};var i='"clientPrivateKey.key"';if(!(r instanceof CryptoKey))throw al(`${i} must be a CryptoKey`,ac);if("private"!==r.type)throw al(`${i} must be a private CryptoKey`,as);return async(e,i,a,o)=>{let s={alg:function(e){switch(e.algorithm.name){case"RSA-PSS":switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new a_("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new a_("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new a_("unsupported EcKeyAlgorithm namedCurve",{cause:e})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return e.algorithm.name;case"EdDSA":return"Ed25519";default:throw new a_("unsupported CryptoKey algorithm name",{cause:e})}}(r),kid:n},c=aq(e,i);t?.[ah]?.(s,c),a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await aH(s,c,r))}}(d.token.clientPrivateKey,{[ah](e,t){t.aud=[a.issuer,a.token_endpoint]}});break;case"none":o=(e,t,r,n)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let g=[],m=await oQ.use(t,g,r);try{s=function(e,t,r,n){var i;if(aM(e),aL(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw al('"parameters" must be an instance of URLSearchParams, or URL',ac);if(oL(r,"response"))throw ax('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',ok,{parameters:r});let a=oL(r,"iss"),o=oL(r,"state");if(!a&&e.authorization_response_iss_parameter_supported)throw ax('response parameter "iss" (issuer) missing',ok,{parameters:r});if(a&&a!==e.issuer)throw ax('unexpected "iss" (issuer) response parameter value',ok,{expected:e.issuer,parameters:r});switch(n){case void 0:case oH:if(void 0!==o)throw ax('unexpected "state" response parameter encountered',ok,{expected:void 0,parameters:r});break;case oq:break;default:if(aO(n,'"expectedState" argument'),o!==n)throw ax(void 0===o?'response parameter "state" missing':'unexpected "state" response parameter value',ok,{expected:n,parameters:r})}if(oL(r,"error"))throw new aJ("authorization response from the server is an error",{cause:r});let s=oL(r,"id_token"),c=oL(r,"token");if(void 0!==s||void 0!==c)throw new a_("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),ol.add(i),i}(a,h,new URLSearchParams(e),d.checks.includes("state")?m:oq)}catch(e){if(e instanceof aJ){let t={providerId:d.id,...Object.fromEntries(e.cause.entries())};throw u.debug("OAuthCallbackError",t),new t_("OAuth Provider returned an error",t)}throw e}let b=await oz.use(t,g,r),y=d.callbackUrl;!r.isOnRedirectProxy&&d.redirectProxyUrl&&(y=d.redirectProxyUrl);let w=await od(a,h,o,s,y,b??"decoy",{[au]:!0,[ap]:(...e)=>(d.checks.includes("pkce")||e[1].body.delete("code_verifier"),(d[nB]??fetch)(...e))});d.token?.conform&&(w=await d.token.conform(w.clone())??w);let _={},v="oidc"===d.type;if(d[nK])switch(d.id){case"microsoft-entra-id":case"azure-ad":{let e=await w.clone().json();if(e.error){let t={providerId:d.id,...e};throw new t_(`OAuth Provider returned an error: ${e.error}`,t)}let{tid:t}=function(e){let t,r;if("string"!=typeof e)throw new re("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new re("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new re("Invalid JWT");if(!n)throw new re("JWTs must contain a payload");try{t=t0(n)}catch{throw new re("Failed to base64url decode the payload")}try{r=JSON.parse(tG.decode(t))}catch{throw new re("Failed to parse the decoded payload as JSON")}if(!rD(r))throw new re("Invalid JWT Claims Set");return r}(e.id_token);if("string"==typeof t){let e=a.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(a.issuer.replace(e,t)),n=await aP(r,{[ap]:d[nB]});a=await aC(r,n)}}}let x=await om(a,h,w,{expectedNonce:await oY.use(t,g,r),requireIdToken:v});if(v){let t=or(x);if(_=t,d[nK]&&"apple"===d.id)try{_.user=JSON.parse(e?.user)}catch{}if(!1===d.idToken){let e=await a6(a,h,x.access_token,{[ap]:d[nB],[au]:!0});_=await a4(a,h,t.sub,e)}}else if(p?.request){let e=await p.request({tokens:x,provider:d});e instanceof Object&&(_=e)}else if(p?.url){let e=await a6(a,h,x.access_token,{[ap]:d[nB],[au]:!0});_=await e.json()}else throw TypeError("No userinfo endpoint configured");return x.expires_in&&(x.expires_at=Math.floor(Date.now()/1e3)+Number(x.expires_in)),{...await o5(_,d,x,u),profile:_,cookies:g}}async function o5(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new tv(r,{provider:t.id}))}}async function o6(e,t,r,n){let i=await o7(e,t,r),{cookie:a}=await o0.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function o3(e,t,r,n){let i=await o9(e,t,r),{cookie:a}=await o0.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function o8(e,t,r){let n,{adapter:i,provider:a}=e,o=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!o||"object"!=typeof o||!("id"in o)||"string"!=typeof o.id)throw new tn("Invalid WebAuthn Authentication response");let s=sr(st(o.id)),c=await i.getAuthenticator(s);if(!c)throw new tn(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:s})}`);let{challenge:l}=await o0.use(e,t.cookies,r);try{var u;let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:l,response:o,authenticator:{...u=c,credentialDeviceType:u.credentialDeviceType,transports:sn(u.transports),credentialID:st(u.credentialID),credentialPublicKey:st(u.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new tN(e)}let{verified:d,authenticationInfo:f}=n;if(!d)throw new tN("WebAuthn authentication response could not be verified");try{let{newCounter:e}=f;await i.updateAuthenticatorCounter(c.credentialID,e)}catch(e){throw new ta(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:s,oldCounter:c.counter,newCounter:f.newCounter})}`,e)}let p=await i.getAccount(c.providerAccountId,a.id);if(!p)throw new tn(`WebAuthn account not found in database: ${JSON.stringify({credentialID:s,providerAccountId:c.providerAccountId})}`);let h=await i.getUser(p.userId);if(!h)throw new tn(`WebAuthn user not found in database: ${JSON.stringify({credentialID:s,providerAccountId:c.providerAccountId,userID:p.userId})}`);return{account:p,user:h}}async function o4(e,t,r){var n;let i,{provider:a}=e,o=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!o||"object"!=typeof o||!("id"in o)||"string"!=typeof o.id)throw new tn("Invalid WebAuthn Registration response");let{challenge:s,registerData:c}=await o0.use(e,t.cookies,r);if(!c)throw new tn("Missing user registration data in WebAuthn challenge cookie");try{let r=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:s,response:o,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new tN(e)}if(!i.verified||!i.registrationInfo)throw new tN("WebAuthn registration response could not be verified");let l={providerAccountId:sr(i.registrationInfo.credentialID),provider:e.provider.id,type:a.type},u={providerAccountId:l.providerAccountId,counter:i.registrationInfo.counter,credentialID:sr(i.registrationInfo.credentialID),credentialPublicKey:sr(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=o.response.transports,n?.join(","))};return{user:c,account:l,authenticator:u}}async function o9(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:o.id,allowCredentials:a?.map(e=>({id:st(e.credentialID),type:"public-key",transports:sn(e.transports)}))})}async function o7(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,o=nM(32),s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:o,userName:r.email,userDisplayName:r.name??void 0,rpID:s.id,rpName:s.name,excludeCredentials:a?.map(e=>({id:st(e.credentialID),type:"public-key",transports:sn(e.transports)}))})}function se(e){let{provider:t,adapter:r}=e;if(!r)throw new tg("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new tT("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function st(e){return new Uint8Array(eq.Buffer.from(e,"base64"))}function sr(e){return eq.Buffer.from(e).toString("base64")}function sn(e){return e?e.split(","):void 0}async function si(e,t,r,n){if(!t.provider)throw new tT("Callback route called without provider");let{query:i,body:a,method:o,headers:s}=e,{provider:c,adapter:l,url:u,callbackUrl:d,pages:f,jwt:p,events:h,callbacks:g,session:{strategy:m,maxAge:b},logger:y}=t,w="jwt"===m;try{if("oauth"===c.type||"oidc"===c.type){let o,s=c.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&s?.state){let e=await oQ.decode(s.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(s)}`;return y.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let m=await o2(s,e.cookies,t);m.cookies.length&&n.push(...m.cookies),y.debug("authorization result",m);let{user:_,account:v,profile:x}=m;if(!_||!v||!x)return{redirect:`${u}/signin`,cookies:n};if(l){let{getUserByAccount:e}=l;o=await e({providerAccountId:v.providerAccountId,provider:c.id})}let E=await sa({user:o??_,account:v,profile:x},t);if(E)return{redirect:E,cookies:n};let{user:S,session:k,isNewUser:T}=await aa(r.value,_,v,t);if(w){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},i=await g.jwt({token:e,user:S,account:v,profile:x,isNewUser:T,trigger:T?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await p.encode({...p,token:i,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*b);let s=r.chunk(a,{expires:o});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:k.sessionToken,options:{...t.cookies.sessionToken.options,expires:k.expires}});if(await h.signIn?.({user:S,account:v,profile:x,isNewUser:T}),T&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===c.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let o=c.secret??t.secret,s=await l.useVerificationToken({identifier:a,token:await nj(`${e}${o}`)}),u=!!s,m=u&&s.expires.valueOf()<Date.now();if(!u||m||a&&s.identifier!==a)throw new tP({hasInvite:u,expired:m});let{identifier:y}=s,_=await l.getUserByEmail(y)??{id:crypto.randomUUID(),email:y,emailVerified:null},v={providerAccountId:_.email,userId:_.id,type:"email",provider:c.id},x=await sa({user:_,account:v},t);if(x)return{redirect:x,cookies:n};let{user:E,session:S,isNewUser:k}=await aa(r.value,_,v,t);if(w){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await g.jwt({token:e,user:E,account:v,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await p.encode({...p,token:i,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*b);let s=r.chunk(a,{expires:o});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:S.sessionToken,options:{...t.cookies.sessionToken.options,expires:S.expires}});if(await h.signIn?.({user:E,account:v,isNewUser:k}),k&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===c.type&&"POST"===o){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>u.searchParams.set(e,t));let l=await c.authorize(e,new Request(u,{headers:s,method:o,body:JSON.stringify(a)}));if(l)l.id=l.id?.toString()??crypto.randomUUID();else throw new td;let f={providerAccountId:l.id,type:"credentials",provider:c.id},m=await sa({user:l,account:f,credentials:e},t);if(m)return{redirect:m,cookies:n};let y={name:l.name,email:l.email,picture:l.image,sub:l.id},w=await g.jwt({token:y,user:l,account:f,isNewUser:!1,trigger:"signIn"});if(null===w)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await p.encode({...p,token:w,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*b);let o=r.chunk(i,{expires:a});n.push(...o)}return await h.signIn?.({user:l,account:f}),{redirect:d,cookies:n}}else if("webauthn"===c.type&&"POST"===o){let i,a,o,s=e.body?.action;if("string"!=typeof s||"authenticate"!==s&&"register"!==s)throw new tn("Invalid action parameter");let c=se(t);switch(s){case"authenticate":{let t=await o8(c,e,n);i=t.user,a=t.account;break}case"register":{let r=await o4(t,e,n);i=r.user,a=r.account,o=r.authenticator}}await sa({user:i,account:a},t);let{user:l,isNewUser:u,session:m,account:y}=await aa(r.value,i,a,t);if(!y)throw new tn("Error creating or finding account");if(o&&l.id&&await c.adapter.createAuthenticator({...o,userId:l.id}),w){let e={name:l.name,email:l.email,picture:l.image,sub:l.id?.toString()},i=await g.jwt({token:e,user:l,account:y,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await p.encode({...p,token:i,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*b);let s=r.chunk(a,{expires:o});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await h.signIn?.({user:l,account:y,isNewUser:u}),u&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new tT(`Callback for provider type (${c.type}) is not supported`)}catch(t){if(t instanceof tn)throw t;let e=new ts(t,{provider:c.id});throw y.debug("callback route error details",{method:o,query:i,body:a}),e}}async function sa(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof tn)throw e;throw new to(e)}if(!r)throw new to("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function so(e,t,r,n,i){let{adapter:a,jwt:o,events:s,callbacks:c,logger:l,session:{strategy:u,maxAge:d}}=e,f={body:null,headers:{"Content-Type":"application/json",...!n&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},p=t.value;if(!p)return f;if("jwt"===u){try{let r=e.cookies.sessionToken.name,a=await o.decode({...o,token:p,salt:r});if(!a)throw Error("Invalid JWT");let l=await c.jwt({token:a,...n&&{trigger:"update"},session:i}),u=ai(d);if(null!==l){let e={user:{name:l.name,email:l.email,image:l.picture},expires:u.toISOString()},n=await c.session({session:e,token:l});f.body=n;let i=await o.encode({...o,token:l,salt:r}),a=t.chunk(i,{expires:u});f.cookies?.push(...a),await s.session?.({session:n,token:l})}else f.cookies?.push(...t.clean())}catch(e){l.error(new th(e)),f.cookies?.push(...t.clean())}return f}try{let{getSessionAndUser:r,deleteSession:o,updateSession:l}=a,u=await r(p);if(u&&u.session.expires.valueOf()<Date.now()&&(await o(p),u=null),u){let{user:t,session:r}=u,a=e.session.updateAge,o=r.expires.valueOf()-1e3*d+1e3*a,h=ai(d);o<=Date.now()&&await l({sessionToken:p,expires:h});let g=await c.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});f.body=g,f.cookies?.push({name:e.cookies.sessionToken.name,value:p,options:{...e.cookies.sessionToken.options,expires:h}}),await s.session?.({session:g})}else p&&f.cookies?.push(...t.clean())}catch(e){l.error(new tx(e))}return f}async function ss(e,t){let r,n,{logger:i,provider:a}=t,o=a.authorization?.url;if(!o||"authjs.dev"===o.host){let e=new URL(a.issuer),t=await aP(e,{[ap]:a[nB],[au]:!0}),r=await aC(e,t).catch(t=>{if(!(t instanceof TypeError)||"Invalid URL"!==t.message)throw t;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${e}`)});if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");o=new URL(r.authorization_endpoint)}let s=o.searchParams,c=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(c=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:c,data:n}));let l=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:c,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in l)s.set(e,l[e]);let u=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await oQ.create(t,n);if(d&&(s.set("state",d.value),u.push(d.cookie)),a.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await oz.create(t);s.set("code_challenge",e),s.set("code_challenge_method","S256"),u.push(r)}let f=await oY.create(t);return f&&(s.set("nonce",f.value),u.push(f.cookie)),"oidc"!==a.type||o.searchParams.has("scope")||o.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:o,cookies:u,provider:a}),{redirect:o.toString(),cookies:u}}async function sc(e,t){let r,{body:n}=e,{provider:i,callbacks:a,adapter:o}=t,s=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let t=e.toLowerCase().trim();if(t.includes('"'))throw Error("Invalid email address format.");let[r,n]=t.split("@");if(!r||!n||2!==t.split("@").length||!(n=n.split(",")[0]))throw Error("Invalid email address format.");return`${r}@${n}`})(n?.email),c={id:crypto.randomUUID(),email:s,emailVerified:null},l=await o.getUserByEmail(s)??c,u={providerAccountId:s,userId:l.id,type:"email",provider:i.id};try{r=await a.signIn({user:l,account:u,email:{verificationRequest:!0}})}catch(e){throw new to(e)}if(!r)throw new to("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:f}=t,p=await i.generateVerificationToken?.()??nM(32),h=new Date(Date.now()+(i.maxAge??86400)*1e3),g=i.secret??t.secret,m=new URL(t.basePath,t.url.origin),b=i.sendVerificationRequest({identifier:s,token:p,expires:h,url:`${m}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:p,email:s})}`,provider:i,theme:f,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),y=o.createVerificationToken?.({identifier:s,token:await nj(`${p}${g}`),expires:h});return await Promise.all([b,y]),{redirect:`${m}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function sl(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await ss(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await sc(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function su(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:o,session:s}=r,c=t.value;if(!c)return{redirect:a,cookies:e};try{if("jwt"===s.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:c,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(c);await i.signOut?.({session:e})}}catch(e){o.error(new tE(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function sd(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function sf(e,t,r,n){let i=se(t),{provider:a}=i,{action:o}=e.query??{};if("register"!==o&&"authenticate"!==o&&void 0!==o)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let s=await sd(t,r),c=s?{user:s,exists:!0}:await a.getUserInfo(t,e),l=c?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t)if(!n)return"authenticate";else if(i)return"authenticate";else return"register"}return null}(o,!!s,c)){case"authenticate":return o3(i,e,l,n);case"register":if("string"==typeof l?.email)return o6(i,e,l,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function sp(e,t){let{action:r,providerId:n,error:i,method:a}=e,o=t.skipCSRFCheck===nF,{options:s,cookies:c}=await nY({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:o}),l=new tr(s.cookies.sessionToken,e.cookies,s.logger);if("GET"===a){let t=an({...s,query:e.query,cookies:c});switch(r){case"callback":return await si(e,s,l,c);case"csrf":return t.csrf(o,s,c);case"error":return t.error(i);case"providers":return t.providers(s.providers);case"session":return await so(s,l,c);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await sf(e,s,l,c)}}else{let{csrfTokenVerified:t}=s;switch(r){case"callback":return"credentials"===s.provider.type&&nq(r,t),await si(e,s,l,c);case"session":return nq(r,t),await so(s,l,c,!0,e.body?.data);case"signin":return nq(r,t),await sl(e,c,s);case"signout":return nq(r,t),await su(c,l,s)}}throw new tS(`Cannot handle action: ${r}`)}function sh(e,t,r,n,i){let a,o=i?.basePath,s=n.AUTH_URL??n.NEXTAUTH_URL;if(s)a=new URL(s),o&&"/"!==o&&"/"!==a.pathname&&(a.pathname!==o&&nO(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let c=a.toString().replace(/\/$/,"");if(o){let t=o?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${t}/${e}`)}return new URL(`${c}/${e}`)}async function sg(e,t){let r=nO(t),n=await n$(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!tU&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new tA(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new ty("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!tj(i,r.origin))return new tu(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=tt(t.useSecureCookies??"https:"===r.protocol),o=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(o&&!tj(o,r.origin))return new tu(`Invalid callback URL. Received: ${o}`);let s=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e,{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new tf(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)tM=!0;else if("email"===t.type)tL=!0;else if("webauthn"===t.type){var c;if(tq=!0,t.simpleWebAuthnBrowserVersion&&(c=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(c)))return new tn(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(s)return new tC("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(s=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new tI(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(tM){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new tk("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new tb("Must define an authorize() handler to use credentials authentication provider")}let{adapter:l,session:u}=t,d=[];if(tL||u?.strategy==="database"||!u?.strategy&&l)if(tL){if(!l)return new tg("Email login requires an adapter");d.push(...tH)}else{if(!l)return new tg("Database session requires an adapter");d.push(...tV)}if(tq){if(!t.experimental?.enableWebAuthn)return new t$("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!l)return new tg("WebAuthn requires an adapter");d.push(...tF)}if(l){let e=d.filter(e=>!(e in l));if(e.length)return new tm(`Required adapter methods were missing: ${e.join(", ")}`)}return tU||(tU=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:a}=t,o=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||o)return o&&r.error(new tc(`The error page ${e?.error} should not require authentication`)),nU(an({theme:a}).error("Configuration"));let s=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(s)}let a=e.headers?.has("X-Auth-Return-Redirect"),o=t.raw===nW;try{let e=await sp(n,t);if(o)return e;let r=nU(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof tn;if(i&&o&&!a)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let s=new URLSearchParams({error:d instanceof tn&&tO.has(d.type)?d.type:"Configuration"});d instanceof td&&s.set("code",d.code);let c=i&&d.kind||"error",l=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,u=`${n.url.origin}${l}?${s}`;if(a)return Response.json({url:u});return Response.redirect(u)}}e.i(64445),"undefined"==typeof URLPattern||URLPattern;var Q=Q,Q=Q,ej=ej,sm=e.i(63072),sb=e.i(80082),sy=e.i(51564);function sw(){let e=eX.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}function s_(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new H(n.replace(i,r),e)}function sv(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||nO(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],o=e[`AUTH_${n}_ISSUER`],s=e[`AUTH_${n}_KEY`],c="function"==typeof t?t({clientId:i,clientSecret:a,issuer:o,apiKey:s}):t;return"oauth"===c.type||"oidc"===c.type?(c.clientId??(c.clientId=i),c.clientSecret??(c.clientSecret=a),c.issuer??(c.issuer=o)):"email"===c.type&&(c.apiKey??(c.apiKey=s)),c})}(process.env,e,!0)}}e.s([],85835),e.i(85835);var Q=Q,ej=ej,sx=e.i(40049);let sE={current:null},sS="function"==typeof sx.cache?sx.cache:e=>e,sk=console.warn;function sT(e){return function(...t){sk(e(...t))}}function sA(){let e="cookies",t=Q.workAsyncStorageInstance.getStore(),r=ej.workUnitAsyncStorageInstance.getStore();if(t){if(r&&"after"===r.phase&&!sw())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return sR(Z.seal(new L.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new sb.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let a=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,sA),t.invalidDynamicUsageError??=a,a;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var n=t,i=r;let o=sP.get(i);if(o)return o;let s=(0,sy.makeHangingPromise)(i.renderSignal,n.route,"`cookies()`");return sP.set(i,s),s;case"prerender-client":let c="`cookies`";throw Object.defineProperty(new eL.InvariantError(`${c} must not be used within a Client Component. Next.js should be preventing ${c} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,sm.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,sm.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,sm.delayUntilRuntimeStage)(r,sR(r.cookies));case"private-cache":return sR(r.cookies);case"request":return(0,sm.trackDynamicDataInDynamicRender)(r),sR(er(r)?r.userspaceMutableCookies:r.cookies)}}(0,eU.throwForMissingRequestStore)(e)}sS(e=>{try{sk(sE.current)}finally{sE.current=null}});let sP=new WeakMap;function sR(e){let t=sP.get(e);if(t)return t;let r=Promise.resolve(e);return sP.set(e,r),r}sT(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})});var Q=Q,ej=ej;function sO(){let e="headers",t=Q.workAsyncStorageInstance.getStore(),r=ej.workUnitAsyncStorageInstance.getStore();if(t){if(r&&"after"===r.phase&&!sw())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return sI(X.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,sO),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new sb.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var n=t,i=r;let a=sC.get(i);if(a)return a;let o=(0,sy.makeHangingPromise)(i.renderSignal,n.route,"`headers()`");return sC.set(i,o),o;case"prerender-client":let s="`headers`";throw Object.defineProperty(new eL.InvariantError(`${s} must not be used within a client component. Next.js should be preventing ${s} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,sm.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,sm.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,sm.delayUntilRuntimeStage)(r,sI(r.headers));case"private-cache":return sI(r.headers);case"request":return(0,sm.trackDynamicDataInDynamicRender)(r),sI(r.headers)}}(0,eU.throwForMissingRequestStore)(e)}let sC=new WeakMap;function sI(e){let t=sC.get(e);if(t)return t;let r=Promise.resolve(e);return sC.set(e,r),r}sT(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})});var Q=Q,ej=ej;async function sN(e,t){return sg(new Request(sh("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function sD(e){return"function"==typeof e}function s$(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await sO(),n=await e(void 0);return t?.(n),sN(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),sU([n,i],a)}if(sD(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),sU(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),sN(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve(sO()).then(t=>sN(t,e).then(e=>e.json()));if(t[0]instanceof Request)return sU([t[0],t[1]],e);if(sD(t[0])){let r=t[0];return async(...t)=>sU(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return sN(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function sU(e,t,r){let n=s_(e[0]),i=await sN(n.headers,t),a=await i.json(),o=!0;t.callbacks?.authorized&&(o=await t.callbacks.authorized({request:n,auth:a}));let s=K.next?.();if(o instanceof Response){var c,l,u;let e,r;s=o;let i=o.headers.get("Location"),{pathname:a}=n.nextUrl;i&&(c=a,l=new URL(i).pathname,u=t,e=l.replace(`${c}/`,""),r=Object.values(u.pages??{}),(sj.has(e)||r.includes(l))&&l===c)&&(o=!0)}else if(r)n.auth=a,s=await r(n,e[1])??K.next();else if(!o){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),s=K.redirect(t)}}let d=new Response(s?.body,s);for(let e of i.headers.getSetCookie())d.headers.append("set-cookie",e);return d}e.i(18368),new WeakMap,sT(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})});let sj=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);URLSearchParams;var sM=e.i(16852),sL=e.i(75982);let sq=e.r(91375).actionAsyncStorage;function sH(e,t){throw function(e,t,r=sM.RedirectStatusCode.TemporaryRedirect){let n=Object.defineProperty(Error(sL.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=`${sL.REDIRECT_ERROR_CODE};${t};${e};${r};`,n}(e,t??=sq?.getStore()?.isAction?sL.RedirectType.push:sL.RedirectType.replace,sM.RedirectStatusCode.TemporaryRedirect)}var sV=e.i(68585);function sF(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}async function sW(e,t={},r,n){let i=new Headers(await sO()),{redirect:a=!0,redirectTo:o,...s}=t instanceof FormData?Object.fromEntries(t):t,c=o?.toString()??i.get("Referer")??"/",l=sh("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return l.searchParams.append("callbackUrl",c),a&&sH(l.toString()),l.toString();let u=`${l}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${l}?${new URLSearchParams({callbackUrl:c})}`;return a&&sH(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let f=new Request(u,{method:"POST",headers:i,body:new URLSearchParams({...s,callbackUrl:c})}),p=await sg(f,{...n,raw:nW,skipCSRFCheck:nF}),h=await sA();for(let e of p?.cookies??[])h.set(e.name,e.value,e.options);let g=(p instanceof Response?p.headers.get("Location"):p.redirect)??u;return a?sH(g):g}async function sB(e,t){let r=new Headers(await sO());r.set("Content-Type","application/x-www-form-urlencoded");let n=sh("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),o=await sg(a,{...t,raw:nW,skipCSRFCheck:nF}),s=await sA();for(let e of o?.cookies??[])s.set(e.name,e.value,e.options);return e?.redirect??!0?sH(o.redirect):o}async function sK(e,t){let r=new Headers(await sO());r.set("Content-Type","application/json");let n=new Request(sh("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await sg(n,{...t,raw:nW,skipCSRFCheck:nF}),a=await sA();for(let e of i?.cookies??[])a.set(e.name,e.value,e.options);return i.body}function sJ(e){let t={};for(let r in e)void 0!==e[r]&&(t[r]=e[r]);return{data:t}}sV.HTTP_ERROR_FALLBACK_ERROR_CODE,sV.HTTP_ERROR_FALLBACK_ERROR_CODE,sV.HTTP_ERROR_FALLBACK_ERROR_CODE,e.r(82748).unstable_rethrow,e.s(["unstable_isUnrecognizedActionError",()=>sF],55493),e.i(55493);var sG=e.i(12438),sz=e.i(3466);let sX=globalThis.prisma??new sz.PrismaClient,{handlers:sQ,auth:sY,signIn:sZ,signOut:s0}=function(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return sv(r),sg(s_(t),r)};return{handlers:{GET:t,POST:t},auth:s$(e,e=>sv(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return sv(i),sW(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return sv(r),sB(t,r)},unstable_update:async t=>{let r=await e(void 0);return sv(r),sK(t,r)}}}sv(e);let t=t=>sg(s_(t),e);return{handlers:{GET:t,POST:t},auth:s$(e),signIn:(t,r,n)=>sW(t,r,n,e),signOut:t=>sB(t,e),unstable_update:t=>sK(t,e)}}({adapter:{createUser:({id:e,...t})=>sX.user.create(sJ(t)),getUser:e=>sX.user.findUnique({where:{id:e}}),getUserByEmail:e=>sX.user.findUnique({where:{email:e}}),async getUserByAccount(e){let t=await sX.account.findUnique({where:{provider_providerAccountId:e},include:{user:!0}});return t?.user??null},updateUser:({id:e,...t})=>sX.user.update({where:{id:e},...sJ(t)}),deleteUser:e=>sX.user.delete({where:{id:e}}),linkAccount:e=>sX.account.create({data:e}),unlinkAccount:e=>sX.account.delete({where:{provider_providerAccountId:e}}),async getSessionAndUser(e){let t=await sX.session.findUnique({where:{sessionToken:e},include:{user:!0}});if(!t)return null;let{user:r,...n}=t;return{user:r,session:n}},createSession:e=>sX.session.create(sJ(e)),updateSession:e=>sX.session.update({where:{sessionToken:e.sessionToken},...sJ(e)}),deleteSession:e=>sX.session.delete({where:{sessionToken:e}}),async createVerificationToken(e){let t=await sX.verificationToken.create(sJ(e));return"id"in t&&t.id&&delete t.id,t},async useVerificationToken(e){try{let t=await sX.verificationToken.delete({where:{identifier_token:e}});return"id"in t&&t.id&&delete t.id,t}catch(e){if(e&&"object"==typeof e&&"code"in e&&"P2025"===e.code)return null;throw e}},getAccount:async(e,t)=>sX.account.findFirst({where:{providerAccountId:e,provider:t}}),createAuthenticator:async e=>sX.authenticator.create(sJ(e)),getAuthenticator:async e=>sX.authenticator.findUnique({where:{credentialID:e}}),listAuthenticatorsByUserId:async e=>sX.authenticator.findMany({where:{userId:e}}),updateAuthenticatorCounter:async(e,t)=>sX.authenticator.update({where:{credentialID:e},data:{counter:t}})},session:{strategy:"jwt"},pages:{signIn:"/login"},providers:[{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:{credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let t=await sX.user.findUnique({where:{email:e.email}});return t&&await sG.default.compare(e.password,t.password)?{id:t.id,email:t.email,name:t.name}:null}}}],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id),e)}}),s1=sY(e=>{let{pathname:t}=e.nextUrl,r=["/login","/register","/api/register","/api/auth"].some(e=>t.startsWith(e));if(!e.auth&&!r){let t=e.nextUrl.clone();return t.pathname="/login",K.redirect(t)}return K.next()});e.s(["config",0,{matcher:["/((?!_next/static|_next/image|favicon.ico).*)"]},"default",0,s1],99446);var s2=e.i(99446);e.i(96588);let s5={...s2},s6="/middleware",s3=s5.middleware||s5.default;if("function"!=typeof s3)throw new class extends Error{constructor(e){super(e),this.stack=""}}(`The Middleware file "${s6}" must export a function named \`middleware\` or a default function.`);e.s(["default",0,e=>e9({...e,page:s6,handler:async(...e)=>{try{return await s3(...e)}catch(i){let t=e[0],r=new URL(t.url),n=r.pathname+r.search;throw await d(i,{path:n,method:t.method,headers:Object.fromEntries(t.headers.entries())},{routerKind:"Pages Router",routePath:"/proxy",routeType:"proxy",revalidateReason:void 0}),i}}})],42738)}]);

//# sourceMappingURL=%5Broot-of-the-server%5D__6ba75884._.js.map