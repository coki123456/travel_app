module.exports=[67368,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131);function e({date:a,initialCity:e,initialSummary:f,initialJournal:g}){let h=(0,c.useRouter)(),[i,j]=(0,d.useState)(e??""),[k,l]=(0,d.useState)(f??""),[m,n]=(0,d.useState)(g??""),[o,p]=(0,d.useState)(null),[q,r]=(0,d.useState)(!1),s=async b=>{b.preventDefault(),p(null),r(!0);try{let b=await fetch("/api/days",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a,city:i,summary:k,journal:m})});if(!b.ok){let a=await b.json().catch(()=>null);p(a?.error??"No se pudo guardar el dia.");return}h.refresh()}catch(a){p("No se pudo conectar con el servidor.")}finally{r(!1)}};return(0,b.jsx)("form",{onSubmit:s,className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg shadow-black/30",children:(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-200",children:"Ciudad (opcional)"}),(0,b.jsx)("input",{className:"mt-2 w-full rounded-2xl border border-slate-700 bg-slate-950/40 px-4 py-3 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",placeholder:"Ej: Bariloche",value:i,onChange:a=>j(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-200",children:"Resumen del dia"}),(0,b.jsx)("textarea",{rows:3,className:"mt-2 w-full rounded-2xl border border-slate-700 bg-slate-950/40 px-4 py-3 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",placeholder:"Ej: Trekking y cena en el centro.",value:k,onChange:a=>l(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-200",children:"Diario del dia"}),(0,b.jsx)("textarea",{rows:6,className:"mt-2 w-full rounded-2xl border border-slate-700 bg-slate-950/40 px-4 py-3 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",placeholder:"Notas mas largas del dia.",value:m,onChange:a=>n(a.target.value)})]}),o?(0,b.jsx)("div",{className:"rounded-2xl border border-rose-500/30 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:o}):null,(0,b.jsx)("button",{type:"submit",disabled:q,className:"rounded-2xl bg-cyan-400 px-5 py-3 text-sm font-semibold text-slate-950 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:opacity-70",children:q?"Guardando...":"Guardar dia"})]})})}a.s(["default",()=>e])},87349,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131);let e=[{value:"ALL_DAY",label:"Todo el dia"},{value:"MORNING",label:"Manana"},{value:"AFTERNOON",label:"Tarde"},{value:"EVENING",label:"Noche"}],f=[{value:"HOTEL",label:"Hotel"},{value:"FLIGHT",label:"Vuelo"},{value:"ATTRACTION",label:"Atraccion"},{value:"FOOD",label:"Comida"},{value:"TRANSFER",label:"Traslado"},{value:"NOTE",label:"Nota"}];function g({date:a,items:g}){let h=(0,c.useRouter)(),[i,j]=(0,d.useState)(""),[k,l]=(0,d.useState)(""),[m,n]=(0,d.useState)("NOTE"),[o,p]=(0,d.useState)("ALL_DAY"),[q,r]=(0,d.useState)(null),[s,t]=(0,d.useState)(!1),[u,v]=(0,d.useState)(null),[w,x]=(0,d.useState)(""),[y,z]=(0,d.useState)(""),[A,B]=(0,d.useState)("NOTE"),[C,D]=(0,d.useState)("ALL_DAY"),E=(0,d.useMemo)(()=>e.map(a=>({block:a.value,label:a.label,items:g.filter(b=>b.block===a.value)})),[g]),F=()=>{v(null),x(""),z(""),B("NOTE"),D("ALL_DAY")},G=async b=>{if(b.preventDefault(),r(null),!i.trim())return void r("Completa el titulo.");t(!0);try{let b=await fetch("/api/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a,block:o,type:m,title:i,description:k})});if(!b.ok){let a=await b.json().catch(()=>null);r(a?.error??"No se pudo guardar el elemento.");return}j(""),l(""),n("NOTE"),p("ALL_DAY"),h.refresh()}catch(a){r("No se pudo conectar con el servidor.")}finally{t(!1)}},H=async()=>{if(u){r(null),t(!0);try{let a=await fetch(`/api/items/${u}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:w,description:y,type:A,block:C})});if(!a.ok){let b=await a.json().catch(()=>null);r(b?.error??"No se pudo guardar el elemento.");return}F(),h.refresh()}catch(a){r("No se pudo conectar con el servidor.")}finally{t(!1)}}},I=async a=>{if(window.confirm("Eliminar este elemento?")){r(null),t(!0);try{let b=await fetch(`/api/items/${a}`,{method:"DELETE"});if(!b.ok){let a=await b.json().catch(()=>null);r(a?.error??"No se pudo eliminar el elemento.");return}h.refresh()}catch(a){r("No se pudo conectar con el servidor.")}finally{t(!1)}}};return(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg shadow-black/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-100",children:"Elementos del dia"}),(0,b.jsxs)("span",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:[g.length," elementos"]})]}),(0,b.jsx)("div",{className:"mt-5 space-y-6",children:E.map(a=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,b.jsx)("span",{className:"uppercase tracking-[0.3em]",children:a.label}),(0,b.jsx)("span",{children:a.items.length})]}),0===a.items.length?(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-700 bg-slate-900/40 p-4 text-sm text-slate-400",children:"Sin elementos todavia."}):(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:a.items.map(a=>{let c;return(0,b.jsx)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg shadow-black/20",children:u===a.id?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Bloque"}),(0,b.jsx)("select",{className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",value:C,onChange:a=>D(a.target.value),children:e.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Tipo"}),(0,b.jsx)("select",{className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",value:A,onChange:a=>B(a.target.value),children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Titulo"}),(0,b.jsx)("input",{className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",value:w,onChange:a=>x(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Descripcion"}),(0,b.jsx)("textarea",{rows:3,className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",value:y,onChange:a=>z(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:H,disabled:s,className:"rounded-xl bg-cyan-400 px-4 py-2 text-xs font-semibold text-slate-950 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:opacity-70",children:"Guardar"}),(0,b.jsx)("button",{type:"button",onClick:F,className:"rounded-xl border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 transition hover:border-slate-500",children:"Cancelar"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex items-center justify-between text-xs text-slate-400",children:(0,b.jsx)("span",{className:"uppercase tracking-[0.2em]",children:(c=a.type,f.find(a=>a.value===c)?.label??c)})}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-semibold text-slate-100",children:a.title}),a.description?(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:a.description}):null,(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{v(a.id),x(a.title),z(a.description??""),B(a.type),D(a.block)},className:"rounded-xl border border-slate-700 px-3 py-2 text-xs font-semibold text-slate-200 transition hover:border-slate-500",children:"Editar"}),(0,b.jsx)("button",{type:"button",onClick:()=>I(a.id),className:"rounded-xl border border-rose-500/40 px-3 py-2 text-xs font-semibold text-rose-200 transition hover:border-rose-400",children:"Eliminar"})]})]})},a.id)})})]},a.block))}),(0,b.jsxs)("form",{onSubmit:G,className:"mt-6 grid gap-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Bloque"}),(0,b.jsx)("select",{className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",value:o,onChange:a=>p(a.target.value),children:e.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Tipo"}),(0,b.jsx)("select",{className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",value:m,onChange:a=>n(a.target.value),children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Titulo"}),(0,b.jsx)("input",{className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",placeholder:"Ej: Check-in del hotel",value:i,onChange:a=>j(a.target.value)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Descripcion"}),(0,b.jsx)("textarea",{rows:3,className:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950/40 px-3 py-2 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70",placeholder:"Detalles o notas.",value:k,onChange:a=>l(a.target.value)})]}),q?(0,b.jsx)("div",{className:"rounded-2xl border border-rose-500/30 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:q}):null,(0,b.jsx)("button",{type:"submit",disabled:s,className:"rounded-2xl bg-cyan-400 px-5 py-3 text-sm font-semibold text-slate-950 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:opacity-70",children:s?"Guardando...":"Agregar elemento"})]})]})}a.s(["default",()=>g])},7312,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131);function e({date:a,attachments:e}){let f=(0,c.useRouter)(),[g,h]=(0,d.useState)(null),[i,j]=(0,d.useState)(null),[k,l]=(0,d.useState)(!1),m=async b=>{if(b.preventDefault(),j(null),!g)return void j("Selecciona un archivo.");let c=new FormData;c.append("file",g),c.append("date",a),l(!0);try{let a=await fetch("/api/attachments",{method:"POST",body:c});if(!a.ok){let b=await a.json().catch(()=>null);j(b?.error??"No se pudo subir el archivo.");return}h(null),f.refresh()}catch(a){j("No se pudo conectar con el servidor.")}finally{l(!1)}};return(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg shadow-black/30",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-100",children:"Adjuntos"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:"PDF o imagenes (JPG, PNG, WEBP)."}),(0,b.jsxs)("form",{onSubmit:m,className:"mt-4 grid gap-3",children:[(0,b.jsx)("input",{type:"file",accept:".pdf,image/jpeg,image/png,image/webp",className:"block w-full text-sm text-slate-300 file:mr-4 file:rounded-xl file:border-0 file:bg-cyan-400 file:px-4 file:py-2 file:text-xs file:font-semibold file:text-slate-950",onChange:a=>{h(a.target.files?.[0]??null)}}),i?(0,b.jsx)("div",{className:"rounded-2xl border border-rose-500/30 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:i}):null,(0,b.jsx)("button",{type:"submit",disabled:k,className:"rounded-2xl bg-cyan-400 px-5 py-3 text-sm font-semibold text-slate-950 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:opacity-70",children:k?"Subiendo...":"Subir archivo"})]}),(0,b.jsx)("div",{className:"mt-5 space-y-3",children:0===e.length?(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-700 bg-slate-900/40 p-4 text-sm text-slate-400",children:"Sin adjuntos todavia."}):e.map(a=>(0,b.jsxs)("a",{href:a.path,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between rounded-2xl border border-slate-800 bg-slate-900/70 px-4 py-3 text-sm text-slate-200 shadow-lg shadow-black/20 transition hover:border-slate-600",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-semibold text-slate-100",children:a.fileName}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:[a.mimeType," - ",(a=>{if(a<1024)return`${a} B`;let b=a/1024;if(b<1024)return`${b.toFixed(1)} KB`;let c=b/1024;return`${c.toFixed(1)} MB`})(a.sizeBytes)]})]}),(0,b.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Ver"})]},a.id))})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_day_%5Bdate%5D_a9f469e8._.js.map