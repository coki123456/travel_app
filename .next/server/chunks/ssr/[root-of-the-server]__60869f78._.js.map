{"version":3,"sources":["../../../../app/setup/SetupForm.tsx/__nextjs-internal-proxy.mjs","../../../../app/setup/TripList.tsx/__nextjs-internal-proxy.mjs","../../../../app/setup/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/setup/SetupForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/setup/SetupForm.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/setup/TripList.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/setup/TripList.tsx\",\n    \"default\",\n);\n","import { redirect } from \"next/navigation\";\r\nimport { auth } from \"@/lib/auth\";\r\nimport prisma from \"@/lib/prisma\";\r\nimport SetupForm from \"./SetupForm\";\r\nimport TripList from \"./TripList\";\r\nimport LogoutButton from \"../LogoutButton\";\r\n\r\nexport const dynamic = \"force-dynamic\";\r\n\r\nexport default async function SetupPage({\r\n  searchParams,\r\n}: {\r\n  searchParams?: Promise<{ edit?: string }>;\r\n}) {\r\n  const session = await auth();\r\n  if (!session?.user) {\r\n    redirect(\"/login\");\r\n  }\r\n\r\n  const trips = await prisma.trip.findMany({\r\n    where: {\r\n      OR: [\r\n        { ownerId: session.user.id },\r\n        { sharedWith: { some: { userId: session.user.id } } },\r\n      ],\r\n    },\r\n    orderBy: { createdAt: \"desc\" },\r\n  });\r\n\r\n  const resolvedSearchParams = await searchParams;\r\n  const editId = resolvedSearchParams?.edit;\r\n  const editingTrip = editId\r\n    ? trips.find((trip) => trip.id === editId)\r\n    : null;\r\n\r\n  const tripList = trips.map((trip) => ({\r\n    id: trip.id,\r\n    name: trip.name,\r\n    destinations: trip.destinations,\r\n    dates: `${trip.startDate.toLocaleDateString(\"es-AR\")} - ${trip.endDate.toLocaleDateString(\"es-AR\")}`,\r\n  }));\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-transparent px-6 py-12 text-slate-100\">\r\n      <div className=\"mx-auto flex w-full max-w-4xl flex-col gap-8\">\r\n        <header className=\"flex flex-col gap-3\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex flex-col gap-3\">\r\n              <span className=\"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500\">\r\n                App Viaje\r\n              </span>\r\n              <h1 className=\"text-3xl font-semibold tracking-tight text-slate-100 sm:text-4xl\">\r\n                Configurar viaje\r\n              </h1>\r\n              <p className=\"max-w-2xl text-sm text-slate-300 sm:text-base\">\r\n                Carga la info principal del viaje para empezar a planificar el\r\n                calendario y los bloques diarios.\r\n              </p>\r\n            </div>\r\n            <LogoutButton />\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"grid gap-6 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)]\">\r\n          <section className=\"flex flex-col gap-4\">\r\n            <TripList trips={tripList} />\r\n          </section>\r\n\r\n          <aside className=\"flex flex-col gap-4\">\r\n            <SetupForm\r\n              initialTrip={\r\n                editingTrip\r\n                  ? {\r\n                      id: editingTrip.id,\r\n                      name: editingTrip.name,\r\n                      startDate: editingTrip.startDate\r\n                        .toISOString()\r\n                        .slice(0, 10),\r\n                      endDate: editingTrip.endDate.toISOString().slice(0, 10),\r\n                      destinations: editingTrip.destinations,\r\n                    }\r\n                  : null\r\n              }\r\n            />\r\n            <div className=\"rounded-3xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg shadow-black/30\">\r\n              <h3 className=\"text-sm font-semibold text-slate-100\">\r\n                Que podes hacer\r\n              </h3>\r\n              <ul className=\"mt-3 space-y-2 text-sm text-slate-300\">\r\n                <li>Definir fechas del viaje.</li>\r\n                <li>Cargar destinos principales.</li>\r\n                <li>Empezar el calendario dia por dia.</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"rounded-3xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg shadow-black/30\">\r\n              <h3 className=\"text-sm font-semibold text-slate-100\">\r\n                Siguiente paso\r\n              </h3>\r\n              <p className=\"mt-3 text-sm text-slate-300\">\r\n                Una vez creado el viaje, vas a poder completar bloques (manana,\r\n                tarde, noche, todo el dia) y adjuntar archivos.\r\n              </p>\r\n            </div>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1]}