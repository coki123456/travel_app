module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},63021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},790,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))},84707,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js"))},97647,a=>{"use strict";a.i(790);var b=a.i(84707);a.n(b)},95936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return i},useLinkStatus:function(){return h.useLinkStatus}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(64240),g=a.r(7997),h=f._(a.r(97647));function i(a){let b=a.legacyBehavior,c="string"==typeof a.children||"number"==typeof a.children||"string"==typeof a.children?.type,d=a.children?.type?.$$typeof===Symbol.for("react.client.reference");return!b||c||d||(a.children?.type?.$$typeof===Symbol.for("react.lazy")?console.error("Using a Lazy Component as a direct child of `<Link legacyBehavior>` from a Server Component is not supported. If you need legacyBehavior, wrap your Lazy Component in a Client Component that renders the Link's `<a>` tag."):console.error("Using a Server Component as a direct child of `<Link legacyBehavior>` is not supported. If you need legacyBehavior, wrap your Server Component in a Client Component that renders the Link's `<a>` tag.")),(0,g.jsx)(h.default,{...a})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},22841,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/TripSelector.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/TripSelector.tsx <module evaluation>","default")},29377,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/TripSelector.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/TripSelector.tsx","default")},33443,a=>{"use strict";a.i(22841);var b=a.i(29377);a.n(b)},50708,a=>{"use strict";var b=a.i(7997),c=a.i(95936);a.i(70396);var d=a.i(73727),e=a.i(5246),f=a.i(9223),g=a.i(31191),h=a.i(33443),i=a.i(69554);let j=a=>{let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`},k=a=>new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0),l=a=>new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);async function m(){let a=await (0,f.auth)();a?.user||(0,d.redirect)("/login");let m=await (0,e.cookies)(),n=m.get("activeTripId")?.value,[o,p]=await Promise.all([n?g.default.trip.findFirst({where:{id:n,OR:[{ownerId:a.user.id},{sharedWith:{some:{userId:a.user.id}}}]}}):null,g.default.trip.findMany({where:{OR:[{ownerId:a.user.id},{sharedWith:{some:{userId:a.user.id}}}]},orderBy:{createdAt:"desc"},select:{id:!0,name:!0}})]);o||(0,d.redirect)("/setup");let q=new Map((await g.default.day.findMany({where:{date:{gte:o.startDate,lte:o.endDate}},orderBy:{date:"asc"}})).map(a=>[j(a.date),a])),r=((a,b)=>{let c=[],d=k(a),e=k(b);for(;d<=e;)c.push(new Date(d)),d.setDate(d.getDate()+1);return c})(o.startDate,o.endDate),s=l(new Date),t=Array.from(r.reduce((a,b)=>{let c=`${b.getFullYear()}-${b.getMonth()}`,d=a.get(c)??[];return d.push(b),a.set(c,d),a},new Map)).map(([,a])=>a);return(0,b.jsx)("div",{className:"min-h-screen bg-transparent px-3 py-4 text-slate-100 sm:px-6 sm:py-8 lg:px-8 lg:py-12",children:(0,b.jsxs)("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-6 sm:gap-8 md:gap-10 animate-in",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-4 sm:gap-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-600 to-cyan-600 shadow-lg shadow-blue-500/30",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-[0.25em] sm:tracking-[0.3em] text-slate-400",children:"App Viaje"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-start lg:justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold gradient-text sm:text-4xl lg:text-5xl",children:o.name}),(0,b.jsx)(h.default,{trips:p,activeTripId:n??null})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[(0,b.jsxs)(c.default,{href:"/setup",className:"btn-secondary text-xs sm:text-sm px-3 sm:px-4 py-2 sm:py-2.5",children:[(0,b.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Cambiar viaje"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Viaje"})]}),(0,b.jsxs)(c.default,{href:"/book",className:"btn-secondary text-xs sm:text-sm px-3 sm:px-4 py-2 sm:py-2.5",children:[(0,b.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Libro del viaje"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Libro"})]}),(0,b.jsx)(i.default,{})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsxs)("p",{className:"text-xs sm:text-sm font-medium",children:[o.startDate.toLocaleDateString("es-AR")," - ",o.endDate.toLocaleDateString("es-AR")]})]})]}),(0,b.jsxs)("section",{className:"grid gap-4 sm:gap-6 lg:gap-8 xl:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[(0,b.jsx)("div",{className:"flex flex-col gap-4 sm:gap-5 md:gap-6",children:t.map((a,d)=>{let e=a[0],f=e.toLocaleDateString("es-AR",{month:"long",year:"numeric"}),g=(a=>{if(0===a.length)return[];let b=a[0],c=b.getFullYear(),d=b.getMonth(),e=new Date(c,d,1),f=new Date(c,d+1,0).getDate(),g=e.getDay(),h=[];for(let a=0;a<g;a+=1)h.push(null);for(let a=1;a<=f;a+=1)h.push(new Date(c,d,a,12,0,0));let i=[];for(let a=0;a<h.length;a+=7)i.push(h.slice(a,a+7));return i})(a);return(0,b.jsxs)("div",{className:"card-elevated p-4 sm:p-5 md:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-5",children:[(0,b.jsx)("div",{className:"w-0.5 sm:w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-slate-100 capitalize",children:f})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 text-[10px] sm:text-xs font-semibold text-slate-400 mb-2",children:["dom","lun","mar","mie","jue","vie","sab"].map(a=>(0,b.jsxs)("div",{className:"text-center uppercase tracking-wider",children:[(0,b.jsx)("span",{className:"hidden sm:inline",children:a}),(0,b.jsx)("span",{className:"sm:hidden",children:a[0]})]},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:g.flat().map((a,d)=>{if(!a)return(0,b.jsx)("div",{className:"h-10 sm:h-12 md:h-14"},`empty-${d}`);let e=j(a),f=q.get(e),g=a>=o.startDate&&a<=o.endDate,h=l(a),i=h<s,k=h.getTime()===s.getTime();return(0,b.jsx)(c.default,{href:`/day/${e}`,className:["flex h-10 sm:h-12 md:h-14 items-center justify-center rounded-lg sm:rounded-xl text-xs sm:text-sm md:text-base font-semibold transition-all duration-200",g?["border border-slate-700 hover:border-blue-500/50 active:scale-95 sm:hover:scale-105",i?"bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 text-emerald-100":"bg-slate-800/60 text-slate-100",k?"ring-1 sm:ring-2 ring-blue-500 shadow-lg shadow-blue-500/30":""].join(" "):"text-slate-600"].join(" "),children:(0,b.jsxs)("span",{className:"relative flex items-center justify-center",children:[a.getDate(),f?.summary?(0,b.jsxs)("span",{className:"absolute -right-1 -top-1 sm:-right-1.5 sm:-top-1.5 flex h-1.5 w-1.5 sm:h-2 sm:w-2",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 sm:h-2 sm:w-2 bg-blue-500"})]}):null,i&&!k?(0,b.jsx)("span",{className:"absolute -left-0.5 -top-0.5 sm:-left-1 sm:-top-1 text-[8px] sm:text-[10px]",children:"✓"}):null]})},e)})})]},`${e.getFullYear()}-${e.getMonth()}-${d}`)})}),(0,b.jsxs)("aside",{className:"flex flex-col gap-4 sm:gap-5",children:[(0,b.jsx)("div",{className:"card-elevated p-4 sm:p-5 md:p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-600 to-cyan-600",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm sm:text-base font-bold text-slate-100",children:"Resumen por día"}),(0,b.jsx)("p",{className:"text-[10px] sm:text-xs text-slate-400",children:"Tus notas rápidas"})]})]})}),(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-1",children:r.map(a=>{let d=j(a),e=q.get(d),f=l(a),g=f<s,h=f.getTime()===s.getTime();return(0,b.jsxs)(c.default,{href:`/day/${d}`,className:["card p-3 sm:p-4 active:scale-[0.98] sm:hover:scale-[1.02] transition-all duration-200",g?"bg-emerald-500/5 border-emerald-500/20":"",h?"ring-1 sm:ring-2 ring-blue-500 shadow-lg shadow-blue-500/20":""].join(" "),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-[10px] sm:text-xs font-semibold",children:[(0,b.jsx)("span",{className:"uppercase tracking-wider text-slate-400",children:a.toLocaleDateString("es-AR",{weekday:"short",day:"2-digit",month:"short"})}),e?.city&&(0,b.jsx)("span",{className:"badge badge-primary text-[9px] sm:text-[10px] px-2 py-0.5",children:e.city})]}),(0,b.jsx)("p",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-slate-200 line-clamp-2",children:e?.summary??"Sin resumen todavía."}),(0,b.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center gap-1.5 sm:gap-2",children:[(0,b.jsx)("span",{className:["h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full",h?"bg-blue-400 shadow-lg shadow-blue-500/50":g?"bg-emerald-400":"bg-slate-500"].join(" ")}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs font-medium text-slate-400",children:h?"Hoy":g?"Completado":"Próximo"})]})]},d)})})]})]})]})})}a.s(["default",()=>m,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__774623f0._.js.map