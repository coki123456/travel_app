{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/esteb/Desktop/travel_app/app/TripSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\n\ntype TripOption = {\n  id: string;\n  name: string;\n};\n\ntype TripSelectorProps = {\n  trips: TripOption[];\n  activeTripId: string | null;\n};\n\nexport default function TripSelector({\n  trips,\n  activeTripId,\n}: TripSelectorProps) {\n  const router = useRouter();\n  const [selected, setSelected] = useState(activeTripId ?? \"\");\n  const [error, setError] = useState<string | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const onChange = async (value: string) => {\n    setSelected(value);\n    setError(null);\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch(\"/api/trip/active\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ id: value }),\n      });\n\n      if (!response.ok) {\n        const data = await response.json().catch(() => null);\n        setError(data?.error ?? \"No se pudo cambiar el viaje.\");\n        return;\n      }\n\n      router.refresh();\n    } catch (err) {\n      setError(\"No se pudo conectar con el servidor.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <label className=\"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500\">\n        Viaje activo\n      </label>\n      <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\n        <select\n          value={selected}\n          onChange={(event) => onChange(event.target.value)}\n          disabled={isSubmitting}\n          className=\"h-10 rounded-2xl border border-slate-700 bg-slate-900/70 px-4 text-sm text-slate-100 outline-none transition focus:border-cyan-400/70 disabled:cursor-not-allowed disabled:opacity-70\"\n        >\n          {trips.map((trip) => (\n            <option key={trip.id} value={trip.id}>\n              {trip.name}\n            </option>\n          ))}\n        </select>\n        {isSubmitting ? (\n          <span className=\"text-xs text-slate-400\">Cambiando...</span>\n        ) : null}\n      </div>\n      {error ? <span className=\"text-xs text-rose-200\">{error}</span> : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAee,SAAS,aAAa,EACnC,KAAK,EACL,YAAY,EACM;IAClB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,gBAAgB;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,WAAW,OAAO;QACtB,YAAY;QACZ,SAAS;QACT,gBAAgB;QAEhB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,oBAAoB;gBAC/C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,IAAI;gBAAM;YACnC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;gBAC/C,SAAS,MAAM,SAAS;gBACxB;YACF;YAEA,OAAO,OAAO;QAChB,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;0BAAkE;;;;;;0BAGnF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,QAAU,SAAS,MAAM,MAAM,CAAC,KAAK;wBAChD,UAAU;wBACV,WAAU;kCAET,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gCAAqB,OAAO,KAAK,EAAE;0CACjC,KAAK,IAAI;+BADC,KAAK,EAAE;;;;;;;;;;oBAKvB,6BACC,8OAAC;wBAAK,WAAU;kCAAyB;;;;;+BACvC;;;;;;;YAEL,sBAAQ,8OAAC;gBAAK,WAAU;0BAAyB;;;;;uBAAgB;;;;;;;AAGxE"}}]
}